opd.prototype.g_=W(1381,function(){var a=uS(this.F,void 0);a&&this.C.interceptingAcceptSuggestion(a,void 0,u(function(b){var c=this.Ea;0!=b&&(c.C[void 0]||qc(c.C,void 0,[]),0>c.C[void 0].indexOf(b)&&c.C[void 0].push(b))},this))});dia.prototype.cea=W(6,function(){throw Dca("setValue not supported").C;});rda.prototype.H=W(1,function(){throw Dca("remove").C;});Uda.prototype.H=W(0,function(){this.J.splice(this.F,1);this.F--});function Rqh(a,b){a.wS=b.wS;return a}
function Sqh(a,b,c){for(a=a.qj();a.C();){var d=a.D();if(wb(b,d))return c&&a.H(),!0}return!1}function Tqh(a,b,c){return a.HX(b)?a.nva(b,c):null}function Uqh(a,b){var c=b.hs();b=b.ls();var d=a.get(c);return!wb(b,d)||null==d&&!a.HX(c)?!1:!0}function Vqh(a){return a?a.ls():null}function Wqh(a){if(a.F.C())return!0;if(!Ta(a.F,a.R))return!1;a.F=a.L.C.qj();return a.F.C()}function Xqh(a,b){return(a=a.C.get(b))?a:[]}
function Yqh(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(wb(a,d.hs()))return d}return null}function Zqh(a,b){var c=a.C.get(b);if(void 0===c)a.D++;else{var d=a.C;d["delete"].call(d,b);a.F--}return c}function $qh(a,b,c){var d=a.C.get(b);a.C.set(b,void 0===c?null:c);void 0===d?a.F++:a.D++;return d}function arh(a,b){for(b=b.qj();b.C();){var c=b.D().ls();if(wb(a,c))return!0}return!1}function brh(){this.J=this.F=0}t(brh,Sa);brh.prototype.C=function(){return this.F<this.L.size()};
brh.prototype.D=function(){this.C();return this.L.ioa(this.J=this.F++)};brh.prototype.H=function(){this.L.Rga(this.J);this.F=this.J;this.J=-1};function crh(){brh.call(this)}t(crh,brh);function drh(){this.J=!1}t(drh,Sa);drh.prototype.C=g("J");drh.prototype.D=function(){this.C();this.O=this.F;var a=this.F.D();this.J=Wqh(this);return a};drh.prototype.H=function(){this.O.H();this.O=null;this.J=Wqh(this)};function erh(){}t(erh,Sa);erh.prototype.C=function(){return this.F.C()};erh.prototype.D=function(){return this.F.D().ls()};
erh.prototype.H=function(){this.F.H()};function frh(){}t(frh,Sa);frh.prototype.C=function(){return this.F.C()};frh.prototype.D=function(){return this.F.D().hs()};frh.prototype.H=function(){this.F.H()};function grh(){this.F=this.J=0}t(grh,Sa);grh.prototype.C=function(){return this.J<this.L.C.length};grh.prototype.D=function(){this.C();this.F=this.J++;return this.L.C[this.F]};grh.prototype.H=function(){this.L.Rga(this.J=this.F);this.F=-1};function hrh(a){var b;null==a?b=0:b=Ab(a)|0;return b}
function irh(a,b){for(var c=hrh(b),d=Xqh(a,c),e=0;e<d.length;e++){var f=d[e];if(wb(b,f.hs()))return 1==d.length?(d.length=0,b=a.C,b["delete"].call(b,c)):d.splice(e,1),a.D--,f.ls()}return null}function jrh(){this.F=0}t(jrh,Sa);jrh.prototype.C=function(){if(this.F<this.J.length)return!0;var a=this.R.next();return a.done?!1:(this.J=a.value[1],this.F=0,!0)};jrh.prototype.D=function(){return this.L=this.J[this.F++]};jrh.prototype.H=function(){irh(this.O,this.L.hs());0!=this.F&&this.F--};
function krh(){this.D=0}t(krh,Sa);krh.prototype.qj=function(){var a=new jrh;a.O=this;a.R=a.O.C.entries();a.F=0;a.J=[];a.L=null;return a};function lrh(a){var b=0;for(a=a.qj();a.C();){var c=a.D();b+=Sba(c);b|=0}return b}function mrh(){}t(mrh,Sa);mrh.prototype.equals=function(a){return null!=a&&a.qZ?wb(this.hs(),a.hs())&&wb(this.ls(),a.ls()):!1};mrh.prototype.xk=function(){return Sba(this.hs())^Sba(this.ls())};mrh.prototype.toString=function(){return Ua(this.hs())+"="+Ua(this.ls())};
mrh.prototype.qZ=!0;function nrh(){this.F=0}t(nrh,mrh);nrh.prototype.hs=function(){return this.C.value[0]};nrh.prototype.ls=function(){return this.D.D!=this.F?this.D.C.get(this.C.value[0]):this.C.value[1]};nrh.prototype.cea=function(a){return $qh(this.D,this.C.value[0],a)};function orh(){}t(orh,Sa);orh.prototype.C=function(){return!this.J.done};orh.prototype.D=function(){this.O=this.J;this.J=this.L.next();var a=new nrh,b=this.O,c=this.F.D;a.D=this.F;a.C=b;a.F=c;return a};
orh.prototype.H=function(){Zqh(this.F,this.O.value[0])};function prh(){this.D=this.F=0}t(prh,Sa);prh.prototype.qj=function(){var a=new orh;a.F=this;a.L=a.F.C.entries();a.J=a.L.next();return a};function qrh(a){var b=new krh;b.C=new Map;b.F=a;a.C=b;b=new prh;b.C=new Map;b.H=a;a.D=b}function rrh(a,b){return Ta(b,a)?"(this Map)":Ua(b)}function srh(){}t(srh,Sa);srh.prototype.toString=function(){return this.C?Ub(this.D)?this.C.toString():Ua(this.C.toString())+Ua(this.D):this.J};
function trh(a,b){var c=new srh;c.H=", ".toString();c.F=a.toString();c.D=b.toString();c.J=Ua(c.F)+Ua(c.D);return c}function urh(a,b){a.C?Db(a.C,a.H):a.C=$ba(a.F);a=a.C;a.Ep=Ua(a.Ep)+Ua(b)}function vrh(){}t(vrh,Sa);m=vrh.prototype;m.hs=g("D");m.ls=g("C");m.cea=function(a){var b=this.C;this.C=a;return b};m.equals=function(a){return null!=a&&a.qZ?wb(this.D,a.hs())&&wb(this.C,a.ls()):!1};m.xk=function(){return Sba(this.D)^Sba(this.C)};m.toString=function(){return Ua(this.D)+"="+Ua(this.C)};m.qZ=!0;
function wrh(){}t(wrh,vrh);function xrh(a,b){var c=new wrh;c.D=a;c.C=b;return c}function yrh(a,b,c){var d=hrh(b),e=Xqh(a,d);if(0==e.length)a.C.set(d,e);else if(d=Yqh(b,e))return d.cea(c);e[e.length]=xrh(b,c);a.D++;return null}function zrh(a,b,c){for(a=a.wG().qj();a.C();){var d=a.D();if(wb(b,d.hs()))return c&&(d=xrh(d.hs(),d.ls()),a.H()),d}return null}function Arh(){}t(Arh,Sa);m=Arh.prototype;m.add=function(){throw Dca("Add not supported on this collection").C;};
m.clear=function(){for(var a=this.qj();a.C();)a.D(),a.H()};m.contains=function(a){return Sqh(this,a,!1)};m.isEmpty=function(){return 0==this.size()};m.remove=function(a){return Sqh(this,a,!0)};m.Lc=function(a){for(var b=!1,c=this.qj();c.C();){var d=c.D();a.contains(d)&&(c.H(),b=!0)}return b};m.Mf=function(){return this.JQa(Array(this.size()))};m.JQa=function(a){var b=this.size();a.length<b&&(a=Rqh(Array(b),a));for(var c=a,d=this.qj(),e=0;e<b;++e){var f=d.D();c[e]=f}a.length>b&&(a[b]=null);return a};
m.toString=function(){for(var a=trh("[","]"),b=this.qj();b.C();){var c=b.D();urh(a,Ta(c,this)?"(this Collection)":Ua(c))}return a.toString()};function Brh(){}t(Brh,Arh);Brh.prototype.clear=function(){this.C.clear()};Brh.prototype.contains=function(a){return this.C.Xt(a)};Brh.prototype.qj=function(){var a=this.C.wG().qj(),b=new erh;b.F=a;return b};Brh.prototype.size=function(){return this.C.size()};function Crh(){}t(Crh,Arh);
Crh.prototype.equals=function(a){if(Ta(a,this))return!0;if(null==a||!a.FAa)return!1;if(a.size()!=this.size())a=!1;else a:{for(a=a.qj();a.C();){var b=a.D();if(!this.contains(b)){a=!1;break a}}a=!0}return a};Crh.prototype.xk=function(){return lrh(this)};Crh.prototype.Lc=function(a){var b=this.size();if(b<a.size())for(var c=this.qj();c.C();){var d=c.D();a.contains(d)&&c.H()}else for(a=a.qj();a.C();)c=a.D(),this.remove(c);return b!=this.size()};Crh.prototype.FAa=!0;function Drh(){}t(Drh,Crh);m=Drh.prototype;
m.clear=function(){this.C.clear()};m.contains=function(a){return null!=a&&a.qZ?Uqh(this.C,a):!1};m.qj=function(){var a=new drh;a.L=this.C;a.R=a.L.D.qj();a.F=a.R;a.J=Wqh(a);return a};m.remove=function(a){return this.contains(a)?(this.C.remove(a.hs()),!0):!1};m.size=function(){return this.C.size()};function Erh(){}t(Erh,Crh);m=Erh.prototype;m.clear=function(){this.C.clear()};m.contains=function(a){return this.C.HX(a)};m.qj=function(){var a=this.C.wG().qj(),b=new frh;b.F=a;return b};
m.remove=function(a){return this.C.HX(a)?(this.C.remove(a),!0):!1};m.size=function(){return this.C.size()};function Frh(){}t(Frh,Sa);m=Frh.prototype;m.clear=function(){this.wG().clear()};m.HX=function(a){return!!zrh(this,a,!1)};m.Xt=function(a){for(var b=this.wG().qj();b.C();){var c=b.D().ls();if(wb(a,c))return!0}return!1};m.equals=function(a){if(Ta(a,this))return!0;if(null==a||!a.V0a||this.size()!=a.size())return!1;for(a=a.wG().qj();a.C();){var b=a.D();if(!Uqh(this,b))return!1}return!0};
m.get=function(a){return Vqh(zrh(this,a,!1))};m.xk=function(){return lrh(this.wG())};m.isEmpty=function(){return 0==this.size()};m.oLb=function(){var a=new Erh;a.C=this;return a};m.nva=function(){throw Dca("Put not supported on this map").C;};m.remove=function(a){return Vqh(zrh(this,a,!0))};m.size=function(){return this.wG().size()};m.toString=function(){for(var a=trh("{","}"),b=this.wG().qj();b.C();){var c=b.D();c=Ua(rrh(this,c.hs()))+"="+Ua(rrh(this,c.ls()));urh(a,c)}return a.toString()};
m.values=function(){var a=new Brh;a.C=this;return a};m.replace=function(a,b){return Tqh(this,a,b)};m.V0a=!0;function Grh(){}t(Grh,Frh);m=Grh.prototype;m.clear=function(){qrh(this)};m.HX=function(a){var b;Wb(a)?b=null==a?!!Yqh(null,Xqh(this.C,hrh(null))):void 0!==this.D.C.get(a):b=!!Yqh(a,Xqh(this.C,hrh(a)));return b};m.Xt=function(a){return arh(a,this.D)||arh(a,this.C)};m.wG=function(){var a=new Drh;a.C=this;return a};
m.get=function(a){var b;Wb(a)?b=null==a?Vqh(Yqh(null,Xqh(this.C,hrh(null)))):this.D.C.get(a):b=Vqh(Yqh(a,Xqh(this.C,hrh(a))));return b};m.nva=function(a,b){var c;Wb(a)?c=null==a?yrh(this.C,null,b):$qh(this.D,a,b):c=yrh(this.C,a,b);return c};m.remove=function(a){var b;Wb(a)?b=null==a?irh(this.C,null):Zqh(this.D,a):b=irh(this.C,a);return b};m.size=function(){return this.C.D+this.D.F};m.replace=function(a,b){return Tqh(this,a,b)};function Hrh(){}t(Hrh,Grh);
Hrh.prototype.replace=function(a,b){return Tqh(this,a,b)};function Irh(){}t(Irh,Arh);m=Irh.prototype;m.add=function(a){this.rCa(this.size(),a);return!0};m.rCa=function(){throw Dca("Add not supported on this list").C;};m.clear=function(){this.IQa(0,this.size())};m.equals=function(a){if(Ta(a,this))return!0;if(null==a||!a.EAa||this.size()!=a.size())return!1;a=a.qj();for(var b=this.qj();b.C();){var c=b.D(),d=a.D();if(!wb(c,d))return!1}return!0};
m.xk=function(){for(var a=1,b=this.qj();b.C();){var c=b.D();a=31*a+Sba(c);a|=0}return a};m.indexOf=function(a){for(var b=0,c=this.size();b<c;++b)if(wb(a,this.ioa(b)))return b;return-1};m.qj=function(){var a=new brh;a.L=this;a.F=0;a.J=-1;return a};m.lastIndexOf=function(a){for(var b=this.size()-1;-1<b;--b)if(wb(a,this.ioa(b)))return b;return-1};m.Rga=function(){throw Dca("Remove not supported on this list").C;};
m.IQa=function(a,b){var c=new crh;c.L=this;c.F=0;c.J=-1;this.size();for(c.F=a;a<b;++a)c.D(),c.H()};m.EAa=!0;function Jrh(){}t(Jrh,Irh);m=Jrh.prototype;m.add=function(a){this.C[this.C.length]=a;return!0};m.rCa=function(a,b){this.C.splice(a,0,b)};m.clear=function(){this.C=[]};m.contains=function(a){return-1!=this.indexOf(a)};m.ioa=function(a){return this.C[a]};m.indexOf=function(a){a:{for(var b=0;b<this.C.length;++b)if(wb(a,this.C[b])){a=b;break a}a=-1}return a};
m.qj=function(){var a=new grh;a.L=this;a.J=0;a.F=-1;return a};m.isEmpty=function(){return 0==this.C.length};m.lastIndexOf=function(a){a:{for(var b=this.size()-1;0<=b;--b)if(wb(a,this.C[b])){a=b;break a}a=-1}return a};m.Rga=function(a){this.C.splice(a,1)};m.remove=function(a){a=this.indexOf(a);if(-1==a)return!1;this.Rga(a);return!0};m.size=function(){return this.C.length};m.Mf=function(){var a=this.C;return Rqh(a.slice(0,this.C.length),a)};
m.JQa=function(a){var b=this.C.length;a.length<b&&(a=Rqh(Array(b),a));for(var c=0;c<b;++c)a[c]=this.C[c];a.length>b&&(a[b]=null);return a};m.IQa=function(a,b){this.C.splice(a,b-a)};m.EAa=!0;function Krh(a){var b=new Epa;return bj(b,6,a)}function Lrh(){var a=dw.getInstance(),b=(1E9*Math.random()>>>0).toString(36);a.C=b}function Mrh(a){a.iYa=!1;a.hYa=!1}function Nrh(a,b){return!(!a.C[b]&&!a.J[b])}var Orh={};function L6(a){J(this,a,0,1,null,null)}v(L6,I);
L6.prototype.ea=function(){var a=new F;Prh(this,a);return Y(a)};function Prh(a,b){Pi(a,b,Orh,L6.prototype.getExtension)}function Qrh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&Ei(b,2,c);c=K(a,3);null!=c&&Ei(b,3,c)}function Rrh(a){J(this,a,0,-1,null,null)}v(Rrh,I);m=Rrh.prototype;m.ea=function(){var a=new F;Qrh(this,a);return Y(a)};m.getUrl=function(){return K(this,1)};m.getWidth=function(){return K(this,2)};m.setWidth=function(a){return M(this,2,a)};
m.getHeight=function(){return K(this,3)};m.setHeight=function(a){return M(this,3,a)};function Srh(a,b){var c=K(a,1);null!=c&&H(b,1,c);c=K(a,2);null!=c&&H(b,2,c);c=K(a,3);null!=c&&H(b,3,c);c=K(a,4);null!=c&&H(b,4,c)}function Trh(a){J(this,a,0,-1,null,null)}v(Trh,I);Trh.prototype.ea=function(){var a=new F;Srh(this,a);return Y(a)};
function Urh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c);c=N(a,Rrh,3);null!=c&&b.C(3,c,Qrh);c=K(a,4);null!=c&&G(b,4,c);c=K(a,5);null!=c&&b.D(5,c);c=K(a,9);null!=c&&b.D(9,c);c=K(a,6);null!=c&&b.D(6,c);c=N(a,Trh,7);null!=c&&b.C(7,c,Srh);c=K(a,8);null!=c&&b.D(8,c);c=K(a,11);null!=c&&b.D(11,c);c=K(a,10);null!=c&&b.D(10,c);c=K(a,12);null!=c&&b.D(12,c)}function Vrh(a){J(this,a,0,-1,null,null)}v(Vrh,I);m=Vrh.prototype;m.ea=function(){var a=new F;Urh(this,a);return Y(a)};
m.getName=function(){return K(this,1)};m.jd=function(a){return M(this,1,a)};m.getUrl=function(){return K(this,2)};m.getId=function(){return K(this,9)};m.Uc=function(a){return M(this,9,a)};var Wrh=[8],Xrh=[5];function Yrh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c)}function M6(a){J(this,a,0,-1,null,null)}v(M6,I);m=M6.prototype;m.ea=function(){var a=new F;Yrh(this,a);return Y(a)};m.getType=function(){return K(this,1)};m.setType=function(a){return M(this,1,a)};
m.clearType=function(){return M(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};m.getValue=function(){return K(this,2)};m.setValue=function(a){return M(this,2,a)};m.hasValue=function(){return null!=K(this,2)};function Zrh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c);c=N(a,L6,3);null!=c&&b.C(3,c,Prh);c=K(a,4);null!=c&&b.D(4,c)}function $rh(a){J(this,a,0,-1,null,null)}v($rh,I);m=$rh.prototype;m.ea=function(){var a=new F;Zrh(this,a);return Y(a)};
m.getType=function(){return K(this,1)};m.setType=function(a){return M(this,1,a)};m.clearType=function(){return M(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};m.getValue=function(){return K(this,2)};m.setValue=function(a){return M(this,2,a)};m.hasValue=function(){return null!=K(this,2)};function ash(a,b){a=N(a,fZ,1);null!=a&&b.C(1,a,G4e)}function bsh(a){J(this,a,0,-1,null,null)}v(bsh,I);bsh.prototype.ea=function(){var a=new F;ash(this,a);return Y(a)};
function N6(a){return N(a,$rh,9)}function csh(a,b){var c=N(a,fZ,1);null!=c&&b.C(1,c,G4e);c=K(a,2);null!=c&&H(b,2,c);c=K(a,3);null!=c&&Fi(b,3,c);c=K(a,4);null!=c&&Fi(b,4,c)}function dsh(a){J(this,a,0,-1,null,null)}v(dsh,I);dsh.prototype.ea=function(){var a=new F;csh(this,a);return Y(a)};dsh.prototype.D=function(a){M(this,2,a)};
function esh(a,b){var c=K(a,1);null!=c&&Fi(b,1,c);c=K(a,2);null!=c&&Fi(b,2,c);c=K(a,3);null!=c&&Fi(b,3,c);c=K(a,4);null!=c&&H(b,4,c);c=aj(a,dsh,5);0<c.length&&Li(b,5,c,csh)}function fsh(a){J(this,a,0,-1,Xrh,null)}v(fsh,I);fsh.prototype.ea=function(){var a=new F;esh(this,a);return Y(a)};function gsh(a){J(this,a,0,-1,Wrh,null)}v(gsh,I);m=gsh.prototype;m.ea=function(){var a=new F;hsh(this,a);return Y(a)};
function hsh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c);c=a.getContent();null!=c&&b.C(3,c,Yrh);c=N(a,M6,4);null!=c&&b.C(4,c,Yrh);c=N(a,fZ,5);null!=c&&b.C(5,c,G4e);c=N(a,Vrh,14);null!=c&&b.C(14,c,Urh);c=K(a,6);null!=c&&Fi(b,6,c);c=K(a,7);null!=c&&Fi(b,7,c);c=O6(a);0<c.length&&Li(b,8,c,hsh);c=N6(a);null!=c&&b.C(9,c,Zrh);c=N(a,$V,21);null!=c&&b.C(21,c,PCe);c=K(a,10);null!=c&&H(b,10,c);c=K(a,11);null!=c&&b.D(11,c);c=K(a,12);null!=c&&G(b,12,c);c=K(a,13);null!=c&&Fi(b,13,c);c=K(a,15);
null!=c&&G(b,15,c);c=K(a,16);null!=c&&b.D(16,c);c=K(a,17);null!=c&&H(b,17,c);c=N(a,bsh,18);null!=c&&b.C(18,c,ash);c=N(a,fsh,19);null!=c&&b.C(19,c,esh);c=K(a,20);null!=c&&H(b,20,c);c=K(a,22);null!=c&&G(b,22,c);c=K(a,23);null!=c&&G(b,23,c)}m.getId=function(){return K(this,1)};m.Uc=function(a){return M(this,1,a)};m.getContent=function(){return N(this,M6,3)};m.setContent=function(a){return bj(this,3,a)};m.Qr=function(){return null!=K(this,3)};function O6(a){return aj(a,gsh,8)}
m.getOrigin=function(){return K(this,17)};function P6(a){return N(a,gsh,2)}function Q6(a){J(this,a,0,-1,null,null)}v(Q6,I);function ish(a){J(this,a,0,-1,null,null)}v(ish,I);m=Q6.prototype;m.ea=function(){var a=new F;jsh(this,a);return Y(a)};
function jsh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=P6(a);null!=c&&b.C(2,c,hsh);c=K(a,3);null!=c&&Fi(b,3,c);c=K(a,4);null!=c&&Fi(b,4,c);c=a.hp();null!=c&&b.C(5,c,ksh);c=K(a,6);null!=c&&G(b,6,c);c=K(a,7);null!=c&&G(b,7,c);c=K(a,8);null!=c&&b.D(8,c);c=K(a,9);null!=c&&G(b,9,c)}m.getId=function(){return K(this,1)};m.Uc=function(a){return M(this,1,a)};m.hp=function(){return N(this,ish,5)};m.Ht=function(a){return bj(this,5,a)};m.DB=function(a){return M(this,6,a)};m=ish.prototype;
m.ea=function(){var a=new F;ksh(this,a);return Y(a)};function ksh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=a.getTitle();null!=c&&b.C(2,c,Yrh);c=N(a,Q6,3);null!=c&&b.C(3,c,jsh)}m.getId=function(){return K(this,1)};m.Uc=function(a){return M(this,1,a)};m.getTitle=function(){return N(this,M6,2)};m.setTitle=function(a){return bj(this,2,a)};function lsh(a){J(this,a,"gs",-1,null,null)}v(lsh,I);lsh.prototype.ea=function(){var a=new F;var b=this.Lo();null!=b&&a.C(1,b,H4e);return Y(a)};lsh.De="gs";
lsh.prototype.Lo=function(){return N(this,gZ,1)};var msh=[1,2],nsh=[1];function osh(a){J(this,a,"sr",-1,nsh,null)}v(osh,I);osh.prototype.ea=function(){var a=new F;var b=aj(this,Q6,1);0<b.length&&Li(a,1,b,jsh);b=K(this,2);null!=b&&Fi(a,2,b);b=K(this,3);null!=b&&Fi(a,3,b);return Y(a)};osh.De="sr";function psh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c)}function qsh(a){J(this,a,0,-1,null,null)}v(qsh,I);qsh.prototype.ea=function(){var a=new F;psh(this,a);return Y(a)};
qsh.prototype.getId=function(){return K(this,1)};qsh.prototype.Uc=function(a){return M(this,1,a)};function rsh(a){J(this,a,"u",-1,msh,null)}v(rsh,I);rsh.prototype.ea=function(){var a=new F;var b=aj(this,Q6,1);0<b.length&&Li(a,1,b,jsh);b=aj(this,qsh,2);0<b.length&&Li(a,2,b,psh);return Y(a)};rsh.De="u";
function ssh(a,b){if(a){if(!a.R){var c;a.D&&(c=a.D.photo);a.R=c?new scf(c,a.H):tcf}a=a.R;for(c=0;c<a.C.length;c++){var d=a.C[c]||rcf,e;(e=!!d.getUrl())&&!(e=!b)&&(d.C||(d.C="metadata"in d.D?new Tbf(d.D.metadata,d.F):Zbf),e=b(d.C));if(e)return d.getUrl()}}return null}function tsh(a){null===a.F&&(a.F=ssh(a.C,function(b){return!!b&&!Ubf(b)}),null===a.F&&(a.F=Kcf(a,ssh)));return a.F}function ush(){}t(ush,Crh);m=ush.prototype;m.add=function(a){return null==this.C.nva(a,this)};m.clear=function(){this.C.clear()};
m.contains=function(a){return this.C.HX(a)};m.isEmpty=function(){return this.C.isEmpty()};m.qj=function(){return this.C.oLb().qj()};m.remove=function(a){return null!=this.C.remove(a)};m.size=function(){return this.C.size()};m.FAa=!0;function vsh(a,b,c,d){HA.call(this,a,[a.offsetLeft,a.offsetTop],b,c,d)}v(vsh,HA);vsh.prototype.Vv=function(){this.vz=[this.C?D5a(this.element):this.element.offsetLeft,this.element.offsetTop];vsh.Ta.Vv.call(this)};function wsh(a,b){A.call(this);this.wg=a;this.C=b}
v(wsh,A);m=wsh.prototype;m.connect=function(a){a&&a()};m.isConnected=ea(!0);m.sf=function(a,b,c){this.wg.D.sf(this.C+":"+a,u(this.EFa,this,b),c)};m.LL=function(a){this.D=u(this.EFa,this,a)};m.send=function(a,b){if(this.isDisposed())throw Error("#send called for disposed VirtualChannel.");this.wg.D.send(this.C+":"+a,b)};m.EFa=function(a,b){this.isDisposed()||a.apply({},Array.prototype.slice.call(arguments,1))};m.Ja=function(){this.wg=this.wg.C[this.C]=null};
function xsh(a){A.call(this);this.D=a;this.C={};this.D.LL(u(this.F,this))}v(xsh,A);function ysh(a,b){if(-1!=b.indexOf(":"))throw Error('Virtual channel name "'+b+'" should not contain colons');if(b in a.C)throw Error('Virtual channel "'+b+'" was already created for this multichannel.');var c=new wsh(a,b);return a.C[b]=c}xsh.prototype.F=function(a,b){if(a=a.match(/^([^:]*):(.*)/)){var c=a[1];a=a[2];c in this.C&&(c=this.C[c])&&c.D&&c.D(a,b)}};
xsh.prototype.Ja=function(){Gd(this.C,function(a){Hf(a)});Hf(this.D);delete this.C;delete this.D};var zsh={Y0a:"all",Ktc:"important",NONE:"none"};function Ash(){this.V=this.R=this.J=this.L=this.C=this.H=this.O=this.F=this.D=0}function Bsh(a){var b=new Dpa,c=a.F+a.O,d=a.C+a.L,e=a.H+d,f=a.J+a.R;M(b,1,a.D+c+e+f+a.V);M(b,2,a.D);M(b,14,a.V);M(b,9,a.F);M(b,6,a.O);M(b,3,c);M(b,10,a.H);M(b,12,a.C);M(b,13,a.L);M(b,7,d);M(b,4,e);M(b,11,a.J);M(b,8,a.R);M(b,5,f);return new hyd(b)}var Csh=[1];
function Dsh(a){J(this,a,0,-1,null,null)}v(Dsh,I);Dsh.prototype.ea=function(){var a=new F;var b=this.Lo();null!=b&&a.C(1,b,H4e);return Y(a)};Dsh.prototype.Lo=function(){return N(this,gZ,1)};function Esh(a){J(this,a,0,-1,null,null)}v(Esh,I);Esh.prototype.ea=function(){var a=new F;var b=K(this,1);null!=b&&a.D(1,b);b=K(this,2);null!=b&&a.D(2,b);b=K(this,3);null!=b&&a.D(3,b);b=K(this,4);null!=b&&a.D(4,b);return Y(a)};Esh.prototype.Vf=function(){return K(this,1)};
Esh.prototype.getFileName=function(){return K(this,2)};function Fsh(a){J(this,a,0,-1,Csh,null)}v(Fsh,I);Fsh.prototype.ea=function(){var a=new F;var b=aj(this,Q6,1);0<b.length&&Li(a,1,b,jsh);b=K(this,2);null!=b&&Fi(a,2,b);b=K(this,3);null!=b&&G(a,3,b);b=K(this,4);null!=b&&Fi(a,4,b);b=K(this,5);null!=b&&a.D(5,b);b=K(this,6);null!=b&&H(a,6,b);return Y(a)};
var Gsh=/([\S\s]*?)(\b(?:mailto:)?([\w.!#$%&'*+-/=?^_`{|}~]+@[A-Za-z0-9.-]+\.(?:com|org|net|edu|gov|aero|biz|cat|coop|info|int|jobs|mobi|museum|name|pro|travel|arpa|asia|xxx|[a-z][a-z])\b)|\b(?:(https?|ftp):\/\/|www\.)[\w#-;!=?@\[\\\]_`{|}~]+|$)/gi,Hsh=/^(.*?)([':;,\.?}\]\)!]+)$/;
function Ish(a){if(-1==a.indexOf("@")&&-1==a.indexOf("://")&&-1==a.indexOf("www.")&&-1==a.indexOf("Www.")&&-1==a.indexOf("WWW."))return Be(a);var b={},c;for(c in void 0)b[c]=(void 0)[c]?(void 0)[c]:null;"rel"in b||(b.rel="nofollow");"target"in b||(b.target="_blank");var d=[];a.replace(Gsh,function(e,f,h,k,l){d.push(f);if(!h)return"";e="";k?(e="mailto:",h=k,k=""):(l||(e="http://"),(k=h.match(Hsh))&&!Bd(h,"(")?(h=k[1],k=k[2]):k="");b.href=e+h;d.push(De("a",b,h));d.push(k);return""});return Fe(d)}
var Jsh={Lvc:"docos-insert-discussion",Bgc:"docos-cancel-insert-discussion",gDc:"docos-new-doco",hDc:"docos-new-reply",Ojc:"docos-delete-doco",Qjc:"docos-delete-reply",wnc:"docos-edit-doco",ync:"docos-edit-reply",xnc:"docos-edit-draft",Hfc:"docos-before-highlight-doco",jtc:"docos-highlight-doco",bLc:"docos-speak-doco",xIc:"docos-resolve-doco",yfc:"docos-back-to-document",qdc:"docos-accept-suggestion",oIc:"docos-reject-suggestion",cic:"docos-convert-doco",Pjc:"docos-reject-doco-with-feedback",WRITE_FEEDBACK:"docos-write-feedback",
DISABLE_SMART_TODO_FEATURE:"docos-disable-smart-todo-feature",CPc:"docos-vote-doco",DPc:"docos-vote-reply",JCc:"mouse-hover-doco-view"};function Ksh(a,b,c,d,e,f,h,k){this.C=a;this.D=void 0===b?null:b;this.O=void 0===c?!1:c;this.L=void 0===d?!0:d;this.R=void 0===e?null:e;this.J=void 0===f?!0:f;this.F="number"===typeof h?h:null;this.H=void 0===k?!1:k}function R6(){return new Ksh("")}function S6(a){return new Lsh(a)}function Lsh(a){this.O=a;this.L=void 0;this.J=!1;this.D=this.F=!0;this.C=void 0;this.H=!1}function T6(a,b){a.L=b;return a}function Msh(a){a.J=!0;return a}function Nsh(a){a.F=!1;return a}function Osh(a,b){a.D=b;return a}
function Psh(a){a.H=!0;return a}function U6(a){return new Ksh(a.O,a.L,a.J,a.F,void 0,a.D,a.C,a.H)};function V6(a,b,c,d,e,f){this.type=a;this.anchors=b;this.docos=c;this.D=b;this.F=c;this.nonAnchored=d;this.userInitiated=e;this.args=f;this.type=this.type;this.anchors=this.anchors;this.docos=this.docos;this.nonAnchored=this.nonAnchored;this.userInitiated=this.userInitiated;this.args=this.args}pa("docos.Event",V6,void 0);pa("docos.api.Event",V6,void 0);V6.prototype.getType=g("type");V6.prototype.getType=V6.prototype.getType;V6.prototype.getAnchors=g("anchors");V6.prototype.getAnchors=V6.prototype.getAnchors;
V6.prototype.getDocos=g("docos");V6.prototype.getDocos=V6.prototype.getDocos;V6.prototype.isNonAnchored=g("nonAnchored");V6.prototype.isNonAnchored=V6.prototype.isNonAnchored;V6.prototype.isUserInitiated=g("userInitiated");V6.prototype.isUserInitiated=V6.prototype.isUserInitiated;V6.prototype.getArgs=g("args");V6.prototype.getArgs=V6.prototype.getArgs;V6.prototype.canPreventDefault=ea(!1);V6.prototype.canPreventDefault=V6.prototype.canPreventDefault;
V6.prototype.preventDefault=function(){throw Error("Default behavior for this event cannot be prevented.");};V6.prototype.preventDefault=V6.prototype.preventDefault;V6.prototype.getAnchorIds=g("D");V6.prototype.getAnchorIds=V6.prototype.getAnchorIds;V6.prototype.getDocoHandles=g("F");V6.prototype.getDocoHandles=V6.prototype.getDocoHandles;function Qsh(a){return new W6(a)}V6.builder=Qsh;function W6(a){this.type=a;this.C=[];this.D=[];this.H=this.F=!1;this.args=null}pa("docos.api.Event.Builder",W6,void 0);
W6.prototype.addAnchorId=function(a){this.C.push(a);return this};W6.prototype.addAnchorId=W6.prototype.addAnchorId;W6.prototype.setAnchorIds=function(a){this.C=a;return this};W6.prototype.setAnchorIds=W6.prototype.setAnchorIds;W6.prototype.addDocoHandle=function(a){this.D.push(a);return this};W6.prototype.addDocoHandle=W6.prototype.addDocoHandle;W6.prototype.setDocoHandles=function(a){this.D=a;return this};W6.prototype.setDocoHandles=W6.prototype.setDocoHandles;
W6.prototype.setNonAnchored=function(a){this.F=a;return this};W6.prototype.setNonAnchored=W6.prototype.setNonAnchored;W6.prototype.setUserInitiated=function(a){this.H=a;return this};W6.prototype.setUserInitiated=W6.prototype.setUserInitiated;W6.prototype.setApiEventArgs=function(a){this.args=a;return this};W6.prototype.setApiEventArgs=W6.prototype.setApiEventArgs;W6.prototype.isEmpty=function(){return $c(this.C)&&$c(this.D)&&!this.args};W6.prototype.isEmpty=W6.prototype.isEmpty;
W6.prototype.build=function(){return new V6(this.type,this.C,this.D,this.F,this.H,this.args?this.args:new k5)};W6.prototype.build=W6.prototype.build;function Rsh(a,b){V6.call(this,a,[],[],!1,!1,new k5);this.interval=this.interval=b}v(Rsh,V6);pa("docos.api.TimedEvent",Rsh,void 0);function Ssh(){this.C={};this.D={}}function Tsh(a,b,c,d,e){var f=a.C,h=a.D;f[b]&&f[b].stop();f[b]=c;h[b]=d;c.play();Gn(c,"end",function(){delete f[b];delete h[b];e()})}function Ush(a,b){(a=a.C[b])&&a.stop()}Ssh.prototype.getDuration=function(a){return this.D[a]};function Vsh(a){var b=a.Jh,c=a.vA,d=a.Be;a=a.qQ;return S('<div class="'+T("docos-icon")+" "+T("goog-inline-block")+(d?" "+T(d):"")+" "+T(c)+'"><div class="'+T("docos-icon-img")+" "+T("docos-icon-img-container")+" "+T(b)+(a?" "+T("docos-icon-img-hdpi"):"")+'" aria-hidden="true"></div></div>')};function Wsh(a){var b=a.size,c=a.Be;a=a.e$a;return S('<img class="'+T("docos-avatar")+(c?" "+T(c):"")+'" width="'+T(b)+'" height="'+T(b)+'" alt=""'+(a?' src="'+T(xw(a))+'"':"")+"/>")};function Xsh(a,b,c){b=c||b;c=a.hDa;var d=a.Jj,e=a.Dn;a='<div class="'+T("docos-assigneeview")+'"><table><tr><td class="'+T("docos-assigneeview-avatar-container")+'">'+R(Wsh({size:32,Be:"docos-assigneeview-avatar"}))+'</td><td class="'+T("docos-assigneeview-assigneeinfo")+'"><div class="'+T("docos-assigneeview-label")+'">';a+="Assigned to";c='</div><div class="'+T("docos-assigneeview-assignee-text")+'">'+R(c)+'</div></td><td class="'+T("hide-on-readonly")+'">';e=e={Jj:d,Dn:e};d=e.Jj;e=e.Dn;var f='aria-label="'+
vw("Mark as done and hide discussion.");b=""+R(Ez({Zc:"docos-mark-done-button",title:"Mark as done and then hide discussion",attributes:uw(f+'"'),style:e?4:0,content:tw(""+R(Vsh({Jh:"docos-icon-accept-checkmark-black",vA:"docos-icon-accept-checkmark-size",Be:"docos-icon-checkmark jfk-button-img"}))),WM:d},b));b=S(b);return S(a+(c+b+"</td></tr></table></div>"))};function Ysh(a,b){var c;a?c=a&&Zsh(X6(a),b)?"docos-assignee-you":"docos-assignee-other":c="docos-assignee-none";return c}function $sh(a,b){a=X6(a);return ath(a,b)}function bth(a,b,c){a=ath(a,b,!0);return c?(new lA("Reassign to {user}")).format({user:a}):(new lA("Assign to {user}")).format({user:a})}function ath(a,b,c){return Zsh(a,b)?c?"you":"You":Y6(a)}function Zsh(a,b){return null!=a.getEmail()&&null!=b.ih().getEmail()&&a.getEmail()==b.ih().getEmail()};function Z6(a,b){Q.call(this,b);this.Rc=cth(a);this.C=$6(a)}v(Z6,Q);Z6.prototype.Ed=!1;Z6.prototype.Ia=function(){Z6.Ta.Ia.call(this);this.Ed&&(this.Bd(),dth(this))};function eth(a){a.Ed||(a.Ed=!0,a.getHandler().listen(a.C,"r",a.Bd),a.Bd(),dth(a))}Z6.prototype.Bd=function(){if(this.Gb()){var a=this.getElement(),b=this.C.H;Sw(a,"docos-readonly",!("suggest"==b.C||"full"==b.C));Sw(this.getElement(),"docos-offline",this.C.V)}};
function a7(a,b,c,d){a.Rc&&(d=a.Rc.F.C(d));a.getHandler().listen(b,c,d,void 0);return a}function dth(a){a.Gb()&&a7(a,a.getElement(),"blur change click contextmenu copy cut dblclick dragend dragenter dragleave dragover dragstart focusout input mousedown mouseup pointerdown pointerup touchstart touchend paste propertychange select selectstart submit".split(" "),a.Vg)}Z6.prototype.Vg=function(a){a.stopPropagation()};function fth(a,b){An.call(this,a);this.zj=b}v(fth,An);function gth(a,b,c,d,e,f,h){fth.call(this,a,b);this.Dm=c||null;this.$o=d||0;this.C=e||null;this.C_=h}v(gth,fth);function b7(a){fth.call(this,"rd",a)}v(b7,fth);function hth(a,b,c){this.C=a;this.D=b;this.F=c};function ith(a,b,c,d){Z6.call(this,a,b);this.H=a;this.Uc(c);this.V=d;this.O=this.L=this.J=this.D=this.F=null;this.R=new Fz(null);this.va(this.R)}t(ith,Z6);m=ith.prototype;
m.Ba=function(){var a=this.qa(),b=c7(jth(this)),c=Kx(Xsh,{hDa:$sh(b,this.C),Jj:this.C.Jj(),Dn:"legacy"!=this.C.F});this.ib(c);this.L=a.bb("docos-icon-checkmark",c);this.O=a.bb("docos-icon-img-container",c);this.J=a.bb("docos-mark-done-button",c);this.R.Va(this.J);a7(this,this.R,"action",this.mNb);this.F=a.bb("docos-assigneeview-assignee-text",c);this.D=dW(a,"IMG","docos-assigneeview-avatar",c);a=X6(b);kth(d7(this.H),this.D,a.C,Y6(a));lth(this,b)};
m.Ia=function(){Z6.prototype.Ia.call(this);var a=c7(jth(this));a=X6(a);mth(this,a)};
function lth(a,b){var c="docos-mark-done-button-black",d="docos-icon-checkmark-black",e="docos-icon-accept-checkmark-black",f=a.C;!b||!Zsh(X6(b),f)||"black"==Xy()&&rf||"material_yellow"==a.C.F||(c="docos-mark-done-button-white",d="docos-icon-checkmark-white",e="docos-icon-accept-checkmark-white");b=Ysh(b,a.C);Rw(a.getElement(),["docos-assignee-you","docos-assignee-other"]);Rw(a.L,["docos-icon-checkmark-white","docos-icon-checkmark-black"]);Rw(a.O,["docos-icon-accept-checkmark-white","docos-icon-accept-checkmark-black"]);
Rw(a.J,["docos-mark-done-button-white","docos-mark-done-button-black"]);Ow(a.L,d);Ow(a.O,e);Ow(a.J,c);Ow(a.getElement(),b)}function jth(a){return e7(a.H).ud(a.getId())}m.update=function(){var a=c7(jth(this)),b=$sh(a,this.C)||"";wo(this.F,b);f7(d7(this.H),this.D);b=X6(a);kth(d7(this.H),this.D,b.C,Y6(b));lth(this,a);mth(this,b)};function mth(a,b){if(a.F){var c=b.getName();c&&a.C.D.C(a.F,c)}a.D&&(b=b.getName())&&a.C.D.C(a.D,b)}
m.mNb=function(a){a&&a.stopPropagation();(a=jth(this))&&!a.isResolved()&&(a=g7(this.H),this.dispatchEvent("br"),a.tf("docos-resolve-doco").wb(new hth(this.getId(),!0,nth(this.V))),this.dispatchEvent("ar"))};m.vd=function(){Z6.prototype.vd.call(this)};m.Ja=function(){Z6.prototype.Ja.call(this);delete this.F;delete this.D;delete this.L};function oth(a,b){void 0!==b.getId()&&a.Uc(b.getId());var c=P6(b);if(void 0!==c){var d=P6(a);c?d?pth(d,c):bj(a,2,c):bj(a,2,void 0)}void 0!==K(b,3)&&(c=K(b,3),M(a,3,c));void 0!==K(b,4)&&(c=K(b,4),M(a,4,c));d=b.hp();if(void 0!==d)if(c=a.hp(),d)if(c){void 0!==d.getId()&&c.Uc(d.getId());var e=d.getTitle();if(void 0!==e){var f=c.getTitle();e?f?qth(f,e):c.setTitle(e):c.setTitle(void 0)}d=N(d,Q6,3);void 0!==d&&(e=N(c,Q6,3),d?e?oth(e,d):bj(c,3,d):bj(c,3,void 0))}else a.Ht(d);else a.Ht(void 0);void 0!==Ri(b,
6)&&a.DB(Ri(b,6));void 0!==Ri(b,7)&&(c=Ri(b,7),M(a,7,c));void 0!==K(b,8)&&(c=K(b,8),M(a,8,c));void 0!==Ri(b,9)&&(b=Ri(b,9),M(a,9,b))}
function pth(a,b){void 0!==b.getId()&&a.Uc(b.getId());if(void 0!==K(b,2)){var c=K(b,2);M(a,2,c)}c=b.getContent();if(void 0!==c){var d=a.getContent();c?d?qth(d,c):a.setContent(c):a.setContent(void 0)}c=N(b,M6,4);void 0!==c&&(d=N(a,M6,4),c?d?qth(d,c):bj(a,4,c):bj(a,4,void 0));c=N(b,fZ,5);void 0!==c&&(c?bj(a,5,c):bj(a,5,void 0));d=N(b,Vrh,14);if(void 0!==d)if(c=N(a,Vrh,14),d)if(c){void 0!==d.getName()&&c.jd(d.getName());if(void 0!==d.getUrl()){var e=d.getUrl();M(c,2,e)}e=N(d,Rrh,3);if(void 0!==e){var f=
N(c,Rrh,3);if(e)if(f){if(void 0!==e.getUrl()){var h=e.getUrl();M(f,1,h)}void 0!==e.getWidth()&&f.setWidth(e.getWidth());void 0!==e.getHeight()&&f.setHeight(e.getHeight())}else bj(c,3,e);else bj(c,3,void 0)}void 0!==Ri(d,4)&&(e=Ri(d,4),M(c,4,e));void 0!==K(d,5)&&(e=K(d,5),M(c,5,e));void 0!==K(d,6)&&(e=K(d,6),M(c,6,e));f=N(d,Trh,7);void 0!==f&&(e=N(c,Trh,7),f?e?(void 0!==K(f,1)&&(h=K(f,1),M(e,1,h)),void 0!==K(f,2)&&(h=K(f,2),M(e,2,h)),void 0!==K(f,3)&&(h=K(f,3),M(e,3,h)),void 0!==K(f,4)&&(f=K(f,4),
M(e,4,f))):bj(c,7,f):bj(c,7,void 0));void 0!==K(d,8)&&(e=K(d,8),M(c,8,e));void 0!==K(d,11)&&(e=K(d,11),M(c,11,e));void 0!==K(d,10)&&(e=K(d,10),M(c,10,e));void 0!==K(d,12)&&(d=K(d,12),M(c,12,d))}else bj(a,14,d);else bj(a,14,void 0);void 0!==K(b,6)&&(c=K(b,6),M(a,6,c));void 0!==K(b,7)&&(c=K(b,7),M(a,7,c));O6(b)&&(c=hd(O6(a),O6(b)),dj(a,8,c));d=N6(b);void 0!==d&&(c=N6(a),d?c?(void 0!==d.getType()&&c.setType(d.getType()),void 0!==d.getValue()&&c.setValue(d.getValue()),void 0!==N(d,L6,3)&&(e=N(d,L6,3),
bj(c,3,e)),void 0!==K(d,4)&&(d=K(d,4),M(c,4,d))):bj(a,9,d):bj(a,9,void 0));void 0!==K(b,10)&&(c=K(b,10),M(a,10,c));void 0!==K(b,11)&&(c=K(b,11),M(a,11,c));void 0!==Ri(b,12)&&(c=Ri(b,12),M(a,12,c));void 0!==K(b,13)&&(c=K(b,13),M(a,13,c));void 0!==Ri(b,15)&&(c=Ri(b,15),M(a,15,c));void 0!==K(b,16)&&(c=K(b,16),M(a,16,c));void 0!==b.getOrigin()&&(c=b.getOrigin(),M(a,17,c));void 0!==K(b,20)&&(c=K(b,20),M(a,20,c));c=N(b,bsh,18);void 0!==c&&(e=N(a,bsh,18),c?e?(d=N(c,fZ,1),void 0!==d&&(c=N(e,fZ,1),d?c?(void 0!==
d.getName()&&c.jd(d.getName()),void 0!==K(d,2)&&(e=K(d,2),M(c,2,e)),void 0!==K(d,3)&&(e=K(d,3),M(c,3,e)),void 0!==d.getId()&&c.Uc(d.getId()),void 0!==Ri(d,5)&&(e=Ri(d,5),M(c,5,e)),void 0!==Ri(d,6)&&(e=Ri(d,6),M(c,6,e)),void 0!==Ri(d,7)&&(e=Ri(d,7),M(c,7,e)),void 0!==d.getEmail()&&(d=d.getEmail(),M(c,8,d))):bj(e,1,d):bj(e,1,void 0))):bj(a,18,c):bj(a,18,void 0));d=N(b,fsh,19);void 0!==d&&(c=N(a,fsh,19),d?c?(void 0!==K(d,1)&&(e=K(d,1),M(c,1,e)),void 0!==K(d,3)&&(e=K(d,3),M(c,3,e)),void 0!==K(d,2)&&(e=
K(d,2),M(c,2,e)),void 0!==K(d,4)&&(e=K(d,4),M(c,4,e)),void 0!==aj(d,dsh,5)&&(d=aj(d,dsh,5),dj(c,5,d))):bj(a,19,d):bj(a,19,void 0));void 0!==N(b,$V,21)?(c=N(b,$V,21),bj(a,21,c)):void 0!==b.getContent()&&bj(a,21,void 0);void 0!==Ri(b,22)&&(c=Ri(b,22),M(a,22,c));void 0!==Ri(b,23)&&(b=Ri(b,23),M(a,23,b))}function qth(a,b){void 0!==b.getType()&&a.setType(b.getType());void 0!==b.getValue()&&a.setValue(b.getValue())};function rth(a,b,c,d,e,f,h){this.J=a;this.D=b&&!zd(b)?Ad(b.toLowerCase()):null;this.L=c;this.C=d;this.cd=e;this.H=f;this.F=h}rth.prototype.getName=g("J");rth.prototype.getEmail=g("D");rth.prototype.getId=g("cd");function Y6(a){a=zd(af(a.getName()))?a.getEmail():a.getName();return af(a)}function sth(a){var b=tth(uth(vth(wth((new h7).jd(a.getName()),a.getEmail()),K(a,2)),K(a,3)).Uc(a.getId()||""),!!Ri(a,5));a=!!Ri(a,7);b.D=a;return xth(b)}
function yth(a){var b=(new fZ).Uc(a.getId()||""),c=a.getName();null!==c&&b.jd(c);c=a.L;null!==c&&M(b,2,c);c=a.C;null!==c&&M(b,3,c);c=a.getEmail();null!==c&&M(b,8,c);M(b,5,!!a.H);return b}function h7(){}h7.prototype.jd=function(a){this.H=a;return this};function wth(a,b){a.C=b&&!zd(b)?Ad(b.toLowerCase()):null;return a}function vth(a,b){a.L=b;return a}function uth(a,b){a.J=b;return a}h7.prototype.Uc=function(a){this.cd=a;return this};function tth(a,b){a.F=b;return a}
function xth(a){return new rth(a.H,a.C,a.L,a.J,a.cd,a.F,a.D)};function zth(a){N(a,fZ,1);this.C=a}function X6(a){a=N(a.C,fZ,1);return sth(a)}zth.prototype.equals=function(a){return gj(this.C,a.C)};function Ath(a){var b=new bsh;a=yth(a);b=bj(b,1,a);return new zth(b)};function Bth(a){N(a,fZ,1);K(a,2);this.C=a};function Cth(a){this.C=a}function Dth(a,b){var c=[];a=aj(a.C,dsh,5);if(null==a)return c;for(var d=0;d<a.length;d++){var e=a[d];null!=b&&b!==K(e,2)||c.push(new Bth(e))}return c}function i7(a){return null!=K(a.C,4)?K(a.C,4):0};function Eth(){var a=Fth;this.C=[];this.D={};this.F=a}Eth.prototype.text=function(a){this.C.push(a)};function Gth(a,b){if(a.D[b])a.C.push(b);else{var c=new Hth(b,a.C.length);a.C.push(c);a.D[b]=c}}function Ith(a,b){var c=a.D[b];if(c){delete a.D[b];c.C=a.F[b].open;var d=Rc(Md(a.D),function(e){return e.D>c.D});pd(d,function(e,f){return od(e.D,f.D)});a.C.push(new Jth(a.F[b].close,d,a.F))}else a.C.push(b)}Eth.prototype.getResult=function(){return this.C.join("")};
function Hth(a,b){this.F=a;this.D=b;this.C=null}Hth.prototype.getName=g("F");Hth.prototype.toString=function(){return null!==this.C?this.C:this.F};function Jth(a,b,c){this.F=a;this.C=b;this.D=c}Jth.prototype.toString=function(){for(var a=[],b=this.C.length-1;0<=b;--b){var c=this.C[b];null!==c.C&&a.push(this.D[c.getName()].close)}a.push(this.F);for(b=0;b<this.C.length;++b)c=this.C[b],null!==c.C&&a.push(this.D[c.getName()].open);return a.join("")};function Kth(a){a=Ae(Ish(a));for(var b=[],c=a.indexOf("<");0<=c;c=a.indexOf("<"))b.push(new Lth(a.substring(0,c))),a=a.substring(c),c=a.indexOf("<",1)+4,b.push(new Mth(a.substring(0,c))),a=a.substring(c);b.push(new Lth(a));return new Nth(b)}function Oth(a){var b=new Eth;a=" "+a+" ";for(var c=1;c<a.length-1;++c){var d=a.substr(c-1,3),e=a.charAt(c),f=Pth.test(d);d=Qth.test(d);f?d?(f=b,f.D[e]?Ith(f,e):Gth(f,e)):Gth(b,e):d?Ith(b,e):b.text(e)}return new Lth(b.getResult())}
function Rth(a){return new Lth(a.replace(Sth,"<br>"))}var Sth=/\r\n|\n|\r/g,Fth={"*":{open:"<b>",close:"</b>"},_:{open:"<i>",close:"</i>"},"-":{open:"<s>",close:"</s>"}},Pth=/([\.,!\?\(\)\s_\-]\*|[\.,!\?\(\)\s*\-]_|[\.,!\?\(\)\s*_]-)\S/,Qth=/\S(\*[_\-\.,!\?\(\)\s]|_[*\-\.,!\?\(\)\s]|-[*_\.,!\?\(\)\s])/;function Lth(a){this.Re=a}Lth.prototype.C=function(a){return a(this.Re)};Lth.prototype.toString=g("Re");function Mth(a){this.Re=a}Mth.prototype.C=function(){return this};Mth.prototype.toString=g("Re");
function Nth(a){this.Nh=a}Nth.prototype.C=function(a){var b=Sc(this.Nh,function(c){return c.C(a)});return new Nth(b)};Nth.prototype.toString=function(){return this.Nh.join("")};function Tth(a){a.getId()||K(a,11);this.C=a;0==K(this.C,13)&&(M(this.C,13,void 0),M(this.C,15,void 0));this.F=this.J=this.H=this.D=null}m=Tth.prototype;m.update=function(a){this.F=this.H=this.J=null;void 0!==K(a,13)&&0!=K(a,13)&&(a.setContent(void 0),bj(a,4,void 0),bj(a,9,void 0));if(void 0!==N(a,$V,21)||void 0!==a.getContent())this.D=null;pth(this.C,a);0==K(this.C,13)&&(M(this.C,13,void 0),M(this.C,15,void 0))};m.equals=function(a){return gj(this.C,a.C)};
m.Qv=function(){var a=N(this.C,fZ,5)||new fZ;return sth(a)};m.getId=function(){return this.C.getId()||K(this.C,11)||""};m.nx=function(){this.H||(this.H=jX(K(this.C,6)));return this.H};m.fP=function(){if(void 0===K(this.C,7))return this.nx();this.J||(this.J=jX(K(this.C,7)));return this.J};function Uth(a){if(void 0===K(a.C,13))var b=null;else a.F||(a.F=jX(K(a.C,13))),b=a.F;if(!b||a.fP()>b)b=a.fP();return b}
function Vth(a){if(void 0!==N6(a.C)&&("text/html"==N6(a.C).getType()||"text/plain"==N6(a.C).getType())){var b=N6(a.C).getValue();b="text/html"==N6(a.C).getType()?b:Ve(b)}return b||""}m.S1=function(){if(void 0!==N6(this.C)){var a=N(N6(this.C),L6,3);if(a)return a.Mf()}return null};m.xea=function(){return K(this.C,10)};m.getContent=function(){return this.C.getContent()?this.C.getContent().getValue():""};m.yea=function(){if(null!=N(this.C,$V,21)&&!this.D){var a=N(this.C,$V,21);this.D=Ge(K(a,2)||"",null)}return this.D};
m.Zz=function(){return null!=N(this.C,M6,4)?N(this.C,M6,4).getValue()||"":""};m.uua=function(){return null!=this.C.getContent()?this.C.getContent().getType():null};m.nQ=function(){return!!Ri(this.C,12)};function j7(a){return!!K(a.C,13)}m.OA=function(){var a=N(this.C,bsh,18);return null!=a?new zth(a):null};m.Wy=function(){var a=N(this.C,fsh,19);return null!=a?new Cth(a):null};m.Zj=function(){return void 0!==K(this.C,16)&&void 0===K(this.C,10)};
m.zG=function(){return void 0!==K(this.C,16)?K(this.C,16):null};function Wth(a){return void 0!==K(a.C,16)&&void 0!==K(a.C,10)?K(a.C,10):null}m.getOrigin=function(){var a=this.C.getOrigin();return 1==a?1:2==a?2:null};m.Qsa=function(){return!!Ri(this.C,22)};m.Msa=function(){return 2==this.getOrigin()};function k7(a,b){this.C=new gsh;M(this.C,11,a);b&&b!=a&&this.C.Uc(b)}function Xth(a,b){var c=O6(a.C);c.push(b.C);dj(a.C,8,c);return a}function Yth(a,b){M(a.C,16,b);return a}
function l7(a){M(a.C,12,!0);return a}function Zth(a,b){M(a.C,6,b);return a}function $th(a){var b=La();M(a.C,13,b);return a}function auh(a){M(a.C,13,0);return a}function buh(a,b){bj(a.C,18,b.C);M(a.C,10,4);return a}function cuh(a,b){b=yth(b);bj(a.C,5,b);return a}function duh(a){M(a.C,20,1);return a}function m7(a,b,c){b=Ad(b);var d=(new M6).setType("text/plain").setValue(b);bj(a.C,4,d);b=(new M6).setType("text/html").setValue(Kth(b).C(Oth).C(Rth).toString());a.C.setContent(b);M(a.C,7,c);return a}
k7.prototype.DB=function(a){M(this.C,10,a?0:1);return this};function euh(a,b,c,d){this.F=a;this.C=b;this.H=c;this.D=d}function fuh(a,b){return a.F.getId()==b.Qv().getId()}function guh(a,b){return fuh(a,b)&&!!b.Zz()&&("suggest"==a.C||"full"==a.C)}function huh(a,b){return b instanceof Tth&&void 0!==b.xea()?!1:(a.H||fuh(a,b))&&(!!b.Zz()||b.Zj())&&("suggest"==a.C||"full"==a.C)}function iuh(a,b){return a.D&&!b.Zj()&&("suggest"==a.C||"full"==a.C)}euh.prototype.hta=g("D");function juh(a){return"suggest"==a.C||"full"==a.C};function kuh(a){J(this,a,0,-1,null,null)}v(kuh,I);kuh.prototype.ea=function(){var a=new F;var b=K(this,1);null!=b&&a.D(1,b);return Y(a)};function luh(a,b){this.D=a;this.C=b||null}luh.prototype.ao=function(a,b,c){this.D(a,b,c)};luh.prototype.zya=function(a){this.C&&this.C(a)};function muh(a,b,c,d,e){d=d?d.Mf():void 0;e=e?e.Mf():void 0;a(b,c,d,e)};function nuh(a){Mn.call(this);this.C0(a)}v(nuh,Mn);m=nuh.prototype;
m.C0=function(a){var b=a.kd;if(void 0===b.ih())throw Error("Invalid or missing user.");var c=b.ih();this.JFa=xth(tth(uth(vth(wth((new h7).jd(c.getName()),c.getEmail()),K(c,2)),K(c,3)).Uc(c.getId()||""),!!Ri(c,5)));this.Oca=!!Ri(b,40);this.A9=!Ri(b,20);this.B9=K(b,11);this.HHa=!!Ri(b,12);this.Tma=K(b,6);this.IFa=void 0!==a.l?!!a.l:!!Ri(b,25);this.eWa=K(b,21);this.Vma=K(b,23);this.KFa=K(b,24);this.JPa=K(b,31);void 0!==a.i?this.Uma=a.i:this.Uma=void 0;if(a=hZ(b))this.D0=K(a,1);this.dispatchEvent("r")};
m.Tma=null;m.JPa=null;m.Uma=void 0;m.B9=null;m.IFa=!1;m.Oca=!1;m.eWa=null;m.Vma=null;m.KFa=null;m.A9=!0;m.HHa=!1;m.JFa=null;m.D0=null;m.ih=g("JFa");function ouh(a,b,c){function d(f){return c?id(f):f}var e=null;a&&ya(a)&&(e=d(a),ya(e[0])&&b==e[0][0]?(e=d(e[0]),e.shift()):b==e[0]&&e.shift());return e};function puh(a){this.C=a};function quh(){}quh.prototype.install=function(a){a=a&&Qn(a);u8a(a)};quh.prototype.C=function(a,b){Vy(a,b,void 0)};quh.prototype.nf=function(a){a=a&&Qn(a);z8a(a)};quh.prototype.D=function(a,b){gX(a,b)};function ruh(a,b){b=void 0===b?function(){return YJe()}:b;var c=a.kd;"string"===typeof c&&(c=JSON.parse(c));ya(c)&&(c=ouh(c,"kd",!0),c.unshift("kd"),a.kd=new I4e(c));nuh.call(this,a);this.xi=b}t(ruh,nuh);m=ruh.prototype;
m.C0=function(a){nuh.prototype.C0.call(this,a);this.C=a.kd;this.L=this.L||sZb("disco");var b;if(!(b=this.Pa)){b=sZb("usp_dm");var c=new A$d;null!=b&&("true"==b?M(c,1,2):"false"==b&&M(c,1,1));b=c}this.Pa=b;this.qh=a["anchor-is-orphaned-fn"]||ce;this.Ca=a.anchordiv||null;b=a.container||null;!b&&a.containerdiv&&(b=new puh(a.containerdiv));this.Fs=b;this.fc=a.storage||null;this.Rc=!!a["storage-ro"];this.Od=!!a["disable-focus"];this.Ty=!!a.so;this.Ve=a.docscroller||null;this.zn=a["inactive-doco-indent"]||
10;this.Ua=a["instant-docos-div"]||null;this.Bb=a["enable-new-delete-ui"]||!1;this.eb=a["delete-dialog-show"]||null;this.R=null;b=a["log-latency-event-fn"]||null;c=a["set-total-docos-counts-fn"];b&&(this.R=new luh(b,c));this.fk=a["memory-monitor-fn"]||null;this.ej=a.layout||null;this.Oi=!!a.layoutrtl;this.J=a.listeners||{};this.O=a.panediv||null;this.xa=a.panekbdiv||null;b=a.sortpaneby||"creation";"sortpane"in a&&(b=a.sortpane?"updated":"none");this.$a=b;this.Kc=a.quotefn||null;this.dd=a["user-color-provider-fn"]||
null;this.fD=a["user-color-provider-from-name-fn"]||null;this.Ns=a.quoterenderfn||null;this.Vg=!!a["hide-notification"];this.V=!!a.offline;this.wc=!!a.nocss;this.Bc=null!=a["overflow-menu-show-link"]?!!a["overflow-menu-show-link"]:!0;this.Ed=!!a["anchor-shadow"];b=a.resolve;"boolean"!==typeof b&&(b=!0);c=a.accessLevel;var d=!!a.readonly||!!a["fatal-readonly"]||!!Ri(this.C,8);this.H=new euh(this.ih(),c?c:d?"readonly":"full",!!Ri(this.C,3),b);this.Qa=!!a.iph;this.Sn=a.maxheight||0;this.ev=!!a.showerrors;
this.Vc=a["stream-button"]||null;this.Wd=!!a["disable-spfw"];this.Oa=a["anchor-mutate-fn"]||null;suh(this)||(this.Oa=null);this.wf=!!a["enable-comment-button"];this.Ka=!!a["enable-gsuite-embedding"];this.Pf=null!=a["enable-instant-mentions"]?!!a["enable-instant-mentions"]:!0;this.Gl=a["acl-fix-fn"]||null;this.wj=a["load-acl-fixer-fn"]||null;this.ge=a["intercept-docos-edit-fn"]||null;this.Lh=a["is-an-illegal-write-fn"]||null;this.Bd=!!a["defer-first-sync"];this.Ul=!!a["enable-lazy-loading"];this.Ha=
!!a["enable-all-docos-in-anchored-stream"];this.Sy=a["stream-pane-banner-message"]||null;this.Jy=a["stream-pane-banner-learn-more-url"]||null;this.Bm=!!a["enable-track-mouse-positions-in-doco-view"];this.Za=(b=a["impression-recorder-fn"])?Ka(muh,b):null;this.jh=a.hidepromofn;this.xy=a.showpromofn;this.bl=a["acl-check-fn"]||null;this.D=a["tooltip-manager"]||new quh;this.Hl=a["browser-app-clipboard"]||null;this.Wa=a["modal-dialog-z-index"]||null;this.Ae=a["doco-link-base-url"];this.ma=!!a["untrusted-iframe"];
this.Ea=a["static-input-pane-message"]||null;this.Cb=a["drive-id"]||null;this.Kb=!!a["enable-roving-tabindex"];this.Fg=a["auto-complete-factories"]||[];this.Vm=a["overflow-menu-items"]||[];this.F=a["ui-version"]||"legacy";this.Pb=a["link-opener"]||null;this.dispatchEvent("r")};function tuh(a){return null!=K(a.C,44)&&null!=K(hZ(a.C),51)&&!!Ri(hZ(a.C),51)}m.JI=function(){if(this.Vg)return!1;var a=Ri(this.C,26);return null!=a?!!a:!0};m.vda=function(){return!!Ri(this.C,43)};
m.Xsa=function(){var a=!1,b=hZ(this.C);b&&(a=Ri(b,2));return!!Ri(this.C,43)&&!!a};function uuh(a){return!!hZ(a.C)&&!!Ri(hZ(a.C),32)}function suh(a){return a.C&&!!Ri(a.C,18)}m.Jj=function(){return!!Ri(this.C,39)};function vuh(a){return a.xi()&&!!Ri(a.C,10)&&!a.Od}function wuh(a){return Ri(a.C,10)?a.Fg:[]}function xuh(a){return!!hZ(a.C)&&!!Ri(hZ(a.C),50)};function yuh(a,b,c,d,e,f){Z6.call(this,a,c);this.D=$6(a);this.Oa=Sl(Ic(y(),"docs-seu")||this.D.Ae||window.location.href);this.Nc=new Hy(c,new zuh(d));this.F=new Sy("",this.Nc,void 0,c);this.F.sH=!0;this.Ga(this.F);this.J=null;Zc(e,"edit")&&(this.J=new Cy("Edit"),this.J.Ic("docos-edit-menuitem"),this.Nc.Ga(this.J,!0));this.H=null;Zc(e,"delete")&&(this.H=new Cy("Delete"),this.H.Ic("docos-delete-menuitem"),this.Nc.Ga(this.H,!0));this.R=null;Zc(e,"reanchor")&&uuh(this.D)&&(this.R=new Cy("Re-anchor comment"),
this.R.Ic("docos-reanchor-menuitem"),this.Nc.Ga(this.R,!0));this.xa=null;Zc(e,"disable")&&(this.xa=new Cy("Turn off suggested action items"),this.xa.Ic("docos-disable-menuitem"),this.Nc.Ga(this.xa,!0));this.Ha=null;Zc(e,"help")&&(this.Ha=new Cy("Learn more"),this.Ha.Ic("docos-help-menuitem"),this.Nc.Ga(this.Ha,!0));d=e7(a).ud(b);if(!d)throw Error("Creating an action menu for a non-existing doco.");this.L=d;this.Ka=f?n7(d,f):null;this.V=null;$6(a).H.hta()&&Zc(e,"resolve")&&(this.V=new Cy(""),this.Nc.Ga(this.V,
!0));this.O=this.Ca=this.ma=null;Zc(e,"link")&&(this.Ca=new Cy("Link to this comment..."),this.Ca.Ic("docos-link-menuitem"),this.Nc.Ga(this.Ca,!0),this.O=new j$e(c,this.D.Hl||void 0,void 0,null===this.D.Wa?void 0:this.D.Wa),this.Ga(this.O),Ow(px(this.O),"docos"),this.O.setTitle("Link to this comment..."),Auh(this,b));this.Ea=$6(a).Vm.map(function(h){return{o6a:h,wJa:new Cy(h.getLabel())}});for(a=0;a<this.Ea.length;a++)this.Nc.Ga(this.Ea[a].wJa,!0)}t(yuh,Z6);m=yuh.prototype;
m.Cc=function(a){Z6.prototype.Cc.call(this,a);a=this.qa().bb("docos-docomenu-dropdown",this.getElement());null===a?(a=this.Rc,null!==a&&a.C(Error("Doco dropdown button not found in DOM."))):(this.F.Va(a),this.F.Na(!0),this.D.D.C(a,"More options..."),this.F.re("More options..."))};
m.Ia=function(){var a=this;Z6.prototype.Ia.call(this);Buh(this);a7(a7(a7(this,this.Nc.getElement(),"click",this.uRa),this.F.getElement(),"click",this.uRa),this.D,"r",this.Wob);a7(this,this.F.getElement(),"keyup",this.gac);Cuh(this,this.J,this.nbc);Cuh(this,this.H,this.lbc);Cuh(this,this.Ca,this.e5b);Cuh(this,this.R,this.rbc);Cuh(this,this.V,this.sbc);Cuh(this,this.xa,this.mbc);Cuh(this,this.Ha,this.qbc);for(var b={},c=0;c<this.Ea.length;b={x7:b.x7},c++)b.x7=this.Ea[c],Cuh(this,b.x7.wJa,function(d){return function(){d.x7.o6a.C((a.Ka||
a.L).Zz())}}(b))};m.ah=function(a){this.qa().oi(this.F.getElement(),a)};m.focus=function(){this.F.getElement().focus()};m.update=function(){Buh(this)};function Auh(a,b){if(a.O){var c=a.Oa.clone();b=c.C.set("disco",b);a.O.iSa(Ll(c,b).toString())}}function Cuh(a,b,c){b&&a7(a,b,"action",c)}m.sbc=function(a){iuh(this.D.H,this.L)&&(this.dispatchEvent(new Duh("r")),Euh(this,a))};m.nbc=function(a){Fuh(this)&&(this.dispatchEvent(new Duh("e")),Euh(this,a))};
m.mbc=function(a){this.dispatchEvent(new Duh("i"));Euh(this,a)};m.lbc=function(a){Guh(this)&&(this.F.Fd(!1),this.dispatchEvent(new Duh("d")),Euh(this,a))};m.rbc=function(a){this.dispatchEvent(new Duh("ra"));Euh(this,a)};m.qbc=function(a){this.dispatchEvent(new Duh("h"));Euh(this,a)};m.e5b=function(a){Euh(this,a);this.O.setVisible(!0)};function Euh(a,b){b.stopPropagation();a.F.Fd(!1)}m.gac=function(a){27==a.keyCode&&a.stopPropagation()};m.uRa=function(a){a.stopPropagation()};m.Wob=function(){Buh(this)};
function Fuh(a){return guh(a.D.H,a.Ka||a.L)&&!a.ma}function Guh(a){return huh(a.D.H,a.Ka||a.L)&&!a.D.ma}function Buh(a){if(a.V){var b=a.L.isResolved();if(null===a.ma||b!=a.ma){var c=Huh(a.L)?"Mark as done":"Resolve";a.V.setContent(b?"Re-open":c);a.ma=b}a.V.Na(iuh(a.D.H,a.L))}a.J&&(b=Fuh(a),a.J.Na(b),a.J.setVisible(b));a.H&&(b=Guh(a),a.H.Na(b),a.H.setVisible(b));a.R&&(b=!a.ma,a.R.Na(b),a.R.setVisible(b))}function Duh(a){An.call(this,a)}t(Duh,An);
function zuh(a){a=void 0===a?"docos-docomenu":a;Fy.call(this);this.D=a}t(zuh,Fy);zuh.prototype.gc=function(){return(new Vp("goog-menu"," ","docos"," ",this.D)).toString()};function Iuh(a,b,c,d,e,f,h){this.J=a;this.F=b;this.L=c;this.H=d;this.Ax=e;this.C=f;this.D=h}Iuh.prototype.ud=g("F");function Juh(){}function o7(a){var b=new Juh;b.D=a;return b}function p7(a,b){a.C=b;return a}function Kuh(a,b){a.Ax=b;return a}function q7(a){return new Iuh(a.D,a.C,a.J||!1,a.L||null,a.Ax||null,a.F||null,a.H||null)};function Luh(a,b,c,d,e,f,h){this.H=a;this.J=b;this.F=c;this.L=d;this.C=e;this.D=f;this.Lq=h}function Muh(){}function Nuh(a){var b=new Muh;b.H=a;return b}function Ouh(a,b){a.D=b;return a}function Puh(a,b){a.Lq=b;return a}function Quh(a){return new Luh(a.H,a.L||!1,a.F||null,a.J||null,a.C||null,a.D||null,a.Lq||null)};function Ruh(){jC.call(this,!1)}t(Ruh,jC);Ruh.prototype.RL=function(a){jC.prototype.RL.call(this,a)};function Suh(){this.C=!1;this.D=new Bf;this.va(this.D)}v(Suh,A);function Tuh(a,b,c){var d=P6(a);this.F=a;this.O=b;this.rs=c||null;this.R=null;this.J={};this.D={};this.C=new Tth(d);this.H=void 0;this.rQ=!!N(d,bsh,18);b=this.getId();if(a=P6(a)){a=O6(a);for(c=0;c<a.length;c++)d=new Tth(a[c]),void 0===K(a[c],13)?(this.D[d.getId()]=d,Wth(d)&&(this.H=Wth(d)),this.O.bind(b,d.getId())):this.J[d.getId()]=d;this.H||(this.H=null)}this.V=this.L=null}m=Tuh.prototype;m.Qv=function(){return this.C.Qv()};m.getId=function(){return this.C.getId()};
function r7(a){return K(a.C.C,11)||""}m.fP=function(){var a=K(this.F,4);if(void 0===a)return this.nx();this.V||(this.V=jX(a));return this.V};m.getContent=function(){return this.C.getContent()};m.uua=function(){return this.C.uua()};m.xea=function(){return this.C.xea()};m.Zz=function(){return this.C.Zz()};function s7(a){return K(a.F,8)||""}m.yea=function(){return this.C.yea()};m.S1=function(){return this.C.S1()};m.Xy=function(){return void 0!==K(this.F,8)};
m.isResolved=function(){return!!Ri(this.F,6)};function Uuh(a,b){var c=Md(a.D);b&&c.push(a.C);qd(c,function(d,e){return iX(d.nx(),e.nx())});return c}function n7(a,b){return a.D[b]||null}m.nx=function(){if(this.L)return this.L;var a=K(this.F,3);a?this.L||(this.L=jX(a)):this.L=null;return this.L};m.getNewDocoType=g("rs");m.xA=function(){return"draft"==this.rs||"client-integrated-draft"==this.rs||"instant-doco"==this.rs};function Vuh(a){return Wuh(a)}
function Wuh(a){return a.xA()||"smart-todo"==a.rs}m.OW=function(){return"smart-todo"==this.rs};m.nQ=function(){return!!Ri(this.F,9)};m.Wy=function(){return this.C.Wy()};m.OA=function(){return this.C.OA()};function c7(a){var b=a.C.OA()?a.C.OA():null;a=Uuh(a);for(var c=0;c<a.length;c++){var d=a[c];d.OA()&&(d=d.OA(),b?(b=new zth(jj(b.C)),d=X6(d),d=yth(d),bj(b.C,1,d)):b=new zth(jj(d.C)))}return b}function Huh(a){return a.C.OA()?a.C:null}m.Zj=function(){return this.C.Zj()};
m.isTodo=function(){return null!=this.rQ?this.rQ:this.rQ=!!Huh(this)};m.zG=function(){return this.C.zG()};function Xuh(a){if(void 0!==a.H)return a.H;if(!a.Zj())return a.H=null;for(var b in a.D){var c=Wth(a.D[b]);if(c)return a.H=c}return a.H=null}m.getOrigin=function(){return this.C.getOrigin()};m.Qsa=function(){return this.C.Qsa()};m.Msa=function(){var a=this.getOrigin();if(2==a)return!0;if(1!=a)return!1;for(var b=Uuh(this),c=0;c<b.length;c++){a=b[c].getOrigin();if(2==a)return!0;if(1!=a)break}return!1};
function t7(a){this.C=a;this.rs=null}function u7(a){var b=new Q6;a=a.C;bj(b,2,a);a.getId()||K(a,11);b.Uc(a.getId()||K(a,11));return new t7(b)}function Yuh(a,b){M(a.C,8,b);return a}function v7(a,b){M(a.C,9,b);return a}function Zuh(a,b){a.rs=b;return a}t7.prototype.getNewDocoType=g("rs");t7.prototype.DB=function(a){this.C.DB(a);return this};t7.prototype.getId=function(){return P6(this.C).getId()};function $uh(a,b,c,d,e,f,h,k){An.call(this,a);this.O=b;this.C=c;this.R=d;this.Lq=e;this.D=f;this.V=h;this.F=k}t($uh,An);function avh(){this.Lq=this.F=this.D=this.L=this.au=null;this.H=this.C=0;this.J=!1}function bvh(a){var b=new avh;b.au=a;return b}function cvh(a,b){a.L=b;return a}function dvh(a,b){a.H=b;return a}function evh(a,b){a.J=b;return a}function fvh(a){return new $uh(a.au,a.L,a.D,a.F,a.Lq,a.C,a.H,a.J)};function gvh(a){A.call(this);this.C=a;this.F=$6(a);this.D=hvh(this.C);this.H={}}v(gvh,A);function ivh(a,b,c,d,e,f){var h=cf(),k=new k7(h);d&&m7(k,d,La());f&&duh(k);e&&(d=xth(tth(wth(new h7,e).Uc(""),!1)),d=Ath(d),buh(k,d));c=Zuh(v7(Yuh(u7(k),b),!1),c);jvh(e7(a.C),c);e7(a.C).flush();kvh(a.D,Quh(Puh(Ouh(Nuh(43008),h),b)));return w7(e7(a.C),h)}
function lvh(a,b,c,d,e){d=tth(wth(new h7,d).Uc(""),!1);zd(af(e))||d.jd(e);e=xth(d);d=Ath(e);e=cf();var f=La();c=duh(buh(m7(cuh(new k7(e),a.F.ih()),c,f),d));c=Zuh(v7(Yuh(u7(c),b),!1),"smart-todo");jvh(e7(a.C),c);e7(a.C).flush();kvh(a.D,Quh(Puh(Ouh(Nuh(43023),e),b)));return w7(e7(a.C),e)}
function mvh(a,b,c,d,e){var f=cf(),h=La();c=m7(cuh(Zth(l7(new k7(f)),h),a.F.ih()),c,h);e&&duh(c);d&&(d=xth(tth(wth(new h7,d).Uc(""),!1)),d=Ath(d),buh(c,d));c=v7(u7(c),!0);M(c.C,3,h);b=Zuh(Yuh(c,b),"discussion");jvh(e7(a.C),b);e7(a.C).flush();b=e7(a.C).ud(f);x7(a.D,q7(p7(o7(43009),b)));return w7(e7(a.C),f)}m=gvh.prototype;m.$$a=function(a){nvh(e7(this.C),a);e7(this.C).flush()};
m.W$a=function(a,b,c,d){if(a=e7(this.C).ud(a)){if(d&&!a.OA())throw Error("Cannot reassign a doco with no existing assignment");if(a.Zj()&&d)throw Error("Cannot reassign a suggestion.");var e=cf(),f=La();b=cuh(Zth(m7(l7(new k7(e)),b,f),f),this.F.ih());c&&Yth(b,c);d&&buh(b,d);c=Xth(new k7(r7(a),a.getId()),b);c=v7(u7(c),!0);y7(e7(this.C),c);e7(this.C).flush();x7(this.D,q7(p7(o7(d?43020:43010),a)))}};
m.bab=function(a,b){if(a=e7(this.C).ud(a)){var c=new k7(r7(a),a.getId()),d=null!=a.Wy()?new Cth(a.Wy().C.clone()):new Cth(new fsh);M(d.C,4,b?1:0);bj(c.C,19,d.C);l7(c);c=v7(u7(c),!0);y7(e7(this.C),c);e7(this.C).flush();x7(this.D,q7(p7(o7(b?43040:43041),a)))}};
m.cab=function(a,b,c){if(a=e7(this.C).ud(a)){var d=new k7(r7(a),a.getId());if(c=n7(a,c)){var e=null!=c.Wy()?new Cth(c.Wy().C.clone()):new Cth(new fsh),f=new k7(r7(a),c.getId());M(e.C,4,b?1:0);bj(f.C,19,e.C);Xth(d,l7(f));d=v7(u7(d),!0);y7(e7(this.C),d);e7(this.C).flush();x7(this.D,q7(Kuh(p7(o7(b?43042:43043),a),c)))}}};
m.ifb=function(a,b,c){if(a=e7(this.C).ud(a))if(b=n7(a,b)){var d=La();c=m7(l7(new k7(K(b.C,11)||"",b.getId())),c,d);c=Xth(new k7(r7(a),a.getId()),c);c=v7(u7(c),!0);y7(e7(this.C),c);e7(this.C).flush();x7(this.D,q7(Kuh(p7(o7(43021),a),b)))}};m.e2b=function(a,b){if(a=e7(this.C).ud(a)){var c=La();b=m7(new k7(r7(a),a.getId()),b,c);b=v7(u7(b),!1);y7(e7(this.C),b);e7(this.C).flush()}};
m.aab=function(a,b,c){if(a=e7(this.C).ud(a)){if(a.Zj())throw Error("Cannot resolve a suggestion.");var d=cf(),e=La();d=cuh(Zth(l7(new k7(d)),e),this.F.ih()).DB(b);c&&m7(d,c,e);c=Xth(new k7(r7(a),a.getId()),d);c=v7(u7(c),!0).DB(b);y7(e7(this.C),c);e7(this.C).flush();x7(this.D,q7(p7(o7(b?43014:43015),a)))}};
m.X$a=function(a,b){var c=e7(this.C),d=c.ud(a);d&&(this.H[w7(c,a)]=Nd(Wd(d.D)),a=$th(l7(new k7(r7(d),d.getId()))),a=v7(u7(a),!0),d.OW()||(d=p7(o7(43017),d),null!=b&&(d.F=b),x7(this.D,q7(d))),y7(c,a),c.flush())};
function ovh(a,b){var c=e7(a.C);if(z7(c,b))throw Error("Cannot undo deletion of non-deleted Doco.");var d=c.Ea[b];if(!d)throw Error("Doco with handle "+b+" does not exist.");var e=auh(l7(new k7(r7(d),d.getId()))),f=a.H[b];delete a.H[b];a=Wd(d.J);b=Wd(d.D);for(var h=0;h<f.length;h++){var k=f[h];Xth(e,auh(l7(new k7(K((b[k]||a[k]).C,11)||"",k))))}e=v7(u7(e),!0);y7(c,e);c.flush();return w7(c,d.getId())}
m.LFa=function(a,b){if(a=z7(e7(this.C),a)){var c=a.zG();if(!a.Zj()||!c)throw Error("Attempting to set model diff summary on a non-suggestion.");a=l7(new k7(r7(a),a.getId()));c=(new $rh).setType("application/vnd.google-apps.docs.mds");b=bj(c,3,b);bj(a.C,9,b);b=v7(u7(a),!0);y7(e7(this.C),b);e7(this.C).flush()}};m.gfb=function(a,b){if(a=e7(this.C).ud(a)){var c=La();b=m7(l7(new k7(r7(a),a.getId())),b,c);b=v7(u7(b),!0);y7(e7(this.C),b);e7(this.C).flush();x7(this.D,q7(p7(o7(43022),a)))}};
m.l$a=function(a,b){(a=e7(this.C).ud(a))&&(b=n7(a,b))&&pvh(this,a,b)};function pvh(a,b,c){x7(a.D,q7(Kuh(p7(o7(43016),b),c)));y7(e7(a.C),qvh(b,c));e7(a.C).flush()}function qvh(a,b){b=$th(l7(new k7(K(b.C,11)||"",b.getId())));a=Xth(new k7(r7(a),a.getId()),b);return v7(u7(a),!0)}m.Z$a=function(a){var b=z7(e7(this.C),a,!0);a=rvh(e7(this.C),a);b&&a&&pvh(this,b,a)};
m.Y$a=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=z7(e7(this.C),d,!0);d=rvh(e7(this.C),d);e&&d&&b.push(qvh(e,d))}svh(e7(this.C),b,"c")};function tvh(a,b,c,d){b=z7(e7(a.C),b);if(!uvh(a,b))return 0;var e=cf();y7(e7(a.C),vvh(a,b,e,c));d||(d=a.D,c=p7(o7(c?43027:43028),b),c.J=!0,x7(d,q7(c)));return w7(e7(a.C),b.getId(),e)}function uvh(a,b){if(!b)return!1;if(!b.Zj()||!b.zG())throw Error("Attempting to accept/reject a non-suggestion.");return wvh(e7(a.C),b)?!0:!1}
function vvh(a,b,c,d){a=Yth(cuh(Zth(l7(new k7(c)),La()),a.F.ih()),b.zG());M(a.C,10,d?2:3);b=Xth(new k7(r7(b),b.getId()),a);return v7(u7(b),!0)}function xvh(a,b,c){for(var d=[],e=[],f=[],h=0;h<b.length;h++){var k=z7(e7(a.C),b[h]);if(uvh(a,k)){var l=cf();d.push(vvh(a,k,l,c));e.push(k.getId());f.push(l)}}svh(e7(a.C),d,"c");b=[];for(h=0;h<e.length;h++)b.push(w7(e7(a.C),e[h],f[h]));return b};function yvh(){Mn.call(this)}v(yvh,Mn);function zvh(a,b){An.call(this,a);this.Rl=b||null}v(zvh,An);function Avh(){Ap.call(this,"",void 0,!0);this.F=new wp(u(this.C,this));this.va(this.F);this.H=null}t(Avh,Ap);Avh.prototype.O=function(a,b,c,d){if(this.H&&!ud(a,"Error in protected function: ")){var e=new Esh;a=M(e,1,a);b=M(a,2,b);c=M(b,3,String(c));d&&M(c,4,d);Bvh(this.H,"rjse",c,void 0,ta,!0,1)}};Avh.prototype.Ja=function(){Ap.prototype.Ja.call(this);delete this.F};function Cvh(a){Mn.call(this);var b=this;this.F=null;this.H=new qn;this.va(this.H);this.C=a;rn(this.H,this.C.EF(),function(){"hidden"===b.C.getState()&&(b.D=new RB);"visible"!=b.C.getState()||$ib(b.D)||(b.dispatchEvent("oj"),Dvh(b))});this.D=new RB;Dvh(this)}t(Cvh,Mn);Cvh.prototype.format=function(a){var b=new RB(a);b=(new RB).getTime()-b.getTime();if(15552E6<b||-864E5>b)return Evh.format(a);b=U4e(a.getTime());return Fvh.format(a)+(" "+b)};
function Dvh(a){var b=new RB;b.add(new QB(0,0,1));b=b.getTime();Wo(a.F);a.F=Vo(function(){a.dispatchEvent("oj");Dvh(a)},b-La(),a)}va(Cvh);var Fvh=new VB(7),Evh=new VB(2);function Gvh(a){this.C=a;this.D={};this.J={};this.L=this.C.V;this.cd=0;this.H=[];this.Ma=new Nn(this);this.va(this.Ma);this.Ma.listen(this.C,"r",this.O)}v(Gvh,A);var Hvh=[kf?"readystatechange":"load","abort","error"];function Ivh(a){return"legacy"==a.C.F?"//ssl.gstatic.com/docs/common/profile/unverified_user_96.svg":"//ssl.gstatic.com/docs/common/profile/material_unverified_user_96.svg"}
function Jvh(a,b,c,d){if(b){var e="dcs-img-"+a.cd++;b.id=e;b.alt=d;a.D[e]=b;a.J[e]=c||"//ssl.gstatic.com/s2/profiles/images/silhouette96.png";Kvh(a,e)}}function kth(a,b,c,d){b&&a.H.push(new Lvh(b,c,d))}function Mvh(a){Vo(function(){for(;this.H.length;){var b=this.H.pop();Jvh(this,b.gx,b.src,b.C)}},0,a)}function f7(a,b){b&&b.id&&(a.Ma.Gc(b,Hvh,a.F),delete a.D[b.id],delete a.J[b.id])}Gvh.prototype.O=function(){var a=this.C.V;if(this.L!=a&&(this.L=a,!a))for(var b in this.D)Kvh(this,b)};
Gvh.prototype.F=function(a){if(a.currentTarget){var b=a.currentTarget;if("readystatechange"!=a.type||"complete"==b.readyState)"abort"==a.type||"error"==a.type?(b.classList.contains("docos-avatar-unverified")&&(b.classList.remove("docos-avatar-unverified"),this.C.D.C(b,"")),this.Ma.Gc(b,Hvh,this.F),b.src="//ssl.gstatic.com/s2/profiles/images/silhouette96.png"):f7(this,b)}};function Kvh(a,b){a.Ma.listen(a.D[b],Hvh,a.F);a.D[b].src=a.J[b]}function Lvh(a,b,c){this.gx=a;this.src=b;this.C=c};function Nvh(){cX.call(this);this.V=!1}v(Nvh,cX);function $6(a){return a.get("config")}function g7(a){var b=dX(a,"action_registry");if(!b){b=new Ruh;for(var c=Md(Jsh),d=0;d<c.length;d++){var e=c[d];e=O((new Ks(e)).$i("label",e).$i("visible",!0).$i("hint",e).$i("enabled",!0));b.qB(e);b.va(e)}a.sf("action_registry",b)}return b}function e7(a){return a.get("stream")}function d7(a){return a.get("imageManager")}function Ovh(a){return a.get("subscriptionManager")}
function hvh(a){return a.get("impressionRecorder")}function cth(a){return dX(a,"errorReporter")}function Pvh(a){var b=dX(a,"batchEventTracker");b||(b=new Suh,a.sf("batchEventTracker",b));return b};function Qvh(a,b,c){this.L=a;this.D=b;this.O=c;this.C=!1;this.J=this.H=0;this.F=$6(a).Bm}function Rvh(a,b){a.C!=b&&(a.C=b,b={zj:a.D,sKb:a.O,BKb:b},g7(a.L).tf("mouse-hover-doco-view").wb(b))};function Svh(a){a=a||{};var b=a.jI,c=a.h_,d=a.CKb;a="";b&&(d="docos-action-text "+(d?"docos-edit-pane-action-text":"docos-body-action-text"),a+=c?"<div class="+eX(c)+"><span class="+eX(d)+">"+R(b)+"</span></div>":"<span class="+eX(d)+">"+R(b)+"</span>");return S(a)};function Tvh(a){a=a||{};var b=a.Jh,c=a.vA;a=a.qQ;return S('<div class="'+T("goog-inline-block")+" "+T("goog-menu-button")+" "+T("docos-docomenu-dropdown")+'">'+(b?R(Vsh({Jh:""+b,vA:""+c,qQ:a})):"")+"</div>")};function Uvh(a,b,c){b=c||b;a=a||{};c=S;var d;if(a.Ro){var e=b;b=a||{};var f=b.author,h=b.Uka,k=b.Be;a=b.Vl;var l=b.DA,n=b.Zj,q=b.xA,r=b.twa,w=b.jI,x=b.DW,B=b.Jj,L=b.vda,X=b.Xsa,V=b.timestamp,ca=b.a$a,la=b.Dn;f='<div class="'+T("docos-anchoredreplyview")+(k?" "+T(k):"")+(n?" "+T("docos-replyview-suggest"):" "+T("docos-replyview-comment"))+'"><div class="'+T("docos-anchoredreplyview-header")+'"><div class="'+T("docos-anchoredreplyview-avatar-holder")+'">'+R(Wsh({size:32,e$a:ca,Be:"docos-replyview-avatar docos-anchoredreplyview-avatar"}))+
(l?'<div class="'+T("docos-user-presence")+'"></div>':"")+'</div><div class="'+T("docos-anchoredreplyview-authortimestamp")+'"><div class="'+T("docos-anchoredreplyview-author")+" "+T("docos-author")+'">'+(f?R(f):"")+'</div><div class="'+T("docos-anchoredreplyview-timestamp")+" "+T("docos-replyview-timestamp")+'">'+(V?R(V):"")+'</div></div><div class="'+T("docos-anchoredreplyview-buttonholder")+" "+T("hide-on-readonly")+'">';sw(n)&&sw(l)?(w=w={Dn:la},w=S(Vvh({Zc:"docos-accept-suggestion jfk-button-collapse-right",
Dn:w.Dn},e)),la=la={Jj:B,Dn:la},B=la.Jj,la=la.Dn,e=""+R(Ez({title:"Reject suggestion",style:la?4:0,Zc:"docos-reject-suggestion jfk-button-collapse-left",content:tw(""+(la?S('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>'):R(Vsh({Jh:"docos-icon-reject-suggestion-cross",vA:"docos-icon-reject-suggestion-cross-size",Be:"jfk-button-img"})))),WM:B},e)),e=S(e),e=w+e):q?
e="":(B=l?L?S(Vvh({Zc:"docos-replyview-resolve-button-plus-one docos-replyview-resolve-button jfk-button-collapse-right"},e)):S(R(Ez({Zc:"docos-replyview-resolve-button-original docos-replyview-resolve-button"},e))):"",!sw(L)||!sw(x)&&w?e="":X?(L=(L=b)||{},la=L.DA,w=L.DW,L=L.Jj,X=R(Vsh({Jh:"docos-icon-thumb-black",vA:"docos-icon-thumb-size",Be:"jfk-button-img",qQ:!0}))+'<div class="'+T("like-button-text")+'">',X+="0</div>",e=""+R(Ez({Zc:"docos-like-button "+(sw(la)&&!w?"jfk-button-collapse-left":
""),title:"Like this",content:tw(X),WM:L},e)),e=S(e),e=R(e)):(L=(L=b)||{},la=L.DA,w=L.DW,L=L.Jj,X='<div class="'+T("vote-button-text")+'">',X+="+1</div>",e=""+R(Ez({Zc:"docos-vote-button "+(sw(la)&&!w?"jfk-button-collapse-left":""),title:"+1 this comment",content:tw(X),WM:L},e)),e=S(e),e=R(e)),e=B+e+'<div class="'+T("docos-overflowmenu-outer")+'" style="visibility: hidden"></div>');h=f+e+'</div></div><div class="'+T("docos-collapsible-replyview")+" "+(h?"":T("docos-collapsible-replyview-empty"))+
'">'+(l||x?"":R(Svh(qw({h_:""},b))))+'<div class="'+T("docos-replyview-static")+'"><div class="'+T("docos-replyview-body")+" "+T("docos-anchoredreplyview-body")+'">'+(h?R(h):"")+'</div><div class="'+T("docos-show-more")+'" role="button" tabindex="0">';h=h+'Show more</div><div class="'+(T("docos-show-less")+'" role="button" tabindex="0" style="display:none">');h+="Show less";l?d=R(Svh(qw({h_:"docos-root-reply-action-text-wrapper"},b))):x?d=R(Svh(qw({h_:"docos-action-text-bottom-wrapper"},b))):d="";
h+="</div></div></div>"+(a?'<div class="'+T("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+d+'<div class="'+T("docos-replyview-origin")+" "+T("docos-anchoredreplyview-origin")+'">'+(r?R(r):"")+"</div></div>";d=S(h)}else x=a||{},h=x.author,f=x.Uka,r=x.jla,a=x.Vl,l=x.twa,e=x.timestamp,B=x.Dn,d=S,x.DA?(a=(a=x)||{},la=a.author,l=a.Uka,w=a.Be,r=a.Vl,x=a.v6b,h=a.hta,f=a.twa,e=a.jI,B=a.DW,L=a.timestamp,b='<div class="'+T("docos-streamrootreplyview")+(w?" "+T(w):"")+'"><div class="'+
T("docos-streamdocoview-authorname")+" "+T("docos-author")+" "+T("goog-inline-block")+'">'+(la?R(la):"")+'</div><div class="'+T("goog-inline-block")+" "+T("docos-actionmenu-outer")+'">'+R(Tvh(null,b))+'</div><div class="'+T("docos-streamdocoview-details")+" "+T("goog-inline-block")+'"><div class="'+T("docos-streamdocoview-timestamp")+" "+T("docos-replyview-timestamp")+" "+T("goog-inline-block")+'">'+(L?R(L):"")+'</div><div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+" "+T("show-on-readonly")+
'" aria-hidden="true">&bull;</div><div class="'+T("docos-streamdocoview-comments-off")+" "+T("goog-inline-block")+" "+T("show-on-readonly")+'">',b=b+'Comments off</div><div class="'+(T("docos-streamdocoview-reopen-control")+" "+T("goog-inline-block")+" "+T("hide-on-readonly")+'" style="display: none"><div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+'" aria-hidden="true">&bull;</div><div class="'+T("docos-docoview-reopen")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="'),
b+=vw("Mark as open and return discussion to the document view"),b+='">Re-open</div></div></div>',x&&(b+='<div class="'+T("docos-replyview-quote-caption")+'">',b=b+'Selected text:</div><div class="'+(T("docos-replyview-quote")+" "+T("docos-replyview-quote-collapsed")+'">'+R(x)+'<div class="'+T("docos-replyview-quote-collapse")+" "+T("goog-inline-block")+'" style="display:none">'),b=b+'Collapse</div><div class="'+(T("docos-replyview-quote-expand")+'">'),b+="Show all</div></div>"),b+='<div class="'+
T("docos-replyview-static")+'"><div class="'+T("docos-streamdocoview-body")+" "+T("docos-replyview-body")+'">'+R(l)+"</div>"+(e?R(Svh(qw({h_:"docos-root-reply-action-text-wrapper"},a))):"")+'<div class="'+T("docos-streamdocoview-controls")+" "+T("hide-on-readonly")+'"><div class="'+T("docos-streamdocoview-comment-control")+" "+T("goog-inline-block")+'"><div class="'+T("docos-docoview-comment")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',b+=vw("Reply to this comment"),b+='">Reply</div></div>',
h&&(b+='<div class="'+T("docos-streamdocoview-resolve-control")+" "+T("goog-inline-block")+'"><div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+'" aria-hidden="true">&bull;</div>',B?(b+='<div class="'+T("docos-docoview-resolve")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',b+=vw("Mark as done and then hide discussion"),b+='">Mark as done'):(b+='<div class="'+T("docos-docoview-resolve")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',b+=
vw("Mark as resolved and hide discussion"),b+='">Resolve'),b+="</div></div>"),b+="</div></div>"+(r?'<div class="'+T("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+'<div class="'+T("docos-replyview-origin")+" "+T("docos-streamreplyview-origin")+'">'+(f?R(f):"")+"</div></div>",b=S(b)):(b='<div class="'+T("docos-streamreplyview")+'">'+R(Wsh({size:B?32:24,Be:"docos-replyview-avatar docos-streamreplyview-avatar"}))+'<div class="'+T("docos-streamreplyview-content")+'"><div class="'+
T("docos-streamreplyview-text")+" "+T("goog-inline-block")+'"><div class="'+T("docos-streamreplyview-author")+" "+T("docos-author")+" "+T("goog-inline-block")+'">'+(h?R(h):"")+"</div>"+R(Svh(x))+' <br><span class="'+T("docos-replyview-body")+" "+T("docos-streamreplyview-body")+" "+T("docos-replyview-static")+'">'+R(f)+'</span></div><div class="'+T("docos-replyview-static")+'"><div class="'+T("docos-streamreplyview-timestamp")+" "+T("docos-replyview-timestamp")+" "+T("goog-inline-block")+'">'+(e?R(e):
"")+"</div>",sw(r)||sw(a)?(h=h={U7a:!0,jla:r,Vl:a},r=h.jla,x=h.Vl,h=h.U7a,f='<div class="'+T("docos-replyview-control")+" "+T("docos-replyview-static")+" "+T("goog-inline-block")+" "+T("hide-on-readonly")+'">',x&&(f+=(h?'<div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+'" aria-hidden="true">&bull;</div>':"")+'<div class="'+T("docos-replyview-edit")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',f+=vw("Make changes to your comment"),f+='">Edit</div>'),r&&
(f+=(h?'<div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+'" aria-hidden="true">&bull;</div>':"")+'<div class="'+T("docos-replyview-delete")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',f+=vw("Permanently delete your comment"),f+='">Delete</div>'),r=S(f+"</div>"),r=R(r)):r="",b=b+r+"</div>"+(a?'<div class="'+T("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+'<div class="'+T("docos-replyview-origin")+" "+T("docos-streamreplyview-origin")+
'">'+(l?R(l):"")+"</div></div></div>"),d=d(b);return c(d)}function Wvh(){return S('<div class="'+T("docos-showrepliesbutton")+'" style="display:none"><div class="'+T("docos-showrepliesbutton-collapsed")+'"></div></div>')}
function Vvh(a,b){a=a||{};var c=a.Zc;a=a.Dn;var d=S,e;a?e=S('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>'):e=R(Vsh({Jh:"docos-icon-accept-checkmark-black",vA:"docos-icon-accept-checkmark-size",Be:"jfk-button-img"}));return d(R(Ez({Zc:c?""+c:"",style:a?4:0,content:tw(""+e)},b)))};function Xvh(a,b){a=a||{};var c=a.aEa,d=a.Zc,e=a.$Ga;a=a.aHa;return S('<div class="'+T("goog-inline-block")+(d?" "+T(d):"")+'">'+R(hS({Mk:c,Zc:e},b))+(c?"<label"+(a?' class="'+T(a)+'"':"")+">"+R(c)+"</label>":"")+"</div>")};function Yvh(a,b,c){b=c||b;a=a||{};var d=a.Be;c=a.M8;var e=a.M$b,f=a.qla,h=a.bHa,k=a.hDa,l=a.Jj,n=a.jI,q=a.UH;a='<div class="'+T("docos-input")+(d?" "+T(d):"")+'" style="display: none"><textarea class="'+T("docos-input-textarea")+(h?" "+T(h):"")+'" autocomplete="input-area" x-webkit-speech speech></textarea>'+(n?R(Svh(qw({h_:"docos-edit-pane-action-text-wrapper",CKb:!0},a))):"")+(e?'<div class="'+T("docos-input-sidearrow-outer")+'"></div><div class="'+T("docos-input-sidearrow-inner")+'"></div>':"")+
'<div id="docos-input-assignment-panel" class="'+T("docos-input-assignment-panel")+'" style="display: none">'+R(hS({Zc:"docos-input-assignment-box"},b))+'<div class="'+T("docos-input-assignee-text")+'">'+R(k)+'</div><div class="'+T("docos-input-assignee-select")+'"></div></div>'+(q?'<div class="'+T("docos-input-static-message")+'">'+R(q)+"</div>":"")+'<div class="'+T("docos-input-at-reply-message")+'" style="display: none">';a=a+'Your +mention will add people to this discussion and send an email.</div><div class="'+
(T("docos-input-acl-fixer-message")+'" style="display: none" aria-live="polite">');a=a+"Making sure that people you've mentioned have access\u2026</div><div class=\""+(T("docos-input-assignment-message")+'" style="display: none">');a=a+'The assigned person will be notified and responsible for marking as completed.</div><div class="'+(T("docos-input-assign-to-text")+'" style="display: none"></div><div class="'+T("docos-focusedpresenceindicator-container")+'"></div><div class="'+T("docos-input-buttons")+
'">'+R(Ez({style:2,Zc:"docos-input-post docos-input-buttons-post"},b)));d="";d=f?d+(""+f):d+"Discard comment";f="";f=c?f+R(c):f+"Cancel";a+=R(Ez({Zc:"docos-input-cancel",title:d,content:tw(f),WM:l},b));return S(a+"</div></div>")};function Zvh(a,b,c){b=c||b;a=a||{};c=S;if(a.Ro){a=a||{};var d=a.author,e=a.OW,f=a.DW,h=a.Jj,k=a.Dn;a.xA?(a=(a=qw({author:d,Jj:h},a))||{},d=a.author,e=a.Jj,f=a.UH,b=S('<div class="'+T("docos-anchoreddocoview-content")+" "+T("docos-anchoreddocoview-draft")+'">'+R(Uvh(qw({author:d,Ro:!0,DA:!0,Be:"docos-replyview-first"},a),b))+"</div>"+R(Yvh({Be:"docos-anchoreddocoview-input-pane docos-draftdiscussionview-input-pane docos-docoview-input-pane",Jj:e,UH:f},b)))):e?(d=(d=qw({Jj:h,Dn:k},a))||{},e=d.e8a,a=
d.Jj,f=d.Dn,h='<div class="'+T("docos-anchoreddocoview-content")+" "+T("docos-smarttodoview")+'"><div class="'+T("docos-smarttodoview-container")+'"><div class="'+T("docos-smarttodoview-header")+'"><table><tr><td class="'+T("docos-icon-explore-container")+'">'+R(Vsh({Jh:"docos-icon-explore",vA:"docos-icon-explore-size",qQ:!0}))+'</td><td class="'+T("docos-smarttodoview-headertext")+'" role="heading"><div class="'+T("docos-smarttodoview-headertext-outer")+'"><div class="'+T("docos-smarttodoview-headertext-inner")+
'">',h=h+'Suggested action item</div></div></td><td><div class="'+(T("docos-overflowmenu-outer")+'">'+R(Tvh({vA:"docos-icon-overflow-three-dots-size",Jh:"docos-icon-overflow-three-dots",qQ:f},b))+'</div></td></tr></table></div><div class="'+T("docos-smarttodoview-body")+'"></div>'),h+=R(Yvh({Be:"docos-docoview-input-pane",M8:"Dismiss",qla:"Dismiss suggested action item",Jj:a},b)),e&&(h+='<div class="'+T("docos-smarttodoview-showfeedbackdialog-container")+'"><div class="'+T("docos-smarttodoview-showfeedbackdialog-button")+
'" role="button" tabindex="0" aria-expanded="false">',h+="Bad suggestion?</div></div>"),a=h,e?(d=d||{},d=d.Jj,e='<div class="'+T("docos-smarttodoview-feedback")+'" style="display: none"><div class="'+T("docos-smarttodoview-feedback-headertext")+'" role="heading">',e=e+"Tell us why you didn't like this</div><div class=\""+(T("docos-smarttodoview-feedback-checkboxlist")+'">'),e+=R(Xvh({aEa:"Not an action item",Zc:"docos-smarttodoview-feedback-checkbox-container",$Ga:"docos-smarttodoview-feedback-checkbox docos-smarttodoview-feedback-notactionitem",
aHa:"docos-smarttodoview-feedback-text docos-smarttodoview-feedback-notactionitem-label"},b)),e+=R(Xvh({aEa:"Wrong assignee",Zc:"docos-smarttodoview-feedback-checkbox-container",$Ga:"docos-smarttodoview-feedback-checkbox docos-smarttodoview-feedback-wrongassignee",aHa:"docos-smarttodoview-feedback-text docos-smarttodoview-feedback-wrongassignee-label"},b)),e+='</div><div class="'+T("goog-inline-block")+" "+T("docos-smarttodoview-writefeedback-link")+'" role="button" tabindex="0">',e=e+'Write feedback</div><div class="'+
(T("docos-smarttodoview-feedback-buttonlist")+'">'),e+=R(Ez({style:2,Zc:"docos-input-post docos-smarttodoview-feedback-submit",title:"Submit feedback",content:"Submit",WM:d},b)),e+=R(Ez({Zc:"docos-input-cancel docos-smarttodoview-feedback-cancel",title:"Discard feedback",content:"Cancel",WM:d},b)),b=S(e+"</div></div>")):b="",b=S(a+("</div>"+b+"</div>")),b=R(b)):b=(f?'<div class="'+T("docos-anchoreddocoview-content")+" "+T("docos-anchoreddocoview-assigneecontainer")+'"></div>':"")+'<div class="'+T("docos-anchoreddocoview-content")+
" "+T("docos-docoview-replycontainer")+'"><div class="'+T("docos-docoview-rootreply")+'"></div></div><div class="'+T("docos-input-pane-placeholder")+'" style="display: none"></div><div class="'+T("docos-unfocusedpresenceindicator-container")+'"></div>';b=S('<div class="'+T("docos-docoview-tesla-conflict")+'" role="dialog"><div class="'+T("docos-anchoreddocoview-internal")+'">'+b+"</div></div>")}else b=a||{},b=b.Dn,b=S('<div class="'+T("docos-docoview-tesla-conflict")+'">'+R(Wsh({size:b?32:48,Be:"docos-streamdocoview-avatar"}))+
'<div class="'+T("docos-streamdocoview-content")+'"><div class="'+T("docos-docoview-rootreply")+'"></div><div class="'+T("docos-streamdocoview-replycontainer")+" "+T("docos-docoview-replycontainer")+'"></div><div class="'+T("docos-streamdocoview-inputcontainer")+" "+T("hide-on-readonly")+'">'+R(Wsh({size:b?32:24,Be:"docos-streamreplyview-avatar"}))+'<div class="'+T("docos-input-pane-placeholder")+'" style="display: none"></div></div></div></div>');return c(b)};function A7(a,b,c,d,e){Z6.call(this,a,d);this.R=a;this.Za=c;this.$a=[];this.O=null;this.Qa=new Qvh(this.R,b,this.Ro());this.Uc(b);this.Pa=null;this.wc=e;this.Cb=this.xa=null;this.yd=!0}v(A7,Z6);m=A7.prototype;m.$Pa=!1;m.yz=ta;m.Uc=function(a){A7.Ta.Uc.call(this,a);this.Qa.D=a};m.getContext=g("R");m.ud=function(){return e7(this.R).ud(this.getId())||null};m.Vk=function(){var a=this.getId();return $vh(this.wc,a)};m.mO=ea(null);m.Xma=ea(!1);
m.Ba=function(){var a=this.ud(),b=a.Qv();a=c7(a);var c=Kx(Zvh,{author:b.getName(),Ro:this.Ro(),DW:!!a,Jj:this.C.Jj(),Dn:"legacy"!=this.C.F});this.Ro()||tuh(this.C)||Ow(c,"docos-streampanemargin-legacy");this.ib(c);this.re(b,a||void 0)};
m.re=function(a,b){b=b?$sh(b,this.C):void 0;a=a.getName();var c=Kd(this.ud().D),d=this.ud().isResolved()?"Resolved":"Open";b=a&&b?(new lA("{numReplies,plural, =1{Comments dialogue. {state} comment. Author {author}. Assignee {assignee}. 1 reply.}other{Comments dialogue. {state} comment. Author {author}. Assignee {assignee}. {numReplies} replies.}}")).format({state:d,author:a,assignee:b,numReplies:c}):a?(new lA("{numReplies,plural, =1{Comments dialogue. {state} comment. Author {author}. 1 reply.}other{Comments dialogue. {state} comment. Author {author}. {numReplies} replies.}}")).format({state:d,
author:a,numReplies:c}):(new lA("{numReplies,plural, =1{Comments dialogue. {state} comment. 1 reply.}other{Comments dialogue. {state} comment. {numReplies} replies.}}")).format({state:d,numReplies:c});Kw(this.getElement(),b)};m.Ia=function(){A7.Ta.Ia.call(this);a7(a7(this,this.getElement(),["click","keypress","keyup"],this.iab),this.getElement(),["mouseenter","mouseleave","mousemove"],this.a3b);xo(this.getElement(),!0)};m.vd=function(){A7.Ta.vd.call(this);Rvh(this.Qa,!1)};m.I8=ea(!1);
m.mea=function(){if("legacy"==this.C.F&&this.Ro()&&(!this.xa||!this.Cb)){var a=this.qa(),b=this.getElement(),c=a.createElement("DIV");Ow(c,"docos-anchoreddocoview-arrow-inner");this.xa=c;c=a.createElement("DIV");Ow(c,"docos-anchoreddocoview-arrow-outer");this.Cb=c;a.Tr(b,this.xa,0);a.Tr(b,this.Cb,0)}};m.Xc=function(){if(!this.O||0==this.O.height||0==this.O.width){var a=this.yd;a||this.setVisible(!0);this.O=new em(this.getElement().offsetWidth,this.getElement().offsetHeight);a||this.setVisible(!1)}return this.O.clone()};
m.getHeight=function(){this.O||this.Xc();return this.O.height};m.iab=function(a){(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type)&&this.OFa(a);32==a.keyCode&&"keypress"==a.type&&(a.stopPropagation(),a.preventDefault())};m.a3b=function(a){var b=this.Qa;"mousemove"==a.type&&b.F?(b.H=a.clientX,b.J=a.clientY):"mouseenter"!=a.type&&"mouseleave"!=a.type||Rvh(b,"mouseenter"==a.type);a.stopPropagation()};m.lU=function(a){this.resize();a.stopPropagation()};
m.resize=function(){this.O=null;this.dispatchEvent(new b7(this.getId()))};m.setVisible=function(a){this.yd=a;P(this.getElement(),a)};m.isVisible=g("yd");
function awh(a){var b=["docos-docoview-tesla-conflict"],c=[];bwh(a,"docos-anchoreddocoview",a.Ro(),b,c);bwh(a,"docos-streamdocoview",!a.Ro(),b,c);bwh(a,"docos-docoview-active",a.Vk(),b,c);var d=a.ud();bwh(a,"docos-docoview-resolved",!!d&&d.isResolved(),b,c);if(0<b.length||0<c.length)Pw(a.getElement(),b),Rw(a.getElement(),c),a.$a=Lw(a.getElement())}function bwh(a,b,c,d,e){c&&!Zc(a.$a,b)?d.push(b):!c&&Zc(a.$a,b)&&e.push(b)}m.XR=da("Pa");function cwh(a){return a.Pa?a.Pa:a.C.Sn}m.getDocoMaxHeight=g("Pa");
m.Ja=function(){A7.Ta.Ja.call(this);delete this.R};function dwh(a,b){this.C=a;this.cb=b}
function ewh(a,b,c){var d=b.getEmail(),e=b.getName(),f='<div class="'+T("docos-contact-row")+'" title="';f+=vw("Contact information.");f+='">'+R(Wsh({size:32,Be:"docos-contact-row-avatar"}))+'<div class="'+T("docos-contact-row-name")+'">'+(e?R(e):R(d))+"</div>"+(e?'<div class="'+T("docos-contact-row-email")+'">'+R(d)+"</div>":"")+"</div>";d=S(f);d=ow(d);Ie(c,d);d=b.getEmail();d=zd(af(b.getName()))?d:b.getName()+" "+d;Kw(c,d);c=dW(a.cb,"IMG","docos-contact-row-avatar",c);f7(a.C,c);Jvh(a.C,c,b.C,Y6(b));
return c};function fwh(a,b,c,d){this.J=null;this.cb=a;this.R=new dwh(d7(c),a);this.D=b;this.L=c;this.C=d||null;this.O=!(this.C&&this.C.Ro());this.H=null;bz.call(this,void 0,void 0,void 0,a)}v(fwh,bz);m=fwh.prototype;m.Ia=function(){fwh.Ta.Ia.call(this);this.H=$n("goog-menu-button-dropdown",this.getElement());this.getHandler().listen(this.getElement(),["click","keypress","keyup"],this.Dab).listen(this.getElement(),"focus",this.wx).listen(this.getElement(),["mousedown","blur"],this.hXa)};
m.Dab=function(a){this.C&&this.C.ud()==e7(this.L).O||(this.Fd(!this.Ye()),this.hXa());a.stopPropagation()};m.wx=function(){Ow(this.H,"docos-assignee-select-focus")};m.hXa=function(){Qw(this.H,"docos-assignee-select-focus")};m.We=function(a){return this.Ob()&&2>this.Ob().rc()?!1:fwh.Ta.We.call(this,a)};m.ag=function(a){this.C&&this.C.ud()==e7(this.L).O&&(this.Ob()&&2>this.hh()||fwh.Ta.ag.call(this,a))};function gwh(a){return(a=a.ef())?a.ih():null}
m.ze=function(a){fwh.Ta.ze.call(this,a);var b=a.getElement();b&&(Ow(b,"docos-assignee-select-menu"),"legacy"!=this.D.F&&Ow(b,"docs-gm"),this.O&&a.render(this.D.O))};m.Fl=function(){var a=this.Ob().getElement();Ev(a,"width",this.J.offsetWidth+"px");fwh.Ta.Fl.call(this);var b=parseInt(Fv(a,"top"),10)||0,c=Lv(this.J).x;this.O?(c-=Lv(this.D.O).x,b+=-2):b+=-1;Iv(a,c,b)};function hwh(a){var b=new nl;if(!a.Ob())return b;a.Ob().Me(function(c){b.add(c.ih())});return b}
m.update=function(a,b){if(!hwh(this).equals(new nl(a))||gwh(this)!=b){for(var c=new Hy(this.cb,void 0),d,e=0;e<a.length;e++){var f=a[e];f.getEmail();var h=new iwh(f,this.R,this.cb);f==b&&(d=h);c.Ga(h,!0)}this.ze(c);kz(this,d);P(this.getElement(),1<this.hh())}};m.reset=function(){this.Ob().od();kz(this,null)};function iwh(a,b,c){this.F=a;this.D=b;this.C=c.createElement("div");this.H=ewh(this.D,this.F,this.C);Cy.call(this,this.C,void 0,c,void 0)}v(iwh,Cy);m=iwh.prototype;
m.Ba=function(){iwh.Ta.Ba.call(this);Ow(this.getElement(),"docos-assignee-select-item")};m.Ia=function(){iwh.Ta.Ia.call(this);this.getHandler().listen(this.getElement(),"click",this.Cab)};m.ih=g("F");m.Hg=ea("");m.Cab=function(a){a.stopPropagation()};m.Ja=function(){iwh.Ta.Ja.call(this);var a=this.H;a&&f7(this.D.C,a)};function jwh(){kwh(this)}t(jwh,Sa);jwh.prototype.Dx=function(a){xda(this.D.remove(a),a);this.C=null};jwh.prototype.cleanup=function(){this.D.clear();this.C=null};jwh.prototype.iterator=function(){if(!this.C){var a=new Jrh,b=this.D;a.C=[];var c=b.Mf();b=c;var d=a.C;c=c.length;var e=0,f=0;Ta(b,d)&&(b=b.slice(f,f+c),f=0);var h=f;for(f+=c;h<f;){var k=Math.min(h+1E4,f);c=k-h;h=b.slice(h,k);h.splice(0,0,e,0);Array.prototype.splice.apply(d,h);h=k;e+=c}this.C=a}return this.C.qj()};jwh.prototype.qj=function(){return this.iterator()};
function kwh(a){var b=new ush,c=new Hrh;qrh(c);b.C=c;a.D=b;a.C=null};function lwh(a){kwh(this);this.F=a}t(lwh,jwh);lwh.prototype.set=function(a){this.F=a;for(a=this.iterator();a.C();){var b=a.D();mwh(b,this.F)}};lwh.prototype.get=g("F");function nwh(a,b,c){return new owh(a,b,c)}function owh(a,b,c){this.C=pwh(a,b);this.Td=c;this.F=!1;this.D=-1;qwh(this,0)}owh.prototype.M3=g("F");owh.prototype.close=function(){this.C.forEach(function(a){return a.cleanup()});this.D=-1;this.F=!0};
function pwh(a,b){for(var c=[],d={},e=0;e<b.length;d={FS:d.FS,z7:d.z7},e++){d.z7=b[e];var f=d;var h=new lwh(null);f.FS=h;d.z7.H(a.token,a.O8,a.C,function(k){return function(l,n,q,r,w){r=void 0===r?!0:r;w=void 0===w?!1:w;0<l.length?k.FS.set(new rwh(l,n,r,k.z7.getType(),w,q)):r&&k.FS.set(swh())}}(d))||d.FS.set(swh());c.push(d.FS)}return c}function qwh(a,b){if(!a.F)if(b>=a.C.length)a.Td(swh()),a.close();else{a.D=b;var c=a.C[b];bc(a);zda(c.D.add(a),a);c.C=null;b=a.C[b].get();null!==b&&mwh(a,b)}}
function mwh(a,b){b.isEmpty()?(a.C[a.D].Dx(a),qwh(a,a.D+1)):(a.Td(b),b.complete&&a.close())}function twh(a,b,c){this.token=a;this.O8=b;this.C=c}function rwh(a,b,c,d,e,f){this.rows=a;this.C=b;this.complete=c;this.type=d;this.F=e;this.D=void 0===f?null:f}rwh.prototype.isEmpty=function(){return 0===this.rows.length&&this.complete};function swh(){return new rwh([],new Hxd(!1),!0,0,!1,void 0)};function uwh(a){this.C=a};function vwh(){this.className="docos-ac-highlighted"}vwh.prototype.Zra=function(a,b,c){zd(b)||c.C&&/^\W/.test(b)?c=null:(b=Ye(b),c=c.C?new RegExp("\\b(?:"+b+")","gi"):new RegExp(b,"gi"));c&&this.bx(a,c)};
vwh.prototype.bx=function(a,b){if(3!==a.nodeType)for(a=a.firstChild;a;){var c=a.nextSibling;this.bx(a,b);a=c}else{var d=a.nodeValue;c=[];for(var e=0,f=0,h;h=b.exec(d);)e++,c.push(d.substring(f,h.index)),c.push(d.substring(h.index,b.lastIndex)),f=b.lastIndex;c.push(d.substring(f));b=Qn(a);for(d=0;d<e;d++)f=2*d,a.nodeValue=c[f],f=c[f+1],h=b.createElement("B"),h.className=this.className,b.appendChild(h,Go(b,f)),f=h,h=Go(b,""),b.Kv(f,a),b.Kv(h,f),a=h;a.nodeValue=c.slice(2*e).join("")}};function wwh(a,b,c,d,e,f,h){this.startTime=a;this.J=b;this.H=c;this.C=d;this.D=e;this.F=f;this.L=h};function xwh(a){this.C5b=a}t(xwh,Nbb);function ywh(a,b,c,d,e,f,h,k,l){l=void 0===l?5E3:l;this.jka=!0;a=new zwh("\n",null,!0);Mrh(a);a.N0a=!1;a.V=null;a.R=null;f=new Awh(f,k,this);f.R=!0;f.oAa=!1;f.O=!0;f.className="docos-ac";h&&Pcb(f,h,void 0,h);rA.call(this,this,f,a);this.L.Wg=this;this.Ha=c.map(function(n){return new Bwh(n)});this.Oa=new vwh;this.Spa(Tn(b));this.ma=d?d:null;this.R=e||null;this.C=null;this.Pa=l;this.Ea=!1;this.Ca=null}v(ywh,rA);var Cwh=/[\n]$/;m=ywh.prototype;
m.tH=function(a,b,c){var d=this,e=La(),f=this.L.D;this.R&&this.R.ao("dacps",e-f);var h=!0;this.C&&(this.C.cancel(),this.C=null);if(a){var k=Dwh(this.L,a),l=Ewh(this,a,k);if(0===l.length)c(a,[]);else if(1===l.length){var n=l[0];n.H(a,k,b,function(q,r,w,x,B){w=void 0===w?null:w;x=void 0===x?!0:x;B=void 0===B?!1:B;d.isDisposed()||(w=new xwh(new wwh(e,f,n.getType(),h,x,B,w)),w.Xwa=!h,w.tba=r.Jka,c(a,q,w),h=!1)})}else b=nwh(new twh(a,k,b),l,function(q){if(!d.isDisposed()){var r=new xwh(new wwh(e,f,q.type,
h,q.complete,q.F,q.D));r.Xwa=!h;q.C&&(r.tba=q.C.Jka);c(a,q.rows,r);h=!1}}),this.C=new Fwh(b,this.Pa)}else c(a,[])};function Ewh(a,b,c){return a.Ha.filter(function(d){return d.F(b,c)})}
m.$v=function(a,b){b||(b=new Nbb);ywh.Ta.$v.call(this,a,b);if(b instanceof xwh){this.Ca=b.C5b;var c=Gwh(this,this.Ca,a.length,!1);b=this.Ca;var d=c,e=La()-b.startTime,f=La()-b.J;this.R&&(b.C&&(this.R.ao("dac",e,d.serialize()),this.R.ao("dact",f,d.serialize())),b.D&&(this.R.ao("dacfr",e,d.serialize()),this.R.ao("dacfrt",f,d.serialize())))}else this.Ca=null;if(this.ma){b=this.ma;d=a.length;a=0<a.length?a[0].getType():null;if(!b.C&&0<d&&a){var h=(h=Hwh[a])&&h.Nha;b.C=a}else b.C&&0==d&&(h=(h=Hwh[b.C])&&
h.lia,b.C=null);h&&Iwh(b,h,c)}};function Gwh(a,b,c,d){var e=new E$d;e=M(e,1,c).setType(Jwh(b.H));e=M(e,3,b.F);c=M(e,4,b.F?b.C&&(b.D||0<c)?2:3:1);d&&(M(c,5,sA(a,a.J)),M(c,6,b.L));return Krh(c)}function Jwh(a){switch(a){case 0:return 1;case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;default:return 0}}m.xs=function(a,b,c){c&&(a.data.render(c),c.id=a.data.getId(),a.data.dP()&&this.Oa.Zra(c,a.data.dP().D,new uwh(a.data.dP().C)))};
m.oA=function(){var a=tA(this)?this.F[sA(this,this.J)]:null,b;this.Ca&&(b=Gwh(this,this.Ca,this.F.length,!0));if(a&&this.ma){var c=this.ma;(a=Hwh[a.getType()])&&Iwh(c,a.gha,b);c.C=null}this.Ea=!0;return ywh.Ta.oA.call(this)};m.Sg=function(){if(!this.Ea&&this.getToken()&&0<this.F.length&&this.ma){var a=this.ma,b=a.C&&Hwh[a.C];b&&Iwh(a,b.y9);a.C=null}this.Ea=!1;ywh.Ta.Sg.call(this)};function Kwh(a){return tA(a)?a.F[sA(a,a.J)].getId():null}
m.Ja=function(){ywh.Ta.Ja.call(this);If(this.Ha);this.C&&(this.C.cancel(),this.C=null)};function zwh(a,b,c,d){this.D=0;wA.call(this,a,b,c,d)}v(zwh,wA);zwh.prototype.ag=function(){this.Wg.Ye()&&this.Wg.Sg()};zwh.prototype.Bg=function(a){this.D=La();return(37===a.keyCode||39===a.keyCode)&&this.Wg.Ye()||38===a.keyCode&&this.Wg.Ye()&&-1===this.Wg.J?(this.Wg.Sg(),!0):zwh.Ta.Bg.call(this,a)};
zwh.prototype.zB=function(a,b){var c=null;if(a){c=a.sV();var d=Lwh(this,a.getToken());c={start:c.wk()+d,end:c.xv()+d}}b=zwh.Ta.zB.call(this,a,b);if(a){d=c.end;var e=this.fl;e&&(uA(e,c.start),vA(e,d));a.r5()}return b};function Lwh(a,b){var c=a.Tn();a=a.getValue().slice(0,c+b.length).lastIndexOf(b);return 0<=a?a:c}function Dwh(a,b){return a.Tn()-Lwh(a,b)}function Bwh(a){this.D=a}
Bwh.prototype.H=function(a,b,c,d){var e=a.replace(Cwh,"");return this.D.H(e,b,c,function(f,h,k,l,n){d(f.map(function(q){return new Mwh(q,a)}),h,k,l,n)})};Bwh.prototype.getType=function(){return this.D.getType()};Bwh.prototype.F=function(a,b){return this.D.F?this.D.F(a,b):!0};function Mwh(a,b){this.C=a;this.D=b}m=Mwh.prototype;m.getId=function(){return this.C.getId()};m.getType=function(){return this.C.getType()};m.dP=function(){return this.C.dP()};m.sV=function(){return this.C.sV()};m.render=function(a){this.C.render(a)};
m.r5=function(){this.C.r5()};m.getToken=g("D");m.toString=function(){var a=Cwh.test(this.D)?"\n"[0]:"";return this.sV().C+a};function Fwh(a,b){var c=this;this.D=a;this.C=Vo(function(){c.C=null;c.D.close()},b)}Fwh.prototype.cancel=function(){null!==this.C&&(Wo(this.C),this.C=null);this.D.close()};function Awh(a,b,c){JA.call(this,a,c);this.Ka=!!b}v(Awh,JA);
Awh.prototype.Yc=function(){Awh.Ta.Yc.call(this);Kw(this.getElement(),"Showing contact suggestions");if(!this.F){var a=Jv(this.getElement()),b=this.Ka?-2:-1;Iv(this.getElement(),a.x,a.y+b)}};function Nwh(a){this.C=null;this.D=a}function Iwh(a,b,c){if(c){var d=new vj;bj(d,11,c)}a.D&&a.D(b,void 0,d)}var Owh={},Hwh=(Owh[1]={Nha:43002,lia:43004,y9:43006,gha:43E3},Owh[2]={Nha:43003,lia:43005,y9:43007,gha:43001},Owh[3]={Nha:43068,lia:43069,y9:43066,gha:43067},Owh[4]={Nha:43072,lia:43073,y9:43070,gha:43071},Owh);function Pwh(a,b,c,d){Mn.call(this);this.C=a;this.H=b;this.D=c;this.J=d||0;a.removeAttribute("maxlength");this.F=new WA(a);Fn(this.F,"input",this.L,!1,this);Qwh(this)}v(Pwh,Mn);Pwh.prototype.L=function(){Qwh(this)};function Qwh(a){var b=a.C.value.length;if(b>a.D){var c=a.C.scrollTop,d=a.C.scrollLeft;a.C.value=a.C.value.substring(0,a.D);b=a.D;a.C.scrollTop=c;a.C.scrollLeft=d}a.H&&wo(a.H,String(1==a.J?b:a.D-b))}Pwh.prototype.Ja=function(){Pwh.Ta.Ja.call(this);delete this.C;this.F.dispose();this.F=null};function Rwh(a,b){return Swh(a,b,!1)}function Twh(a,b){return Swh(a,b,!0)}function Swh(a,b,c){var d=[];if(!a||b.charAt(0).toUpperCase()!==b.charAt(0))return d;for(var e,f=0;f<a.length;f++){e=a[f];var h;if(h=e){var k=e;h=k.getName();k=k.getEmail();h=!(null==h||null==k||0>h.indexOf("-")?0:k.split("@")[0]==h)}if(h)a:{h=b;k=c;for(var l=e.getName().split(/\s+/),n,q=0;q<l.length;q++)if(n=l[q],n=k?wd(n,h):yd(n,h)){h=!0;break a}h=!1}h&&d.push(e)}return d};function Uwh(a,b,c,d,e,f,h){b.getEmail();this.Ac=a;this.D=b;this.cd=c;this.L=d;this.H=e;this.J=f;this.C=null;this.F=h}v(Uwh,A);m=Uwh.prototype;m.ih=g("D");m.getId=g("cd");m.getType=g("L");m.dP=g("H");m.sV=g("J");m.render=function(a){this.C=ewh(this.Ac,this.D,a)};m.r5=ba();m.Ja=function(){var a=this.C;a&&f7(this.Ac.C,a)};function Vwh(a,b){this.C=a;Wwh(this.C);this.D=b}function Xwh(a,b){for(var c=0,d=b-1;0<=d;d--)if(Ywh.has(a[d])){c=d+1;break}for(d=a.length;b<a.length;b++)if(Ywh.has(a[b])){d=b;break}return{text:a.slice(c,d),RH:c,oF:d}}function Zwh(a,b){for(var c=0,d=b-1;0<=d;d--)if($wh.has(a[d])&&(0==d||Ywh.has(a[d-1]))){c=d;break}for(d=a.length;b<a.length;b++)if(Ywh.has(a[b])){d=b;break}return{text:a.slice(c,d),RH:c,oF:d}}
function axh(a,b,c,d,e,f,h,k,l){return a.C.Pn(d,f,function(n,q){n=n.map(function(r){var w;if(w=r)r.getEmail()?(w=null,XY(tsh(r))?w=(new eZ(tsh(r))).setSize(96).Vx():w=tsh(r)||null,w=xth(uth(wth(new h7,r.getEmail()).jd(r.getName()),w).Uc(""))):w=null;return{q9a:r,TB:w}}).filter(function(r){return r.TB}).map(function(r,w){var x=r.TB;w=h+w;r=r.q9a.getType();var B=new oT(d,!0),L=c;x.getName()&&(L=bxh(x.getName(),b,L));var X="+"+x.getEmail(),V=Ywh.has(b[L.oF]);return new Uwh(a.D,x,w,k,B,new pT(b.slice(0,
L.RH)+X+(V?"":" ")+b.slice(L.oF),L.RH+X.length+1,L.RH+X.length+1),r)});l(n,!q.Yj(),a.C.C)},e)}
function bxh(a,b,c){if(0>a.indexOf(c.text))return c;var d=a.split(cxh).filter(function(l){return!!l}),e=b.slice(0,c.oF).split(cxh);a=d.join(" ");for(var f=e.length,h=0;0<f&&h<d.length;){for(var k=f-1;0<k&&!e[k];)k--;if(!e[k])break;h++;f=k}for(;f<e.length;){if(e[f]&&(d=e.slice(f),h=d.filter(function(l){return!!l}).join(" "),a.startsWith(h)))return a=d.reduce(function(l,n){return l+n.length},0)+d.length-1,a=c.oF-a,{text:b.slice(a,c.oF),RH:a,oF:c.oF};f++}return c}
var Ywh=new Set([" ","\t","\n"]),$wh=new Set(["@","+"]),cxh=/[ ]/;var dxh="-- about above after again against all also always am an and announce another any are aren't as ask at back be because been before being between both bugs but by call came can can't cannot cause com come core could couldn't did didn't discuss do does doesn't doing don't down during each eng especially even ever every few find for from get go goes got group had hadn't has hasn't have haven't having he he'd he'll he's her here here's hers herself him himself his how how's however i'd i'll i'm i've if in into is isn't it it'd it'll it's its itself just know last let let's lgtm like look made make makes many may me might most much must my myself near need never next no nor not now of off often on once one only or other our ours ourselves out over own part place put said same saw say says see seem seen set shall she she'd she'll she's should should shouldn't show side since so some still such take team tell than that that's the their theirs them themselves then there there's these they they'd they'll they're they've thing things this those though three through time to too try trying under until upon us use users using very want was wasn't way we we we'd we'll we're we've well went were weren't what what's when when's where where's whether which while who who'll who's who've whom why why's will with won't word would wouldn't www yet you you'd you'll you're you've your yours yourself yourselves &".split(" "),
exh=new nl(["everybody","nobody"]);function fxh(a,b){this.J=b;this.D=a?/(^\S*@\S*)|(\S{5,})|(\S{2,4})/:/(^\S*@\S*)/;this.C=null}v(fxh,A);fxh.prototype.H=function(a,b,c,d){var e=this;this.C&&(this.C.cancel(),this.C=null);if(!this.F(a,b))return!1;b=Xwh(a,b);var f=gxh(this,b.text);a=axh(this.J,a,b,f.query,f.filter,c,"doco-contact-instant-mention-row-",2,function(h,k,l){k&&(e.C=null);h=h.filter(function(n){return"ct"==n.F});d(h,hxh,f.query.length,k,l)});this.C=a.Yj()?a:null;return!0};
fxh.prototype.F=function(a,b){a=Xwh(a,b);return!this.D.test(a.text)||a.text.startsWith("@")||a.text.startsWith("+")||Zc(dxh,a.text.trim().toLowerCase())||exh.contains(a.text.trim().toLowerCase())?!1:!0};function gxh(a,b){a=b.match(a.D);return null===a?null:null!=a[1]?{query:a[1],filter:de}:null!=a[2]?{query:a[2],filter:Twh}:null!=a[3]?{query:a[3],filter:Rwh}:null}fxh.prototype.getType=ea(2);fxh.prototype.Ja=function(){delete this.C};var hxh=new Hxd(!1);function ixh(a){this.J=a;this.D=/^(?:[@]|[+](?!1))((?:\S* ?)*)/;this.C=null}v(ixh,A);ixh.prototype.H=function(a,b,c,d){var e=this;this.C&&(this.C.cancel(),this.C=null);if(!this.F(a,b))return!1;b=Zwh(a,b);var f=jxh(this,b.text);a=axh(this.J,a,b,f.query,f.filter,c,"doco-contact-plus-mention-row-",1,function(h,k,l){k&&(e.C=null);d(h,kxh,f.query.length,k,l)});this.C=a.Yj()?a:null;return!0};ixh.prototype.F=function(a,b){a=Zwh(a,b);return this.D.test(a.text)};
function jxh(a,b){a=b.match(a.D);return null===a?null:null!=a[1]?{query:a[1],filter:de}:null}ixh.prototype.getType=ea(1);ixh.prototype.Ja=function(){delete this.C};var kxh=new Hxd(!0);var lxh=/\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]+\b/ig,mxh=/\B[@+][A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]+\b/ig;function nxh(a,b){a=b.match(a)||[];for(b=0;b<a.length;b++)a[b]=Ad(a[b]).replace(/^\W+/,"").toLowerCase();return a};function oxh(a){this.C=new VL(void 0,!0);this.D=null;this.F=!1;this.H={};this.J=a.get("contactStore");Wwh(this.J)}function pxh(a,b){var c=xth(tth(wth(new h7,b).Uc(""),!1));a.C.set(b,c);a.J.C&&(a.H.hasOwnProperty(b)&&(a.H[b].cancel(),delete a.H[b]),a.H[b]=a.J.Pn(b,1,u(a.L,a,b)))}oxh.prototype.L=function(a,b){if(null!==b&&0<b.length&&LT(this.C,a)){b=b[0];var c=null;XY(tsh(b))?c=(new eZ(tsh(b))).setSize(96).Vx():c=tsh(b)||null;b=xth(uth(wth(new h7,a).jd(b.getName()),c).Uc(""));this.C.set(a,b)}delete this.H[a]};
function qxh(a){return a.C.C.next.value||null}function rxh(a){return a.F?a.D:null};function sxh(a,b,c){An.call(this,c)}v(sxh,An);function txh(a){a=a.IJb;return S('<div class="'+T("docos-presenceindicator")+" "+T(a)+'">Someone is typing...</div>')};function uxh(a,b,c){Z6.call(this,a,b);this.D=c}v(uxh,Z6);uxh.prototype.Ba=function(){this.ib(Kx(txh,{IJb:this.D}))};uxh.prototype.Ia=function(){uxh.Ta.Ia.call(this);this.setVisible(!1)};uxh.prototype.setVisible=function(a){this.getElement().style.display=a?"":"none"};function vxh(a,b,c,d){c=void 0===c?null:c;d=void 0===d?!1:d;Z6.call(this,a,b);this.Oa=a;this.R=new Fz("",b);var e=this.C.Jj();this.R.XM=e;this.Ga(this.R);this.O=new Fz("",b);this.Ga(this.O);this.V=b.Yb().body;this.D=c;this.H=new oxh(this.Oa);this.Ea=this.Wa=null;this.xa=new fwh(b,this.C,this.Oa,this.D);this.J=(this.dd="legacy"!=this.C.F)?new gS(b):new iS(!1,b);this.Za=!1;this.Ka=!d;c=dw.getInstance();this.Bc=ew(c);this.fc=ew(c);this.wc=ew(c);this.Kb=null;z(y(),"docs-edp")&&(this.Kb=new uxh(a,b,"focused-presenceindicator"));
this.Pb=0;this.Ca=null;this.Bb="Comment draft";this.Ua=this.Kc=null;this.$a=!0;this.ma=!1;this.Cb=this.eb=this.L=this.Qa=this.Pa=null;this.Ha=!1}t(vxh,Z6);m=vxh.prototype;m.Ba=function(){this.Cc(Kx(Yvh,{Jj:this.C.Jj(),UH:this.C.Ea},void 0,this.qa()))};
m.Cc=function(a){Z6.prototype.Cc.call(this,a);a=this.getElement();var b=this.qa();this.setVisible(!0);this.F=b.bb("docos-input-textarea",a);this.Ka||P(this.F,this.Ka);var c=new XA;c.Va(this.F);this.va(c);this.Ua=b.bb("docos-input-at-reply-message",a);this.Ua.setAttribute("id",this.Bc);this.Pa=b.bb("docos-input-acl-fixer-message",a);this.Pa.setAttribute("id",this.fc);this.Qa=b.bb("docos-input-assignment-message",a);this.Qa.setAttribute("id",this.wc);this.Ea=b.bb("docos-input-assignment-panel",a);c=
this.xa;var d=this.Ea;c.J=d;Qy(c,new Ly(d,9));this.Wa=b.bb("docos-input-assignee-text",a);c=b.bb("docos-input-assignee-select",a);this.xa.Va(c);this.xa.Na(!0);if(c=b.bb("docos-input-assignment-box",a))this.J.Va(c),fS(this.J,this.Wa);c=wxh(this);if(0<c.length){d=!this.D||!this.D.Ro();var e;d?e=this.C.O:this.D&&(e=this.D.getElement());this.L=new ywh(this.C,this.F,c,new Nwh(this.C.Za),this.C.R||void 0,e||void 0,this.F||void 0,d);this.va(this.L)}if(e=b.bb("docos-input-cancel",a))this.O.Va(e),Kw(e,this.O.Sk());
(a=b.bb("docos-input-post",a))&&this.R.Va(a);this.Kb&&this.D.Ro()&&(a=this.qa().bb("docos-focusedpresenceindicator-container",this.getElement()),this.Kb.render(a))};function wxh(a){var b=[],c=new dwh(d7(a.Oa),a.qa());c=vuh(a.C)?new Vwh(a.Oa.get("contactStore"),c):null;if(vuh(a.C)){var d=new ixh(c);a.va(d);b.push(d)}d=wuh(a.C).map(function(e){return e.F()});jd(b,d);vuh(a.C)&&(c=new fxh(a.C.Pf,c),a.va(c),b.push(c));return b}
m.Ia=function(){Z6.prototype.Ia.call(this);LIe(this.getElement(),!1);this.eb=new Pwh(this.F,null,2048);this.va(this.eb);this.Cb=new WA(this.F);this.va(this.Cb);a7(a7(a7(a7(a7(a7(a7(a7(a7(a7(a7(a7(a7(this,this.Cb,"input",this.ovb),this.F,"keydown",this.HD),this.F,"keyup",this.wNb),this.F,"keypress",this.vNb),this.O,"action",this.uNb),this.R.getElement(),["click","keypress","keyup"],this.j_a),this.R,"action",this.yRa),this.Ea,"click",this.k1b),this.J,"change",this.m1b),this.J.xl(),"keypress",this.n1b),
this.Ea,["keyup","keypress"],this.l1b),this.xa,"action",this.j1b),this.F,"pointerdown",this.tNb);this.L&&(a7(this,this.L,"update",this.gmb),a7(this,this.L,"suggestionsupdate",this.e0a));this.F[xxh]=u(this.blur,this);this.F[yxh]=u(this.u2b,this);this.O.getElement()&&(a7(this,this.O.getElement(),["click","keypress","keyup"],this.j_a),this.O.Na(!0));if(this.D&&c7(this.D.ud())&&Wuh(this.D.ud())){var a=this.H,b=X6(c7(this.D.ud())).getEmail();b&&!LT(a.C,b)&&pxh(a,b);a.C.isEmpty();a=this.H;b=qxh(this.H);
Zc(a.C.Gd(),b);a.D=b;a.F=!0;this.J.Zb(!0)}this.F.value=this.Ca||"";Hw(this.F,"label",this.Bb);this.Ha=!0;xuh(this.C)&&(xo(this.getElement(),!0),Kw(this.getElement(),"This is the input pane."))};m.tNb=function(a){pi&&tf(73)&&a.target.setPointerCapture(a.pointerId)};m.isVisible=function(){return"none"!=this.getElement().style.display};m.setVisible=function(a){this.getElement().style.display=a?"":"none";a||this.blur()};m.getValue=function(){return this.F?this.F.value:""};
m.setValue=function(a){this.F.value=a};m.isEmpty=function(){return zd(this.getValue())};function B7(a){return!zd(a.getValue())&&!a.Ha}m.re=da("Bb");m.reset=function(a){this.ma||this.isDisposed()||(this.F.value=this.Ca||"",Hw(this.F,"label",this.Bb),this.Ha=!0,kf?Vo(this.GOa,0,this):this.GOa(),C7(this,a),this.F&&(this.F.style.height=""),a||zxh(this),Axh(this,"none"))};
function Axh(a,b){if(a.Ua&&a.Pa&&a.Qa){P(a.Ua,"atReplyMessage"==b);P(a.Pa,"aclFixerMessage"==b);P(a.Qa,"assignmentMessage"==b);var c=a.J.getElement();if(null!=c){switch(b){case "atReplyMessage":var d=a.Bc;break;case "assignmentMessage":d=a.wc;break;case "aclFixerMessage":d=a.fc}null!=d?Hw(c,"describedby",d):Iw(c,"describedby")}}}m.ready=function(a,b,c){this.isDisposed()||(this.Ha&&(this.Kc=!b&&a||"",this.F.value=a||"",this.Ha=!1),Ow(this.getElement(),"docos-input-typing"),c||this.focus(),C7(this))};
m.blur=function(){this.D&&this.dispatchEvent(new An("b",this.D))};m.focus=function(){kf||Vo(this.xRa,0,this);this.xRa()};m.xRa=function(){this.isDisposed()||Wv(this.F)&&this.F.focus()};m.GOa=function(){this.isDisposed()||Qw(this.getElement(),"docos-input-typing")};
function C7(a,b){var c=Ad(a.getValue());c=!a.Ha&&c!=a.Kc;a.R.Na(!a.ma&&(!a.Ka||c&&!a.isEmpty()));a.e0a();var d=Bxh(a),e=a.H.D,f=a.H.C.Gd().length;if(a.Ka){var h=a.H;var k=a.getValue(),l=d?X6(d):void 0;d=nxh(mxh,k);k=h.C;h.C=new VL(void 0,!0);for(var n=d.length-1;-1<n;n--){var q=d[n];LT(k,q)?h.C.set(q,k.get(q)):pxh(h,q)}l&&(l=af(l.getEmail()),!zd(l)&&h.C.remove(l));l=h.D?h.D.getEmail():null;n=(k=qxh(h))?k.getEmail():null;(h.F||l==n)&&l&&LT(h.C,l)||(h.D=k);h=!h.C.isEmpty()&&0<d.length}d=a.H.D;e!=d&&
Cxh(a,!1);e=0==f&&h;f=a.C;hZ(f.C)&&Ri(hZ(f.C),31)&&e&&!a.ma&&Ri(f.C,33)&&!f.V&&!f.ma&&(e=f.wj,f=qxh(a.H)?qxh(a.H).getEmail():null,e&&f&&e([f]));e=h&&!a.Za&&a.D&&!a.D.ud().isResolved()&&a.Ka&&(a.D.Xma()||!!Huh(a.D.ud()));Ri(a.C.C,38)&&(e?(a.J.Na(!a.ma),a.xa.Na(!a.ma),a.xa.update(a.H.C.Gd(),d),e=bth(d,a.C,!!Bxh(a)),f=a.xa.getElement(),wo(a.Wa,e),Kw(f,e+". Choose an assignee."),Sw(a.Wa,"docos-input-assignee-text-no-chevron",!Wv(f)),P(a.Ea,!0),Dxh(a,!0)):(Cxh(a,!1),a.J.Na(!1),a.xa.reset(),P(a.Ea,!1),
Dxh(a,!1)));a.ma&&vuh(a.C)&&!a.H.C.isEmpty()?Axh(a,"aclFixerMessage"):a.$a&&vuh(a.C)&&!a.H.C.isEmpty()?a.J.isChecked()?Axh(a,"assignmentMessage"):a.$a?Axh(a,"atReplyMessage"):Axh(a,"none"):Axh(a,"none");(e=rxh(a.H))&&a.D?(f=!!Bxh(a),e=bth(e,a.C,f),f=f?"Reassign":"Assign"):a.Za?(e="Save changes",f="Save"):!a.D||a.D.ud().xA()?(e="Post Comment",f="Comment"):a.D.ud().OW()?(e="Assign suggested action item",f="Assign"):(e="Reply to comment",f="Reply");a.R.getElement()&&$6(a.Oa).D.C(a.R.La(),e);wo(a.R.getElement(),
f);Exh(a);c?(Fxh.contains(a)||(Fxh.add(a),a.dispatchEvent(new sxh(a.D.getId(),1,"pr"))),Ow(a.getElement(),"docos-input-nohide")):(Gxh(a),Qw(a.getElement(),"docos-input-nohide"));b||a.dispatchEvent("s")}function Gxh(a){Fxh.contains(a)&&(Fxh.remove(a),a.dispatchEvent(new sxh(a.D.getId(),0,"pr")))}
m.e0a=function(){this.getElement().removeAttribute("aria-autocomplete");this.getElement().removeAttribute("aria-activedescendant");this.L&&this.L.Ye()&&(this.getElement().setAttribute("aria-autocomplete","list"),tA(this.L)&&this.getElement().setAttribute("aria-activedescendant",Kwh(this.L)))};function Dxh(a,b){if(b=b&&a.D)b=a.D,b=b.Ro()&&b.$Pa;b?(a.C.xy||ce)("docosTodos",u(a.C3b,a)):(a.C.jh||ce)("docosTodos")}m.C3b=function(){this.dispatchEvent("ph")};function Cxh(a,b){a.J.Zb(b);a.H.F=b}
function Bxh(a){return a.D&&!a.D.ud().xA()&&Huh(a.D.ud())?c7(a.D.ud()):null}m.j_a=function(a){(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type)&&a.stopPropagation()};m.uNb=function(){this.dispatchEvent("c");this.reset()};m.yRa=function(){if(this.R.isEnabled()){var a=this.H.C.Oe(),b=this.C;if(Ri(b.C,33)&&!b.V&&!b.ma&&!$c(a)&&(b=this.C.Gl)){Axh(this,"aclFixerMessage");this.ma=!0;C7(this);this.O.getElement()&&this.O.Na(!1);b(a,u(this.Qkb,this));return}Hxh(this)}};
m.k1b=function(){this.ma||(Cxh(this,!this.J.isChecked()),C7(this))};m.m1b=function(){var a=this.J.isChecked();this.H.F=a;C7(this)};m.n1b=function(a){13==a.keyCode&&(a.stopPropagation(),a=this.J,a.Zb(a.GC?!1:!0),this.J.dispatchEvent("change"),this.R.focus())};m.l1b=function(a){a.stopPropagation()};m.j1b=function(){this.J.Zb(!0);var a=this.H,b=gwh(this.xa);Zc(a.C.Gd(),b);a.D=b;a.F=!0;C7(this)};
m.Qkb=function(a){this.ma&&(this.ma=!1,"continue"==a?Hxh(this):Axh(this,"atReplyMessage"),this.D.getContext()&&(C7(this),this.O.getElement()&&this.O.Na(!0)))};function Hxh(a){kf&&a.D&&a.D.ud().xA()&&Hf(a.eb);a.dispatchEvent("p");a.reset()}m.u2b=function(){this.ready(void 0,void 0,!0);this.D&&this.dispatchEvent(new An("f",this.D))};function Exh(a){if(!a.F)return!1;var b=a.F.clientHeight,c=a.F.scrollHeight,d=Tv(a.F).height;return b!=c&&0<d?(Sv(a.F,d+c-b),!0):!1}
m.HD=function(a){Exh(this)&&this.dispatchEvent("s");this.Pb=a.keyCode;if(13==a.keyCode)Ixh?a.metaKey&&qf&&pi&&Jxh(this,a):Jxh(this,a);else if(27==a.keyCode){nf&&a.preventDefault();if(this.L&&this.L.Ye())return;this.isEmpty()&&this.reset();this.D&&this.dispatchEvent(new An("e",this.D));zxh(this)}a.stopPropagation()};
m.wNb=function(a){Exh(this)&&this.dispatchEvent("s");var b=this.Pb;this.Pb=a.keyCode;if(13==a.keyCode&&a.ctrlKey){if(229==b)return;if(!this.Vc){vd(this.getValue(),"\n")?this.HD(a):a.preventDefault();return}this.Vc=!1}a.stopPropagation()};m.vNb=function(a){if(13==a.keyCode&&Ixh)Jxh(this,a);else if(27==a.keyCode){if(this.L&&this.L.Ye())return;this.blur();zxh(this)}a.stopPropagation()};function Jxh(a,b){if(b.ctrlKey||b.metaKey)a.Vc=!0,a.R.getElement().focus(),a.yRa()}
function zxh(a){a.V&&(kf&&!tf("9")?a.V.focus():Vo(function(){return a.V.focus()}))}m.ovb=function(){C7(this)};m.gmb=function(){C7(this)};m.Ja=function(){Z6.prototype.Ja.call(this);Gxh(this);this.F&&(this.F[xxh]=null,this.F[yxh]=null);delete this.F;delete this.eb;delete this.Cb};var Fxh=new nl,xxh=kf?"onfocusout":"onblur",yxh=kf?"onfocusin":"onfocus",Ixh=qf||jf||nf;of&&tf("530");function Kxh(a,b){b.OW()?a.V+=1:b.xA()?a.D+=1:b.isTodo()?b.isResolved()?a.R+=1:a.J+=1:b.Zj()?(b=Xuh(b),2==b?a.C+=1:3==b?a.L+=1:a.H+=1):b.isResolved()?a.O+=1:a.F+=1};function Lxh(a,b,c,d,e){this.zj=a;this.C=b||null;this.Dm=c||null;this.$o=d||null;this.flags=e||null};function Mxh(a,b,c,d){An.call(this,b,a);this.source=c;this.C=d}t(Mxh,An);function Nxh(a,b){this.F=a;this.D=b;this.C=[]}function Oxh(a){return new Mxh(a.F,"bu",a.D,a.C)};function Pxh(){this.D={};this.C={};this.F=0}function Qxh(a,b,c){return a.C[b]?a.C[b][c||"$"]||null:null}function Rxh(a,b,c,d){a.C[c]||(a.C[c]={});a.D[b]=new Sxh(c,d);a.C[c][d||"$"]=b}Pxh.prototype.bind=function(a,b){if(null!==Qxh(this,a,b))return!1;this.F++;Rxh(this,this.F,a,b);return!0};function Txh(a,b,c){var d=Qxh(a,b,c);null!==d&&(delete a.D[d],delete a.C[b][c||"$"])}function Uxh(a,b,c,d,e){var f=Qxh(a,b,c);if(null===f||null!==Qxh(a,d,e))return!1;Txh(a,b,c||void 0);Rxh(a,f,d,e);return!0}
function Vxh(a,b,c){return Qxh(a,b,c)||0}Pxh.prototype.getDocoHandles=function(){for(var a=Nd(this.C),b=[],c=0;c<a.length;c++){var d=this.C[a[c]].$;d&&b.push(d)}return b};function Sxh(a,b){this.C=a;this.D=b||null};function Wxh(){this.D={}}Wxh.prototype.C=function(a){Wuh(a)||(this.H(a),a.nQ()&&(this.D[a.getId()]=!0))};Wxh.prototype.H=function(a){delete this.D[r7(a)];delete this.D[a.getId()]};Wxh.prototype.F=function(){return!Sd(this.D)};function Xxh(a){this.J=a;this.D=new Wxh}Xxh.prototype.C=function(a){this.D.C(a);a=this.J.Lh;if(this.F()&&a&&a())throw Error("Cant have dirty docos pending for write if the write is restricted by the client");};Xxh.prototype.H=function(a){this.D.H(a)};Xxh.prototype.F=function(){return this.D.F()};function Yxh(a){Mn.call(this);this.Ca=a;this.C={};this.O=null;this.F={};this.H=[];this.Ha=[];this.Ea={};this.L={};this.D=new Pxh;this.Ka=[];this.V=!1;this.ma=this.J=null;this.Oa=!1;this.xa=new Xxh(this.Ca)}v(Yxh,Mn);function Zxh(a,b){a.Zj();var c="<i>Made a suggestion</i>";(a=a.S1())&&(b=b.Ns)&&(b=b(a).C())&&(c=b);return c}function $xh(a,b){return"n"!=b&&!Wuh(a)&&a.nQ()}
function ayh(a,b,c,d,e,f,h){var k=!1;h||(k=!0,h=new Nxh(a,b));b=d.getId();c=c!=d.getId()?c:void 0;d=s7(d);h.C.push(new Lxh(b,c,d,e,f));k&&a.dispatchEvent(Oxh(h))}
function y7(a,b,c,d){c=c||"c";var e=byh(a),f=cyh(a,b.getId(),K(P6(b.C),11)||"");if(f){var h=f.getId(),k=j7(f.C);b=b.C;var l=jj(f.F);P6(b);var n=P6(b),q=b.getId(),r=null!=q?q:f.getId();q=void 0!==K(n,13)&&0!=K(n,13)&&!j7(f.C);for(var w=(void 0===K(n,13)||0==K(n,13))&&j7(f.C),x=O6(n),B=!1,L=0;L<x.length;L++){var X=x[L],V=f.D[X.getId()||""]||f.D[K(X,11)||""];B=!1;V||(V=f.J[X.getId()||""]||f.J[K(X,11)||""],B=!!V);if(V){var ca=V.getId();V.update(X);if(ca!=V.getId()&&(delete f.D[ca],f.D[V.getId()]=V,Vxh(f.O,
r,ca)&&!Uxh(f.O,r,ca,r,V.getId())))throw Error("Error updating ID from "+r+", "+ca+" to "+r+", "+V.getId());j7(V)?(delete f.D[V.getId()],f.J[V.getId()]=V,Txh(f.O,r,V.getId())):B&&!j7(V)&&(delete f.J[V.getId()],f.D[V.getId()]=V,f.O.bind(r,V.getId()))}else V=new Tth(X),j7(V)?(f.J[V.getId()]=V,Txh(f.O,r,V.getId())):(f.D[V.getId()]=V,delete f.J[V.getId()],f.O.bind(r,V.getId())),V=O6(P6(f.F)),V.push(X),X=P6(f.F),dj(X,8,V)}r=0;void 0!==Ri(b,6)&&Ri(b,6)!=f.isResolved()&&(r=Ri(b,6)?r|2:r|4);q&&!B?r|=16:w&&
(r|=8);dj(n,8,[]);q&&(n.setContent(void 0),bj(n,4,void 0),bj(n,9,void 0));oth(f.F,b);f.C.update(n);f.L=null;f.V=null;f.H=void 0;f.rQ=null;gj(f.F,l)||(r|=1);b=r;a.xa.C(f);dyh(a,f);if(h!=f.getId()&&(delete a.C[h],delete a.F[h],l=Vxh(a.D,h),delete a.Ea[l],a.C[f.getId()]=f,l&&!Uxh(a.D,h,null,f.getId(),null)))throw Error("Error updating ID from "+h+" to "+f.getId());l=Vxh(a.D,f.getId());j7(f.C)?(delete a.C[f.getId()],Txh(a.D,f.getId()),a.F[f.getId()]=f,l&&(a.Ea[l]=f),$xh(f,c)&&(cd(a.H,f.getId()),cd(a.Ha,
f.getId())),d=cvh(bvh("dd"),c),k=f.getId(),d.D=k,k=s7(f),d.Lq=k,d.C=l,d=dvh(d,b),h!=f.getId()&&(d.F=h),a.dispatchEvent(fvh(d))):(k&&(delete a.F[f.getId()],delete a.Ea[l],a.C[f.getId()]=f,(a.Ca.Ha||s7(f))&&a.D.bind(f.getId()),l=Vxh(a.D,f.getId())),0!=b&&($xh(f,c)&&cd(a.H,f.getId()),ayh(a,c,h,f,l,b,d)))}else f=new Tuh(b.C,a.D,b.rs?b.rs:void 0),a.xa.C(f),j7(f.C)?a.F[f.getId()]=f:eyh(a,f,c,d);byh(a)!=e&&(e=byh(a)?32:0,c=fvh(dvh(cvh(bvh("p"),c),e)),a.dispatchEvent(c))}
function svh(a,b,c){for(var d=new Nxh(a,c),e=0;e<b.length;e++)y7(a,b[e],c,d);a.dispatchEvent(Oxh(d))}function jvh(a,b){b.getNewDocoType()||Zuh(b,"draft");b=new Tuh(b.C,a.D,b.rs?b.rs:void 0);a.xa.C(b);eyh(a,b)}
function eyh(a,b,c,d){if(Ri(a.Ca.C,38)||!b.isTodo()){c=c||"c";var e=null;b.Xy()&&(e=fyh(a,s7(b)));e&&Wuh(e)?(Uxh(a.D,e.getId(),null,b.getId(),null),nvh(a,e.getId(),c)):(a.Ca.Ha||b.Xy())&&a.D.bind(b.getId());a.C[b.getId()]=b;dyh(a,b);e=8|(b.isResolved()?2:0);$xh(b,c)&&cd(a.H,b.getId());var f=Vxh(a.D,b.getId());ayh(a,c,void 0,b,f,e,d)}}
function nvh(a,b,c){c=c||"c";var d=a.C[b];if(d){if(d.Xy()){var e=s7(d);delete a.L[s7(d)]}a.xa.H(d);d=Vxh(a.D,b);delete a.C[b];Txh(a.D,b);c=cvh(bvh("dd"),c);c.D=b;c.C=d;b=dvh(c,16);void 0!=e&&(b.Lq=e);a.dispatchEvent(fvh(b))}}function D7(a,b){var c=null;b&&(c=a.ud(b));a.O=c}function wvh(a,b){b=b.getId();return Zc(a.Ka,w7(a,b))}Yxh.prototype.R=function(a){return(this.Ca.Ha||a.Xy())&&(!a.isResolved()||this.V)};function gyh(a){var b=Wd(a.C);Yd(b,a.F);return b}
function hyh(a){var b=new Ash;a=Md(gyh(a));for(var c=0;c<a.length;c++)Kxh(b,a[c]);return Bsh(b)}function iyh(a){function b(d){return d.nQ()}var c=Rc(Md(a.C),b);a=Rc(Md(a.F),b);return c.concat(a)}function byh(a){return a.Oa?a.xa.F():!1}function jyh(a){for(var b=0;b<a.H.length;b++){var c=a.H[b],d=a.ud(c);d||(d=a.F[c]);if(d&&d.nQ())return!0}return!1}Yxh.prototype.ud=function(a){return this.C[a]};function cyh(a,b,c){return a.C[b]||a.F[b]||a.C[c]||a.F[c]||null}
function dyh(a,b){s7(b)&&(j7(b.C)?delete a.L[s7(b)]:a.L[s7(b)]=b)}function fyh(a,b){var c=a.L[b]||null;return c&&s7(c)!=b?(delete a.L[b],null):c}function z7(a,b,c){b=a.D.D[b]||null;if(!b)return null;if(!c&&b.D)throw Error("Handle references reply, expected doco.");return a.C[b.C]||null}function rvh(a,b){b=a.D.D[b]||null;if(!b)return null;a=a.C[b.C];return a?(b=b.D)?n7(a,b):null:null}Yxh.prototype.getDocoHandles=function(){return this.D.getDocoHandles()};function w7(a,b,c){return Vxh(a.D,b,c)}
Yxh.prototype.flush=function(a){this.dispatchEvent(fvh(evh(cvh(bvh("f"),"c"),!!a)));this.dispatchEvent(fvh(cvh(bvh("af"),"c")))};function kyh(a,b){this.C=a;this.D=b};function lyh(a,b,c){this.C=a;this.D=b;this.F=c};function myh(a,b,c,d){Z6.call(this,a,c);this.L=b;this.O=d||null;this.R=a;this.D=new Fz(null);this.F=this.J=this.H=null;this.va(this.D)}t(myh,Z6);m=myh.prototype;m.Cc=function(a){Z6.prototype.Cc.call(this,a);this.H=this.qa().bb("like-button-text",a);this.J=this.qa().bb("docos-icon",a);this.F=this.qa().bb("docos-icon-img",a);this.D.Va(this.getElement())};m.Ia=function(){a7(this,this.D,"action",this.oNb);a7(this,this.getElement(),["click","keypress","keyup"],this.nNb);this.update()};m.vRa=da("L");
m.nNb=function(a){a.stopPropagation()};function nyh(a){var b=e7(a.R).ud(a.L);return null!=a.O?n7(b,a.O):b}m.oNb=function(a){a.stopPropagation();a=g7(this.R);var b=nyh(this).Wy();b=!b||1!=i7(b);null!=this.O?a.tf("docos-vote-reply").wb(new lyh(this.L,b,this.O)):a.tf("docos-vote-doco").wb(new kyh(this.L,b))};
m.update=function(){var a=nyh(this).Wy(),b=!a||0==Dth(a,1).length&&1!=i7(a);Qw(this.H,"no-votes");!b||Ow(this.H,"no-votes");Rw(this.J,["current-user-has-up-vote","post-has-votes-no-current-user-vote"]);Rw(this.F,["docos-icon-thumb-black","docos-icon-thumb-green"]);b?Ow(this.F,"docos-icon-thumb-black"):1==i7(a)?(Ow(this.J,"current-user-has-up-vote"),Ow(this.F,"docos-icon-thumb-green")):0<Dth(a,1).length&&(Ow(this.J,"post-has-votes-no-current-user-vote"),Ow(this.F,"docos-icon-thumb-black"));var c=0;
a&&(c=Dth(a,1),b=i7(a),c=c.length,1==b&&c++);wo(this.H,String(c));this.D.setValue(this.H);b="Like this";if(a&&((c=1==i7(a))&&(b="Unlike this"),a=Dth(a,1),0<a.length))for(b=bf(b,"\n"),c&&(b=bf(b,"\n","You")),c=0;c<a.length;c++)b=bf(b,"\n",Y6(sth(N(a[c].C,fZ,1))));this.D.getElement()&&$6(this.R).D.C(this.D.La(),b)};function oyh(a,b,c,d){Z6.call(this,a,c);this.H=b;this.J=d||null;this.L=a;this.D=new Fz(null);this.F=null;this.va(this.D)}t(oyh,Z6);m=oyh.prototype;m.Cc=function(a){Z6.prototype.Cc.call(this,a);this.F=this.qa().bb("vote-button-text",a);this.D.Va(this.getElement())};m.Ia=function(){a7(this,this.D,"action",this.sNb);a7(this,this.getElement(),["click","keypress","keyup"],this.rNb);this.update()};m.vRa=da("H");m.rNb=function(a){a.stopPropagation()};
function pyh(a){var b=e7(a.L).ud(a.H);return null!=a.J?n7(b,a.J):b}m.sNb=function(a){a.stopPropagation();a=g7(this.L);var b=pyh(this).Wy();b=!b||1!=i7(b);null!=this.J?a.tf("docos-vote-reply").wb(new lyh(this.H,b,this.J)):a.tf("docos-vote-doco").wb(new kyh(this.H,b))};
m.update=function(){var a=pyh(this).Wy();Rw(this.F,["current-user-has-up-vote","post-has-votes-no-current-user-vote"]);a&&(1==i7(a)?Ow(this.F,"current-user-has-up-vote"):0<Dth(a,1).length&&Ow(this.F,"post-has-votes-no-current-user-vote"));var b="+1";if(a){var c=Dth(a,1);b=i7(a);c=c.length;1==b&&c++;b=0<c?"+"+c:"+1"}wo(this.F,b);this.D.setValue(this.F);b="+1 this comment";if(a&&((c=1==i7(a))&&(b="Remove your +1"),a=Dth(a,1),0<a.length))for(b=bf(b,"\n"),c&&(b=bf(b,"\n","You")),c=0;c<a.length;c++)b=
bf(b,"\n",Y6(sth(N(a[c].C,fZ,1))));this.D.getElement()&&$6(this.L).D.C(this.D.La(),b)};function qyh(a){this.C=$6(a)};function ryh(a,b){a=a.ma;if(!a)return null;b=b.Dc(a.getKey());if(!b)return null;a=b.bb("docos-selected-find-match");if(!a)return null;a=a.getBoundingClientRect();b=a.top-b.getElement().getBoundingClientRect().top;return new lm(b,b+a.height)}function syh(a,b){return(a=tyh(a,b))?new iZ(a.getKey().getId(),a.getValue()):null}
function tyh(a,b){var c=a.J;if(!c)return null;var d=a.ma;if(!d)return null;var e=d.getKey();e=Wd(a.C)[e];if(!e)return null;d=d.getValue();a=0;e=Uuh(e,!0);for(var f=0;f<e.length;f++){var h=e[f],k=a+uyh(h,c,b);if(k>d)return new iZ(h,d-a);a=k}return null}function vyh(a,b,c,d){for(var e=0;e<a.length;e++){var f=a[e],h=b.slice(f.start,f.end);d&&"<"!=b[f.start]&&(h=Ep('<span class="%s">%s</span>',d,h));c+=h}return c}
function uyh(a,b,c){a=wyh(a,c);if(!a)return 0;a=jo(a).textContent.toLowerCase();return Pga(a,b.toLowerCase())}function wyh(a,b){var c=a.yea();if(!c){var d=xyh();a.Zj()?c=oM(d,Zxh(a,b)):a.getContent()?c=oM(d,a.getContent()):c=null}return c}function xyh(){var a=pcc();a.F=de;return new jcc(a)};function yyh(a,b){return 1==b&&!a.F&&!a.getId()};function zyh(a,b,c){b=c||b;a='<div id="docos-shadow-wrapper" style="display: none"><div id="docos-shadow"><div id="docos-shadow-contents-wrapper" role="dialog" aria-labelledby="docos-shadow-description"><table class="'+T("docos-shadow-table")+'"><tr align="center" valign="top"><td><table><tr align="center" class="'+T("docos-shadow-prompt")+'"><td class="'+T("docos-shadow-contents")+'"><div id="docos-shadow-description"></div></td></tr><tr align="center"><td class="'+T("docos-shadow-contents")+'">';
a+=R(Ez({id:"docos-shadow-confirm",content:tw("Delete")},b));a+=R(Ez({id:"docos-shadow-cancel",content:tw("Cancel")},b));return S(a+"</td></tr></table></td></tr></table></div></div></div>")};function Ayh(a,b){Z6.call(this,a,b);this.D=this.J=this.L=this.V=this.Ca=this.R=this.Td=null;this.H=new Fz(null,b);this.Ga(this.H);this.F=new Fz(null,b);this.Ga(this.F);this.vg=this.O=null;this.ma=!1;this.xa=new wz(this);this.va(this.xa);a=g7(a);this.xa.Nb(a.Ra("docos-highlight-doco"),rs,this.O_)}v(Ayh,Z6);var Byh=null;function Cyh(a,b){Byh||(Byh=new Ayh(a,b),Byh.render());return Byh}var Dyh={"delete-discussion":"Delete this comment thread?","delete-reply":"Delete this comment?"};m=Ayh.prototype;
m.Ba=function(){this.ib(Kx(zyh,{},void 0,this.qa()))};
m.Ia=function(){Ayh.Ta.Ia.call(this);if(!this.ma){var a=this.qa();this.D=a.getElement("docos-shadow");this.L=a.getElement("docos-shadow-description");this.H.Va(a.getElement("docos-shadow-cancel"));this.H.Na(!0);this.F.Va(a.getElement("docos-shadow-confirm"));this.F.Na(!0);this.O=new kB(a.getElement("docos-shadow-contents-wrapper"),a);this.va(this.O);lB(this.O);this.vg=new gx(a.Yb());this.va(this.vg);this.ma=!0}a7(a7(a7(a7(this,this.H,"action",this.Hab),this.F,"action",this.Iab),this.getElement(),
["keyup","keydown"],this.Jab),this.vg,"focusin",this.wx)};m.prompt=function(a,b,c,d,e,f){this.Gb()&&this.vd();if(c!=this.V){var h=Dyh[c];h&&this.qa().Fe(this.L,h);this.V=c}this.Td=b;this.R=a;this.J=e||null;b=Tv(a);Qv(this.D,b);b=Gv(a,"paddingLeft");c=Gv(a,"paddingTop");this.D.style.marginLeft="-"+b;this.D.style.marginTop="-"+c;a.firstChild?fw(this,a.firstChild):this.render(a);P(this.getElement(),!0);P(this.L,!f);this.F.focus();d&&(this.Ca=d.getId(),this.getHandler().listen(d,"rd",this.Kab))};
m.vd=function(){Ayh.Ta.vd.call(this);this.J=this.R=this.Td=null};m.O_=function(){Qv(this.D,"","");this.D.style.marginLeft="";this.D.style.marginTop="";this.J&&this.J.focus();no(this.getElement());this.Gb()&&this.vd()};m.Iab=function(){this.Td&&this.Td();this.O_()};m.Jab=function(a){27==a.keyCode&&(a.stopPropagation(),"keyup"==a.type&&this.O_())};m.Hab=function(){this.O_()};m.Kab=function(a){a.target&&a.target.getId()==this.Ca&&this.R&&P(this.getElement(),!0)};
m.wx=function(a){a=a.target;uo(this.getElement(),a)||this.O_()};function Eyh(a,b,c,d,e,f,h){Z6.call(this,a,d);this.F=a;this.Cb=$6(this.F).R;this.Pf=new qyh(a);this.O=b;this.H=e;this.Fg=h||"";this.Wd=u(this.qab,this);this.D=null;this.Uc(f||"root");this.Pa=c;this.Kb=!0;this.Wa=2;this.Ve=!1;this.ge=this.F.get("relativeDateFormatter");this.Kc=this.Qa=this.Ea=this.Oa=this.Od=this.Ua=this.Za=this.$a=this.dd=this.wc=this.Vc=this.fc=this.xa=this.wf=this.Pb=this.Bb=this.Ca=this.Ae=this.R=this.L=this.J=this.V=this.ma=this.Ka=this.Bc=this.Ha=null;this.eb=new jcc(occ(["data-rawHref"]));
a7(this,this.ge,"oj",u(this.fRa,this,!0))}v(Eyh,Z6);var Fyh=/[\x00-\b\f-\u001f\ue000-\uf8ff]/g,Gyh=/[\n-\x0B]/g;m=Eyh.prototype;m.ud=function(){return e7(this.F).ud(this.O)};function Hyh(a){return n7(a.ud(),a.getId())}function E7(a){return F7(a)?a.ud():Hyh(a)}
m.Ba=function(){var a=this.qa(),b=E7(this),c=b.Qv(),d=Iyh(this),e=Jyh(this);if(F7(this)&&Vth(this.ud().C)){var f=Ad(Vth(this.ud().C));f=f.replace(Gyh,"<br>").replace(Fyh," ");var h=oM(this.eb,f)}else h=null;f="legacy"!=this.C.F;b=Kx(Uvh,{author:c.getName(),Uka:e||"",Be:this.Fg,Ro:this.Pa,jla:Kyh(this),Vl:G7(this),hta:d,DA:F7(this),Zj:b.Zj(),v6b:h?h:"",twa:Lyh(this),jI:Myh(this),DW:!!E7(this).OA(),Jj:this.C.Jj(),vda:this.C.vda(),Xsa:this.C.Xsa(),timestamp:Nyh(this),a$a:"//ssl.gstatic.com/s2/profiles/images/silhouette96.png",
Dn:f},void 0,a);this.ib(b);d=a.bb("docos-accept-suggestion",b);h=a.bb("docos-reject-suggestion",b);this.fc=a.bb("docos-body-action-text",b);this.wc=a.bb("docos-anchoredreplyview-buttonholder",b);this.Oa=a.bb("docos-author",b);if(d&&h){this.ma=new Fz(null,a);var k=this.C.Jj();this.ma.XM=k;this.va(this.ma);this.V=new Fz(null,a);this.va(this.V);this.ma.Va(d);this.V.Va(h)}if(k=a.bb("docos-replyview-resolve-button",b)){this.J=new Fz(null,a);var l=this.C.Jj();this.J.XM=l;this.va(this.J);this.J.Va(k)}(k||
d&&h)&&Oyh(this);d=this.qa();h=d.bb("docos-vote-button",b);k=d.bb("docos-like-button",b);if(h||k)h?(this.R=new oyh(this.F,this.O,d,F7(this)?void 0:this.getId()),this.Ga(this.R),this.R.Va(h)):k&&(this.R=new myh(this.F,this.O,d,F7(this)?void 0:this.getId()),this.Ga(this.R),this.R.Va(k));d=a.bb("docos-overflowmenu-outer",b);(G7(this)||Kyh(this)||F7(this))&&d&&(f=Kx(Tvh,{Jh:"docos-icon-overflow-three-dots",vA:"docos-icon-overflow-three-dots-size",qQ:f}),a.appendChild(d,f),Ev(d,"visibility",""),f=[],G7(this)&&
(f=f.concat(["edit"])),Kyh(this)&&(f=f.concat(["delete"])),F7(this)&&(this.C.Bc&&(f=f.concat(["link"])),f=f.concat(["reanchor"])),this.L=new yuh(this.F,this.O,a,"docos-overflowmenu",f,this.getId()),this.Ga(this.L),this.L.Va(d));this.Ha=a.bb("docos-replyview-body",b);this.Ae=a.bb("docos-streamreplyview-text",b)||this.Ha;this.Ca=a.bb("docos-collapsible-replyview",b);this.Bb=a.bb("docos-replyview-timestamp",b);F7(this)&&Vth(this.ud().C)&&(this.xa=a.bb("docos-replyview-quote",b),this.$a=a.bb("docos-replyview-quote-expand",
b),this.Ua=a.bb("docos-replyview-quote-collapse",b));(this.Pb=a.bb("docos-show-less",b))&&Pyh(this);this.wf=a.bb("docos-show-more",b);this.Od=a.Ph("docos-replyview-static",b);G7(this)&&this.D&&Qyh(this);(G7(this)||Kyh(this))&&(this.Za=a.bb("docos-replyview-control",b))&&P(this.Za,!this.ud().isResolved());this.Ea=dW(a,"IMG","docos-replyview-avatar",b);if(f=a.bb("docos-user-presence",b))d=this.C,c=(h=d.dd)&&c.getId()?h(c.getId()):(d=d.fD)?d(c.getName()||""):null,c&&(f.style.backgroundColor=c);this.Qa=
a.bb("docos-replyview-origin",b);Ryh(this);e&&(this.Ka=e,Syh(this,Ae(e)),Tyh(this),Uyh(this));Vyh(this)};
function Vyh(a){if(xuh(a.C)){var b={AUTHOR_NAME:E7(a).Qv().getName(),CREATION_TIME:Nyh(a)};if(a.Ha.textContent)if(Myh(a)){var c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {BODY_TEXT}. {ACTION_TEXT}.";b.BODY_TEXT=a.Ha.textContent;b.ACTION_TEXT=Myh(a)}else c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {BODY_TEXT}.",b.BODY_TEXT=a.Ha.textContent;else c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {ACTION_TEXT}.",b.ACTION_TEXT=Myh(a);c=(new lA(c)).format(b);Kw(a.getElement(),c)}}
function Wyh(a){var b=a.ud();if(b)if(b.isResolved()){if(b=a.H,b.V&&P(b.V,!1),b=a.ud())b.Zj(),a.DB(!1,nth(a.H))}else a.dispatchEvent("br"),b=a.H,b.V&&P(b.V,!1),(b=a.ud())&&(b.Zj()?a.g_():a.DB(!0,nth(a.H))),a.dispatchEvent("ar")}function Xyh(a){a.D||(a.D=new vxh(a.F,a.qa(),a.H),a.va(a.D),a.Ga(a.D),a.D.Ca="Edit your comment...",a.D.$a=!1,a7(a7(a7(a,a.D,"p",a.oac),a.D,"c",a.TDa),a.D,"s",a.rab),a.getElement()&&Qyh(a))}
function Qyh(a){var b=a.qa(),c="docos-replyview-edit-pane",d="",e="",f="";a.Pa?(c+=" docos-anchoredreplyview-edit-pane",d="docos-noclick"):F7(a)?(c+=" docos-streamdocoview-edit-pane",e="Discard changes",f=Myh(a)):(c+=" docos-streamreplyview-edit-pane",e="Discard changes");d=Kx(Yvh,{Be:c,bHa:d,qla:e,jI:f,Jj:a.C.Jj(),UH:a.C.Ea});c=a.getElement();e=b.bb("docos-edit-pane-placeholder",c);b.uB(d,e);a.D.Va(d);a.D.setVisible(!1);d=a.H.getElement();a.D.V=d;a.Vc=b.bb("docos-edit-pane-action-text",c)}
m.S3b=function(a){a&&a.stopPropagation();Wyh(this)};
m.Ia=function(){Eyh.Ta.Ia.call(this);a7(this,this.getElement(),["click","keypress","keyup"],this.sab);this.xa&&(a7(a7(this,this.Ua,"click",this.J_a),this.$a,"click",this.J_a),Yyh(this));this.J&&a7(this,this.J,"action",this.S3b);this.ma&&this.V&&a7(a7(a7(this,this.ma,"action",this.a1b),this.V,"action",this.R3b),this.C,"r",this.uab);this.L&&a7(a7(a7(this,this.L,"d",this.P1b),this.L,"e",this.vab),this.L,"ra",this.J3b);var a=E7(this).Qv();Zyh(this,a);this.Oa&&$yh(this,a);azh(this,a);this.D&&(a=this.H.getElement(),
this.D.V=a);this.collapse();xuh(this.C)&&xo(this.getElement(),!0)};m.uab=function(){Oyh(this)};
function Oyh(a){var b=a.ud();if(b){var c=E7(a);if(c){var d=c.Zj();if(!d||a.ma&&a.V)if(d||a.J){if(d){if(!c.zG())return;d=a.C.H;d=c.Zj()&&"full"==d.C&&wvh(e7(a.F),b)&&!a.C.ma;var e=a.C.H;b=c.Zj()&&(fuh(e,c)||"full"==e.C)&&wvh(e7(a.F),b)&&!a.C.ma;c=d||b;e=d?"Accept suggestion":"Only editors can accept suggestions";var f=b?"Reject suggestion":"Only editors can reject suggestions";a.ma.getElement()&&$6(a.F).D.C(a.ma.getElement(),e);a.V.getElement()&&$6(a.F).D.C(a.V.getElement(),f);a.ma.Na(d);a.V.Na(b)}else Huh(b)?
(c=!0,a.J.Na(!1),P(a.J.getElement(),!1)):(c=Iyh(a),a.J.Na(c),d=b.isResolved()?"Re-open":"Resolve",b=b.isResolved()?"Mark as open":e7(a.F).V?"Mark as resolved":"Mark as resolved and hide discussion",a.C.vda()||wo(a.J.getElement(),d),a.J&&a.J.getElement()&&$6(a.F).D.C(a.J.La(),b));!a.wc||null!==a.dd&&a.dd==c||(P(a.wc,c),a.dd=c)}}}}function bzh(a){var b=U6(T6(S6(a.H.getId()),a.H.Za)),c=g7(a.F);c.tf("docos-before-highlight-doco").wb(b);D7(e7(a.F),a.H.getId());c.tf("docos-highlight-doco").wb(b)}
m.vab=function(){bzh(this);czh(this)};m.P1b=function(){bzh(this);F7(this)?this.H.AZa():dzh(this)};m.J3b=function(a){bzh(this);this.dispatchEvent(new fth("ra",this.O));a.stopPropagation()};function Zyh(a,b){var c=b.C,d=d7(a.F);a.Ea&&yyh(b,E7(a).getOrigin())&&(c=Ivh(d),Ow(a.Ea,"docos-avatar-unverified"),a.C.D.C(a.Ea,"Author from imported document"));kth(d,a.Ea,c,Y6(b))}function $yh(a,b){(b=b.getName())?(b=oM(a.eb,b),Ie(a.Oa,b)):(b=oM(a.eb,""),Ie(a.Oa,b))}
function azh(a,b){if(b=b.getName())a.Oa&&a.C.D.C(a.Oa,b),a.Ea&&a.C.D.C(a.Ea,b)}function ezh(a,b){a.J&&a.qa().oi(a.J.getElement(),b);a.ma&&a.V&&(a.qa().oi(a.ma.getElement(),b),a.qa().oi(a.V.getElement(),b));a.L&&a.L.ah(b);a.R&&a.qa().oi(a.R.getElement(),b)}function fzh(a){return a.L?(a.L.focus(),!0):a.R?(a.R.getElement().focus(),!0):a.V?(a.V.focus(),!0):a.J?(a.J.focus(),!0):!1}
m.update=function(){this.H.Vk()&&this.Kb&&Yyh(this);var a=this.D&&G7(this)&&B7(this.D),b=Jyh(this),c=Ae(b),d=!this.Ka||Ae(this.Ka)!=c;d&&(this.Ka=b,Ie(this.Ha,b),Uyh(this));Tyh(this);Syh(this,c);F7(this)||this.dispatchEvent(new b7(this.getId()));G7(this)&&this.Za&&!a&&P(this.Za,!this.ud().isResolved());b=E7(this).Qv();Zyh(this,b);this.Oa&&$yh(this,b);azh(this,b);Ryh(this);if(this.Pa&&!a){switch(this.Wa){case 1:this.expand();break;case 0:this.collapse();break;case 2:this.H.Vk()?this.expand():this.collapse()}Pyh(this)}this.fRa();
d&&(this.D&&this.D.Gb()&&this.D.reset(!0),this.TDa());Oyh(this);this.R&&this.R.update();this.L&&this.L.update();Vyh(this)};m.yz=function(){if(this.Bc){var a=gzh(this,this.Bc);a.No()!=this.Ka.No()&&(this.Ka=a,Ie(this.Ha,this.Ka),Uyh(this))}};function Jyh(a){var b=E7(a),c=b.yea();if(!c){c=b.getContent();var d=b.uua();if(0<c.length&&"text/html"!=d)throw Error("Unknown content type: "+d);b.Zj()&&(c=Zxh(b,a.C));c=oM(a.eb,c)}a.Bc=c;return gzh(a,c)}
function gzh(a,b){var c=e7(a.F),d=c.J;if(!d)return b;a=(c=syh(c,a.C))&&c.getKey()==E7(a).getId()?c.getValue():void 0;c=xyh();var e=ho("DIV");e.appendChild(jo(oM(c,Ve(d))));d=e.innerHTML;e.replaceChild(jo(b),e.lastChild);b=e.innerHTML;for(var f=e=0,h="",k=!1,l=0,n=0,q=[],r=0;r<b.length;r++){var w=b[r],x=0<l;">"==w?(k=!1,x?q.push(new lm(f,r+1)):h+=b.slice(f,r+1),f=r+1):"<"==w?(k=!0,x&&q.push(new lm(f,r)),f=r):k||((w=yd(w,d[l]))&&0==l&&(n=r),w&&x&&l<d.length-1?l++:(w?l==d.length-1?(x=e==a?"docos-selected-find-match":
"docos-find-match",q.push(new lm(f,r+1)),h=vyh(q,b,h,x),f=r+1,l=0,e++):(f=r,l=1):(q=(x?n:r)+1,h+=b.slice(x?n:f,q),f=q,l=0,x&&(r=n)),q=[]))}h=vyh(q,b,h);h+=b.slice(f,b.length);return oM(c,h)}m.fRa=function(a){if(this.Bb){var b=Nyh(this);b&&(a&&(this.Bb.textContent=b),a=E7(this),F7(this)||this.Pa||a.nx().equals(a.fP())||(this.Bb.textContent=b))}};function Nyh(a){var b=a.ge,c=E7(a),d=c.nx();return d?a.Pa||F7(a)||!(a=c.fP())||d.equals(a)?b.format(d):b.format(d)+(" (edited "+(b.format(a)+")")):null}
m.setVisible=function(a){P(this.getElement(),a)};m.isVisible=function(){return Wv(this.getElement())};m.rab=function(a){this.dispatchEvent(new b7(this.O));a.stopPropagation()};function dzh(a){var b=a.getElement();b&&(a.C.Bb?(b=a.C.eb,b(function(){return a.Wd()},function(){null!=a.H.getElement()&&a.H.getElement().focus()},!1)):Cyh(a.F,a.qa()).prompt(b,a.Wd,"delete-reply",a,a.H.getElement(),!a.Pa))}
m.sab=function(a){if(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type){var b=this.getElement(),c=a.target;!F7(this)&&Nw(c,"docos-replyview-delete")&&b?(dzh(this),a.stopPropagation(),a.preventDefault()):Nw(c,"docos-replyview-edit")&&b?(czh(this),a.stopPropagation(),a.preventDefault()):Nw(c,"docos-show-more")&&b?(this.expand(),this.dispatchEvent(new b7(this.O)),this.Pb.focus()):Nw(c,"docos-show-less")&&b?(this.collapse(),this.dispatchEvent(new b7(this.O)),this.wf.focus(),
a.stopPropagation(),a.preventDefault()):b&&this.L&&uo(this.L.getElement(),a.target)&&(a.stopPropagation(),a.preventDefault())}32==a.keyCode&&"keypress"==a.type&&(a.stopPropagation(),a.preventDefault())};function hzh(a,b){var c=a.ud();if(!c||wvh(e7(a.F),c)){var d=E7(a);d&&d.zG()&&(c=a.C.J[b])&&(a=w7(e7(a.F),a.O))&&(d=d.Xy&&d.Xy()&&!d.isResolved()?s7(d):void 0,b=(new W6(b)).setAnchorIds([d]).addDocoHandle(a).setUserInitiated(!0).build(),c(b))}}m.g_=function(){var a=this.ud();a&&a.Zj()&&hzh(this,"before-suggestion-accepted")};
m.a1b=function(){var a=La();this.g_();this.Cb&&this.Cb.ao("dsabb",La()-a)};m.DB=function(a,b){var c=this.ud(),d=this.H;d.D&&B7(d.D)&&d.D.setValue("");c&&!c.Zj()&&c.isResolved()!=a&&g7(this.F).tf("docos-resolve-doco").wb(new hth(this.O,a,b||null))};m.R3b=function(){var a=La();hzh(this,"before-suggestion-rejected");this.Cb&&this.Cb.ao("dsrbb",La()-a)};m.expand=function(){E7(this).Zj()||(Qw(this.Ca,"docos-collapsed-replyview"),this.Wa=150>=this.Ca.offsetHeight?2:1,Pyh(this))};
m.collapse=function(){!E7(this).Zj()&&this.Pa&&(Qw(this.Ca,"docos-collapsed-replyview"),150>=this.Ca.offsetHeight?this.Wa=2:(this.Wa=0,Ow(this.Ca,"docos-collapsed-replyview")),Pyh(this))};function Pyh(a){if(!E7(a).Zj()){var b=1==a.Wa;b!=a.Ve&&(a.Pb.style.display=b?"block":"none",a.Ve=b)}}function F7(a){return"root"==a.getId()}function Kyh(a){var b=E7(a);return b?huh(a.C.H,b)&&!a.C.ma:!1}function G7(a){var b=E7(a);return b?guh(a.C.H,b):!1}function Iyh(a){var b=a.ud();return b?iuh(a.C.H,b):!1}
m.qab=function(){g7(this.F).tf("docos-delete-reply").wb({zj:this.O,Axa:this.getId()})};function czh(a){G7(a)&&(Xyh(a),izh(a,!1),a.Ca&&a.expand(),a.D.setVisible(!0),a.D.Za=!0,a.D.ready(E7(a).Zz()))}m.TDa=function(){G7(this)&&(izh(this,!0),this.Ca&&this.expand(),this.D&&(this.D.setVisible(!1),this.D.Za=!1))};
m.oac=function(){if(G7(this)){Xyh(this);var a=g7(this.F),b=this.D.getValue();zd(b)||(F7(this)?a.tf("docos-edit-doco").wb({id:this.O,text:b,tna:this.D}):(b={zj:this.O,Axa:this.getId(),text:b,tna:this.D},a.tf("docos-edit-reply").wb(b)))}};function izh(a,b){for(var c=0;c<a.Od.length;++c)P(a.Od[c],b)}
m.J_a=function(){var a=Nw(this.xa,"docos-replyview-quote-collapsed");P(this.$a,!a);P(this.Ua,a);this.Kb=!a;a?Uw(this.xa,"docos-replyview-quote-collapsed","docos-replyview-quote-expanded"):Uw(this.xa,"docos-replyview-quote-expanded","docos-replyview-quote-collapsed")};
function Yyh(a){!a.xa||0>=Tv(a.xa).height||(Uw(a.xa,"docos-replyview-quote-collapsed","docos-replyview-quote-expanded"),30<Tv(a.xa).height?(P(a.$a,!0),P(a.Ua,!1),Uw(a.xa,"docos-replyview-quote-expanded","docos-replyview-quote-collapsed")):(P(a.$a,!1),P(a.Ua,!1)),a.Kb=!0)}m.vd=function(){Eyh.Ta.vd.call(this);f7(d7(this.F),this.Ea)};function Ryh(a){var b=Lyh(a);b?(b=oM(a.eb,b),Ie(a.Qa,b),P(a.Qa,!0)):P(a.Qa,!1)}
function Lyh(a){var b=E7(a),c=b.getOrigin();1==c?b="From imported document":(a=a.C,b=hZ(a.C)&&Ri(hZ(a.C),33)&&b.Qsa()?"From comparison":2==c?"Comments above copied from original document":null);return b}
function Myh(a){var b=a.Pf;var c=E7(a),d=a.ud();c&&d?(a=c.xea(),0==a&&c7(d)?b="Marked as done":0==a?b="Marked as resolved":1==a?b="Re-opened":2==a?b="Suggestion accepted":3==a?b="Suggestion rejected":4==a?(a=c.OA(),c=(d=Huh(d))&&d.getId()!=c.getId(),a=X6(a),b=ath(a,b.C,!0),b=c?(new lA("Reassigned to {user}")).format({user:b}):(new lA("Assigned to {user}")).format({user:b})):b=""):b="";return b}function Syh(a,b){b=-1==je(b,!0);if(null===a.Kc||b!=a.Kc)LIe(a.Ae,b),a.Kc=b}
function Tyh(a){var b=Myh(a);a.fc&&wo(a.fc,b);a.Vc&&wo(a.Vc,b)}function Uyh(a){if(a.C.Pb)for(var b=Un("A",a.Ha),c=0;c<b.length;c++){var d=b[c];d.getAttribute("data-rawHref")&&a.getHandler().Af(d,In,a.w1b)}}m.w1b=function(a){yIe(this.C.Pb,a.target.getAttribute("data-rawHref"));a.preventDefault();a.stopPropagation()};function H7(a,b,c,d,e){A7.call(this,a,b,c,d,e);this.ma=!1;this.D=null;this.F=new Eyh(a,b,this.Ro(),d,this,void 0,"docos-replyview-first");this.Ga(this.F);this.H={};this.Kb=u(this.jab,this);this.Bc=hvh(a);this.Ka="docos-docoview-input-pane";this.Pb="";xuh(this.C)&&(a=new Zz(this),this.va(a),a.Qi("up",38),a.Qi("down",40),this.getHandler().listen(a,"shortcut",this.Rqb))}v(H7,A7);m=H7.prototype;m.PFa=!1;
function jzh(a){a.D||(a.D=new vxh(a.getContext(),a.qa(),a),a.va(a.D),a.D.Ca="Reply...",a.D.re("Reply"),a.Bya(),a.getElement()&&kzh(a))}m.Rqb=function(a){switch(a.identifier){case "down":a=lzh(this);var b=mzh(this,a);b==a.length-1?a[0].focus():a[b+1].focus();break;case "up":a=lzh(this),b=mzh(this,a),0>=b?a[a.length-1].focus():a[b-1].focus()}};
function lzh(a){var b=Uuh(a.ud(),!1),c=[];a.F.getElement();c.push(a.F.getElement());b=ja(b);for(var d=b.next();!d.done;d=b.next())(d=a.H[d.value.getId()].getElement())&&c.push(d);a.D&&a.D.getElement()&&c.push(a.D.getElement());return c}function mzh(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=a.qa(),f=Jo(e);if(d==f||e.contains(d,f))return c}return-1}
function kzh(a){var b=a.qa(),c=Kx(Yvh,{Be:a.Ka,bHa:"",qla:a.Pb,jI:"",Jj:a.C.Jj(),UH:a.C.Ea}),d=a.getElement(),e=b.bb("docos-input-pane-placeholder",d);b.uB(c,e);a.D.Va(c);a.D.V=d}m.Bya=function(){this.D&&a7(a7(a7(a7(a7(this,this.D,"p",this.pab),this.D,"c",this.nab),this.D,"b",this.mab),this.D,"e",this.oab),this.D,"s",this.lU)};
m.Ba=function(){H7.Ta.Ba.call(this);var a=this.getElement(),b=this.qa();this.D&&kzh(this);Fw(a,"listitem");this.fc=b.bb("docos-docoview-replycontainer",a);this.Vc=b.bb("docos-docoview-rootreply",a);this.F.render(this.Vc);nzh(this)};m.Ia=function(){H7.Ta.Ia.call(this);a7(this,this.getElement(),["keydown","keypress","keyup"],this.lab);if(this.D){var a=this.getElement();this.D.V=a}xo(this.getElement(),!0)};m.Hb=g("fc");
m.Uc=function(a){H7.Ta.Uc.call(this,a);if(this.F){var b=this.F;b.O=a;b.L&&Auh(b.L,a);b.R&&b.R.vRa(a)}};m.Ro=ea(!1);m.OFa=function(a){if(!Nw(a.target,"docos-noclick")){var b=g7(this.getContext()),c=T6(S6(this.getId()),this.Za);b.tf("docos-before-highlight-doco").wb(U6(c));D7(e7(this.R),this.getId());b.tf("docos-highlight-doco").wb(U6(Psh(c)));this.ma=!0;this.iVa(a)}};m.iVa=ta;
m.lab=function(a){this.dispatchEvent(a)&&!a.ctrlKey&&Q5a(a)&&9!=a.keyCode&&13!=a.keyCode&&32!=a.keyCode&&69!=a.keyCode&&74!=a.keyCode&&75!=a.keyCode&&juh(this.C.H)&&this.ma&&(jzh(this),this.D.ready(),this.ma=!1);9==a.keyCode&&(this.ma=!1)};
m.AZa=function(){var a=this;this.ma=!1;var b=this.getElement();if(this.ud().Zj())this.Kb("suggestion");else if(b){var c=function(){return a.Kb("discussion")};this.C.Bb?(0,this.C.eb)(c,function(d){d||null==a.getElement()||a.getElement().focus()},!0):Cyh(this.getContext(),this.qa()).prompt(b,c,"delete-discussion",this,this.getElement())}};
function nzh(a){for(var b=Uuh(a.ud()),c=a.F,d=0;d<b.length;++d){var e=b[d].getId();if(a.H[e])c=a.H[e];else{var f=new Eyh(a.getContext(),a.getId(),a.Ro(),a.qa(),a,e);a.vf(f,jw(a,c)+1,!0);c=a.H[e]=f}}}m.pab=function(){if(this.D){var a=this.D.getValue(),b=rxh(this.D.H);b=b?Ath(b):void 0;if(!zd(a)){var c=w7(e7(this.getContext()),this.getId());this.dispatchEvent(new gth("sr",this.getId(),s7(this.ud()),c,a,void 0,b))}}};m.nab=function(){kvh(this.Bc,Quh(Puh(Ouh(Nuh(43012),this.ud().getId()),s7(this.ud()))))};
m.mab=function(){this.Vk()&&(this.ma=!0)};m.oab=function(){this.Vk()&&(this.ma=!0)};m.focus=function(){jzh(this);var a=this.Vk();a&&Wv(this.getElement())&&juh(this.C.H)&&(this.ma=!0);if(a){var b=this.qa();a=Jo(b);(kf&&!a||!b.contains(this.getElement(),a))&&Vo(function(){this.Gb()&&!b.contains(this.getElement(),Jo(b))&&this.getElement().focus()},0,this)}};
function ozh(a){var b=a.ud();if(b){var c=null,d;b:{for(d=jw(a,a.F);d<a.rc();d++){var e=a.tc(d);if((e=e==a.J?null:e)&&2==(Hyh(e)||b).getOrigin())break b}d=-1}if(0>d)a=c;else{for(;d<a.rc();d++)if(e=a.tc(d),e=e==a.J?null:e){if(2!=(Hyh(e)||b).getOrigin())break;P(e.Qa,!1);e.isVisible()&&(c=e)}a=c}a&&P(a.Qa,!0)}}
m.update=function(){var a=this.ud();this.F.update();this.re(a.Qv(),c7(a)||void 0);nzh(this);for(var b in this.H){var c=this.H[b];n7(a,b)?c.update():(this.removeChild(c,!0),c.dispose(),delete this.H[b])}a.isResolved()!=this.PFa&&(this.PFa=a.isResolved(),jzh(this),b=a.isResolved()?"Adding a comment will re-open this discussion...":"Reply...",this.D.Ca=b,this.D.re(a.isResolved()?"Adding a comment will re-open this discussion":"Reply"),!a.isResolved()&&B7(this.D)||this.D.reset(!0));awh(this);!this.Vk()&&
this.D&&this.D.blur();ozh(this);a=this.Qa;b=this.getElement();a.C&&b&&a.F&&(Uv(b).contains(new Zl(a.H,a.J))||Rvh(a,!1))};m.jab=function(a){this.dispatchEvent("bd");g7(this.getContext()).tf("docos-delete-doco").wb({Dm:s7(this.ud()),zj:this.getId(),$o:w7(e7(this.getContext()),this.getId()),lR:a})};function pzh(a){g7(a.getContext()).tf("docos-resolve-doco").wb(new hth(a.getId(),!1,null))}function nth(a){return a.D&&B7(a.D)?a.D.getValue():null}
function qzh(a){var b=a.getContext(),c=a.ud();c&&x7(hvh(b),q7(p7(o7(43045),c)));a=a.getId();g7(b).tf("docos-speak-doco").wb(a)}m.Ja=function(){H7.Ta.Ja.call(this);delete this.fc;delete this.H;delete this.D};function rzh(a,b){Z6.call(this,a,b);this.D=!1}v(rzh,Z6);rzh.prototype.Ba=function(){var a=this.qa();this.ib(Kx(Wvh,{},void 0,a));this.F=a.bb("docos-showrepliesbutton-collapsed",this.getElement())};rzh.prototype.setVisible=function(a){a!=this.D&&this.Gb()&&(P(this.getElement(),a),this.D=a)};rzh.prototype.isVisible=g("D");rzh.prototype.Ja=function(){rzh.Ta.Ja.call(this);delete this.F};function szh(a,b,c,d,e){H7.call(this,a,b,c,d,e);this.Ca=!0;this.J=this.L=null;this.Ha=new ith(a,d,b,this);this.Oa=this.eb=this.V=null;this.Ua=new Zz(this);this.va(this.Ua);b=this.Ua;b.Qi("backToDocument",85);b.Qi("resolve",69);b.Qi("blur",27);b.Qi("next",74);b.Qi("next",Fs(["N","C"]));b.Qi("prev",75);b.Qi("prev",Fs(["P","C"]));b.Qi("speakComment",Fs(["A","C"]));b.Qi("reply",82);this.getHandler().listen(this.Ua,"shortcut",this.jNb);this.getHandler().listen(this,"rd",this.kNb);this.Wa=!1;this.Ka+=" docos-anchoreddocoview-input-pane hide-on-readonly";
this.Bb=null;z(y(),"docs-edp")&&(this.Bb=new uxh(a,d,"unfocused-presenceindicator"));this.Kc="legacy"!=this.C.F;this.Ea=null}t(szh,H7);m=szh.prototype;m.setVisible=function(a){!this.isVisible()&&a&&e7(this.R).J&&this.yz();H7.prototype.setVisible.call(this,a)};m.yz=function(){this.F.yz();for(var a in this.H)this.H[a].yz()};m.Uc=function(a){H7.prototype.Uc.call(this,a);this.Ha&&this.Ha.Uc(a)};m.Ro=ea(!0);m.mO=function(){return this.ud()?s7(this.ud()):null};
m.Ba=function(){H7.prototype.Ba.call(this);var a=this.qa(),b=this.getElement();this.V=a.bb("docos-replyview-control",b);this.eb=a.bb("docos-anchoreddocoview-internal",b);this.Oa=a.bb("docos-anchoreddocoview-content",b);this.J&&(this.J.render(b),this.J.setVisible(!1));var c=this.ud(),d=!!c&&iuh($6(this.getContext()).H,c);Sw(this.getElement(),"docos-docoview-resolve-button-visible",d);if(c=c7(c))a=a.bb("docos-anchoreddocoview-assigneecontainer",b),this.Ha.render(a),tzh(this,c);this.D&&(a=this.getElement(),
this.D.V=a);this.Bb&&(a=this.qa().bb("docos-unfocusedpresenceindicator-container",this.getElement()),this.Bb.render(a))};m.Ia=function(){H7.prototype.Ia.call(this);var a=this.ud();a&&c7(a)&&this.vf(this.Ha,jw(this,this.F));awh(this);2<=Kd(this.ud().D)&&(a=uzh(this))&&vzh(this,a);this.hZ(!0);ozh(this);wzh(this);a7(a7(this,this,"show",this.rVa),this,"hide",this.qVa)};
m.vd=function(){var a=this.ud();if(a)if(this.D&&B7(this.D)){var b=this.D.getValue();a.R=b}else a.R=null;this.getHandler().Gc(this,"show",this.rVa);this.getHandler().Gc(this,"hide",this.qVa);H7.prototype.vd.call(this)};m.ah=function(a){this.qa().oi(this.getElement(),a)};function xzh(a,b){ezh(a.F,b);for(var c in a.H)ezh(a.H[c],b)}m.lNb=function(){var a=new Ksh(this.getId(),this.Za),b=g7(this.getContext());b.tf("docos-before-highlight-doco").wb(a);D7(e7(this.R),this.getId());b.tf("docos-highlight-doco").wb(a)};
m.kNb=function(){this.O=null;if(cwh(this)){var a=this.Oa.scrollHeight>this.Oa.offsetHeight,b=this.getElement();a&&!this.Ea&&b?(this.Ea=new XK(b),a7(this,this.Ea,"mousewheel",this.cIb)):!a&&this.Ea&&(this.Ea.dispose(),this.Ea=null);a=a?u4a():0;b=this.Kc?282:240;Rv(this.getElement(),b+a);Rv(this.Oa,b+a)}};m.rVa=function(a){a.target instanceof Hy&&(Ow(this.getElement(),"docos-docomenu-visible"),a.stopPropagation())};
m.qVa=function(a){a.target instanceof Hy&&(Qw(this.getElement(),"docos-docomenu-visible"),a.stopPropagation())};m.I8=ea(!0);m.update=function(){H7.prototype.update.call(this);var a=this.Vk();this.Vk()?this.L||this.C.Kb||(this.L=new kB(this.getElement(),this.qa()),this.va(this.L),lB(this.L)):this.L&&(this.L.dispose(),this.L=null);a!=this.Wa&&yzh(this);this.Wa=a;wzh(this);if(a=c7(this.ud()))this.Ha.update(),tzh(this,a);this.Ca&&zzh(this)};
function wzh(a){var b=a.ud();null!=b.R&&(jzh(a),a.D.ready(b.R,!0),b.R=null)}m.expand=function(a){var b=!1;if(this.Ca){this.F.expand();for(var c in this.H)b=this.H[c],b.setVisible(!0),b.expand();this.Ca=!1;b=!0}else if(a){c=this.getId()==a?this.F:this.H[a];if(!c)return;c.expand()}else return;this.O=null;b&&this.J&&this.J.setVisible(!1);this.hZ(!0);ozh(this)};
m.collapse=function(){if(!this.Ca){this.F.collapse();for(var a in this.H)this.H[a].collapse();this.Ca=!0;this.O=null;if(a=uzh(this))this.J&&this.J.setVisible(!1),this.getElement().style.maxHeight="",this.Hb().style.maxHeight="",vzh(this,a),this.hZ(!0),ozh(this)}};m.Bya=function(){H7.prototype.Bya.call(this);this.D&&(this.getHandler().listen(this.D,["b","e","s"],u(this.hZ,this,!0)),this.getHandler().listen(this.D,"e",this.YLa),this.getHandler().listen(this.D,"f",this.lNb))};
function uzh(a){var b=$6(a.getContext()).Fs;a=cwh(a);!a&&b&&(a=.75*b.C.clientHeight);return a||null}
function vzh(a,b){var c=a.getElement(),d=Kd(a.ud().D);if(!(2>d||c.offsetHeight<b)){var e=jw(a,a.F),f=1+Math.floor(d/2);a.J||(a.J=new rzh(a.getContext(),a.qa()),a.va(a.J),a.getElement()&&(a.J.render(a.getElement()),a.J.setVisible(!1)));a.vf(a.J,f+e);var h=a.J;h.F&&wo(h.F,"Show all "+(d+" replies"));a.J.setVisible(!0);h=f-1;f+=1;for(var k=0;c.offsetHeight>b&&k<d;++k){var l=-1;0==k%2&&0<h?(l=h,h--):f<=d&&(l=f,f++);0<=l&&a.tc(l+e).setVisible(!1)}}}
function zzh(a){var b=a.Xc();a.Ca&&a.expand();a.collapse();var c=a.Xc();fm(b,c)||a.dispatchEvent(new b7(a.getId()))}m.hZ=function(a){var b=cwh(this);b&&(jzh(this),this.getElement().style.maxHeight=b+"px",b-=this.D.getElement().offsetHeight,200<=b?this.Hb().style.maxHeight=b+"px":this.Hb().style.maxHeight="",a&&(this.eb.scrollTop=this.eb.scrollHeight))};
m.jNb=function(a){var b=g7(this.getContext());switch(a.identifier){case "backToDocument":b.tf("docos-back-to-document").wb({zj:this.getId()});break;case "resolve":Wyh(this.F);break;case "blur":this.YLa();break;case "next":this.dispatchEvent("sn");break;case "prev":this.dispatchEvent("sp");break;case "speakComment":qzh(this);break;case "reply":this.D.focus()}};m.YLa=function(){var a=g7(this.getContext());a.tf("docos-before-highlight-doco").wb(R6());D7(e7(this.R),null);a.tf("docos-highlight-doco").wb(R6())};
m.focus=function(){H7.prototype.focus.call(this);this.Wa=this.Vk();yzh(this)};function yzh(a){jzh(a);B7(a.D)||a.Wa||a.D.reset(!0);a.Vk()&&(a.expand(),a.mea());a.hZ(!0);a.dispatchEvent(new b7(a.getId()))}m.XR=function(a){H7.prototype.XR.call(this,a);this.hZ(!1)};m.Ja=function(){H7.prototype.Ja.call(this);delete this.Ua;this.J&&delete this.J;delete this.V};function tzh(a,b){var c=a.xa;c&&(a=Ysh(b,a.C),Rw(c,["docos-assignee-you","docos-assignee-other","docos-assignee-none"]),Ow(c,a))}
m.cIb=function(a){this.Vk()&&a.stopPropagation()};function Azh(a,b,c,d,e){this.rs=a;this.Re=void 0===b?null:b;this.N6a=void 0===c?null:c;this.hga=void 0===d?null:d;this.xcc=void 0===e?!1:e}m=Azh.prototype;m.getNewDocoType=g("rs");m.getText=g("Re");m.getAssigneeEmail=g("N6a");m.getOriginatingDocoType=g("hga");m.getWasSmartTodo=g("xcc");function Bzh(a,b,c,d){return Azh.call(this,"discussion",a,b,c,void 0===d?!1:d)||this}t(Bzh,Azh);function I7(a,b,c,d,e,f,h){A7.call(this,a,b,c,e,f);this.Lq=d;this.Ha=this.Ua=null;this.D=new vxh(a,this.qa(),this,h);this.Ga(this.D);this.Uc(b)}v(I7,A7);m=I7.prototype;m.Ba=function(){this.Ha=new Zz(this.getElement());this.va(this.Ha);var a=this.Ha;a.Qi("backToDocument",85);a.Qi("blur",27);a.Qi("next",74);a.Qi("next",Fs(["N","C"]));a.Qi("prev",75);a.Qi("prev",Fs(["P","C"]));a.Qi("reply",82)};
m.Ia=function(){I7.Ta.Ia.call(this);this.getHandler().listen(this.D,"p",this.IVa).listen(this.D,"c",this.Uva).listen(this.D,"s",this.lU).listen(this.D,"b",this.fab).listen(this.D,"e",this.Uqa).listen(this.D,"f",this.hab);this.getHandler().listen(this.Ha,"shortcut",this.gab);var a=this.getElement();this.D.V=a;this.Ua=new kB(this.getElement(),this.qa());this.va(this.Ua);lB(this.Ua)};m.Agb=function(a,b,c,d,e){g7(this.getContext()).tf("docos-convert-doco").wb({zj:a,Dm:b,$o:c,QUa:d,lR:e})};
m.IVa=function(){var a=this.Wma()?this.Wma().getEmail():void 0,b=this.ud().getNewDocoType()?this.ud().getNewDocoType():void 0,c=this.U$();var d=this.ud().C;d=null!=K(d.C,20)?K(d.C,20):null;a=new Bzh(c,a,b,1==d);c=w7(e7(this.getContext()),this.getId());Vo(u(this.Agb,this,this.getId(),this.mO(),c,a,b))};m.zgb=function(a,b,c,d){g7(this.getContext()).tf("docos-delete-doco").wb({zj:a,Dm:b,$o:c,lR:d})};
m.Uva=function(){var a=w7(e7(this.getContext()),this.getId()),b=this.ud().getNewDocoType()?this.ud().getNewDocoType():void 0;Vo(u(this.zgb,this,this.getId(),this.mO(),a,b))};m.Ro=ea(!0);m.mO=g("Lq");m.Xma=ea(!0);m.OFa=function(a){Czh(this);a.stopPropagation()};function Czh(a){var b=g7(a.getContext()),c=Psh(T6(S6(a.getId()),a.Za));b.tf("docos-before-highlight-doco").wb(U6(c));D7(e7(a.R),a.getId());b.tf("docos-highlight-doco").wb(U6(c))}
m.gab=function(a){var b=g7(this.getContext());switch(a.identifier){case "backToDocument":b.tf("docos-back-to-document").wb({zj:this.getId()});break;case "blur":b.tf("docos-before-highlight-doco").wb(R6());D7(e7(this.R),null);b.tf("docos-highlight-doco").wb(R6());break;case "next":this.dispatchEvent("sn");break;case "prev":this.dispatchEvent("sp");break;case "reply":this.D.focus()}};m.update=function(){awh(this);this.mea()};m.fab=function(a){this.lU(a)};
m.Uqa=function(){var a=g7(this.getContext());a.tf("docos-before-highlight-doco").wb(R6());D7(e7(this.R),null);a.tf("docos-highlight-doco").wb(R6())};m.hab=function(){this.Vk()||Czh(this)};m.focus=function(){this.Vk()&&(kf?Vo(this.VWa,0,this):this.VWa())};m.lU=function(a){var b=cwh(this);if(b){var c=this.getElement();c.style.maxHeight=b+"px";c.scrollTop=c.scrollHeight}I7.Ta.lU.call(this,a)};
m.VWa=function(){this.D.ready();var a=this.qa(),b=Jo(a);(kf&&!b||!a.contains(this.getElement(),b))&&Vo(function(){this.Gb()&&this.getElement().focus()},0,this)};function J7(a,b,c,d,e,f){I7.call(this,a,b,c,d,e,f);this.D.Ca="Reply...";this.H=!1}v(J7,I7);m=J7.prototype;m.QFa=null;m.C9=null;
m.Ba=function(){var a=this.qa(),b=this.C.ih(),c=Kx(Zvh,{author:b.getName(),xA:!0,Ro:!0,Jj:this.C.Jj(),UH:this.C.Ea},void 0,a);this.ib(c);this.D.Va(a.bb("docos-docoview-input-pane",c));this.QFa=a.bb("docos-author",c);this.C9=dW(a,"IMG","docos-replyview-avatar",c);var d=a.bb("docos-replyview-origin",c);P(d,!1);if(a=a.bb("docos-user-presence",c))if(c=this.C.dd)a.style.backgroundColor=c(b.getId());J7.Ta.Ba.call(this)};
m.Ia=function(){J7.Ta.Ia.call(this);awh(this);var a=this.ud().Zz();zd(a)||this.D.ready(a,!0,!0);a=this.C.ih();Jvh(d7(this.getContext()),this.C9,a.C,Y6(a))};m.Wma=function(){return rxh(this.D.H)};m.U$=function(){return this.D.getValue()};m.Uqa=function(a){B7(this.D)?this.lU(a):J7.Ta.Uqa.call(this,a)};
m.update=function(){J7.Ta.update.call(this);var a=this.Vk();a!=this.H&&(this.Vk()||B7(this.D)?this.dispatchEvent(new b7(this.getId())):this.Uva());a?this.getElement().setAttribute("guidedhelpid","comment_draft_box"):this.getElement().removeAttribute("guidedhelpid");this.H=a};m.vd=function(){J7.Ta.vd.call(this);g7(this.getContext()).tf("docos-edit-draft").wb({zj:this.getId(),text:this.U$(),nDa:this.C9})};m.Ja=function(){J7.Ta.Ja.call(this);delete this.QFa;delete this.C9};function Dzh(a,b,c,d,e,f){J7.call(this,a,b,c,d,e,f);this.ud()}t(Dzh,J7);function Ezh(a,b,c,d,e,f){J7.call(this,a,b,c,d,e,f);this.ud()}t(Ezh,J7);Ezh.prototype.J=function(a,b,c,d,e,f){this.dispatchEvent(new gth("sd",a,b,c,d,e,f))};Ezh.prototype.IVa=function(){var a=w7(e7(this.getContext()),this.getId()),b=rxh(this.D.H);if(null!=b){Ri(this.C.C,38);var c=Ath(b)}Vo(u(this.J,this,this.getId(),this.mO(),a,this.U$(),"instant-doco"==this.ud().rs,c))};Ezh.prototype.L=function(a,b,c,d){g7(a).tf("docos-cancel-insert-discussion").wb({zj:b,Dm:c,$o:d})};
Ezh.prototype.Uva=function(){var a=w7(e7(this.getContext()),this.getId());Vo(u(this.L,this,this.getContext(),this.getId(),this.mO(),a))};function Fzh(a,b,c,d,e,f){b=Azh.call(this,void 0===b?"draft":b,c,d,e,void 0===f?!1:f)||this;b.$c=a||null;return b}t(Fzh,Azh);Fzh.prototype.getPosition=g("$c");function Gzh(a){this.hga=a}Gzh.prototype.getOriginatingDocoType=g("hga");function Hzh(a,b,c){this.hga=a;this.rQ=b;this.gLb=c;return this}t(Hzh,Gzh);Hzh.prototype.isTodo=g("rQ");Hzh.prototype.isWrongAssignee=g("gLb");function Izh(a,b,c,d,e,f){I7.call(this,a,b,c,d,e,f,!0);this.Oa=this.Ka=this.J=this.V=this.Ca=this.L=this.H=this.Wa=this.ma=this.Ea=null;this.eb=hvh(a)}t(Izh,I7);m=Izh.prototype;
m.Ba=function(){var a=this.C,b=this.qa();a=Kx(Zvh,{Ro:!0,OW:!0,e8a:!!Ri(a.C,41),Jj:a.Jj(),Dn:"legacy"!=a.F},void 0,b);this.ib(a);this.D.$a=!1;this.D.Va(b.bb("docos-docoview-input-pane",a));this.Ea=b.bb("docos-input-assign-to-text",a);this.ma=b.Fa("docos-smarttodoview-body",a);this.ma.id=gw(this,"body");this.H=b.bb("docos-smarttodoview-feedback",a);this.Ka=b.bb("docos-smarttodoview-showfeedbackdialog-button",a);this.Oa=b.bb("docos-smarttodoview-writefeedback-link",a);var c=[];c.push("edit");c.push("disable");
c.push("help");this.J=new yuh(this.getContext(),this.getId(),b,"docos-overflowmenu",c);this.Ga(this.J);this.J.Va(b.Fa("docos-overflowmenu-outer",a));this.H&&(this.L=Jzh(this,"docos-smarttodoview-feedback-notactionitem","docos-smarttodoview-feedback-notactionitem-label"),this.V=Jzh(this,"docos-smarttodoview-feedback-wrongassignee","docos-smarttodoview-feedback-wrongassignee-label"),this.Wa=Kzh(this,"docos-smarttodoview-feedback-cancel"),(this.Ca=Kzh(this,"docos-smarttodoview-feedback-submit"))&&this.iAa());
b=b.Fa("docos-smarttodoview-headertext",a);b.id=gw(this,"headertext");Hw(a,"labelledby",b.id);Hw(a,"describedby",this.ma.id);I7.prototype.Ba.call(this)};function Jzh(a,b,c){var d=a.qa(),e=a.getElement();b=d.bb(b,e);c=d.bb(c,e);e=null;b&&(e=new iS(!1,d),c&&fS(e,c),e.Va(b),a.va(e));return e}function Kzh(a,b){var c=a.qa();b=c.bb(b,a.getElement());var d=null;b&&(d=new Fz(null,c),d.Va(b),Kw(b,d.Sk()),a.va(d));return d}
m.Ia=function(){I7.prototype.Ia.call(this);a7(a7(a7(this,this.J,"e",this.qNb),this.J,"i",this.Dqb),this.J,"h",this.wub);this.H&&(this.Ka&&this.getHandler().Af(this.Ka,In,this.REb),this.Oa&&this.getHandler().Af(this.Oa,In,this.nIb),this.L&&a7(this,this.L,"change",this.iAa),this.V&&a7(this,this.V,"change",this.iAa),this.Wa&&a7(this,this.Wa,"action",this.Lsb),this.Ca&&a7(this,this.Ca,"action",this.pNb));this.D.ready(void 0,void 0,!0);this.update()};
m.mea=function(){I7.prototype.mea.call(this);this.xa&&Ow(this.xa,"docos-smarttodoview-arrow-inner")};m.update=function(){I7.prototype.update.call(this);var a=c7(this.ud());a=X6(a);a=ath(a,this.C,!0);a=(new lA("Assign to {user}?")).format({user:a});wo(this.Ea,a);P(this.Ea,!0);a=oM(new jcc(new kcc),this.ud().getContent());Ie(this.ma,a);this.resize()};
m.qNb=function(){var a=X6(this.ud().OA()).getEmail();a=new Fzh(void 0,"client-integrated-draft",this.ud().Zz(),a,"smart-todo",!0);var b=w7(e7(this.getContext()),this.getId());g7(this.getContext()).tf("docos-convert-doco").wb({zj:this.getId(),$o:b,QUa:a,lR:"smart-todo"})};m.Dqb=function(){g7(this.getContext()).tf("docos-disable-smart-todo-feature").wb()};
m.wub=function(){kw("https://support.google.com/docs/?p=action_items&hl=en-GB",{target:"_blank",noreferrer:!0});kvh(this.eb,Quh(Puh(Ouh(Nuh(43029),this.ud().getId()),s7(this.ud()))))};m.REb=function(){this.H&&P(this.H,!0);kvh(this.eb,Quh(Puh(Ouh(Nuh(43025),this.ud().getId()),s7(this.ud()))))};m.nIb=function(){g7(this.getContext()).tf("docos-write-feedback").wb({source:"smart-todo"})};m.Lsb=function(){this.H&&P(this.H,!1);this.focus()};
m.iAa=function(){var a=null!=this.L&&this.L.isChecked(),b=null!=this.V&&this.V.isChecked();this.Ca.Na(a||b)};m.pNb=function(){g7(this.getContext()).tf("docos-reject-doco-with-feedback").wb({zj:this.getId(),Dm:this.mO(),$o:w7(e7(this.getContext()),this.getId()),lR:"smart-todo",mgb:new Hzh("smart-todo",!this.L.isChecked(),this.V.isChecked())})};m.Wma=function(){return c7(this.ud())?X6(c7(this.ud())):null};m.U$=function(){return this.ud().Zz()};
m.Ja=function(){I7.prototype.Ja.call(this);delete this.Ea;delete this.ma;delete this.H;delete this.J;delete this.Ka;delete this.Oa};function Lzh(a,b,c,d){this.C=a;this.H=b;this.cb=c;this.D=d}Lzh.prototype.F=function(a){a=e7(this.C).ud(a);var b=this.H.Lj().getId();switch(a.getNewDocoType()){case "draft":case "instant-doco":return new Ezh(this.C,a.getId(),b,s7(a),this.cb,this.D);case "client-integrated-draft":return new Dzh(this.C,a.getId(),b,s7(a),this.cb,this.D);case "smart-todo":return new Izh(this.C,a.getId(),b,s7(a),this.cb,this.D);default:return new szh(this.C,a.getId(),b,this.cb,this.D)}};function Mzh(a,b){this.C=a;this.D=b}Mzh.prototype.clone=function(){return new Mzh(this.C,this.D)};Mzh.prototype.equals=function(a){return null!=a&&this.C==a.C&&this.D==a.D};function K7(a,b){Mn.call(this);this.cb=b;this.L=a;this.D=null;if(a=L7(this).L)this.D=new Mzh(a,!0);this.xa=!a;this.Ca=!a;this.Cb=this.H=null}v(K7,Mn);m=K7.prototype;m.dya=da("O");m.Lj=function(){if(!this.O)throw Error("ViewManager.getComponent() returned undefined. setComponent() must be called first.");return this.O};m.VO=function(){return[]};m.kq=function(){return this.H?this.H.getId():null};m.TU=function(){return this.H?r7(this.H):null};m.UU=function(){var a=this.kq();return a?this.O.Dc(a):null};
m.qa=g("cb");function L7(a){return $6(a.L)}m.getContext=g("L");m.jF=function(){return this.Lj().getId()};m.M$=g("D");m.Cha=function(a,b){var c=this.kq();return a||c?b==this.jF()||this.D&&this.D.C==a?!0:!$vh(this,a):!1};function $vh(a,b){if(a.kq()==b)return!0;a=a.TU();return!!a&&a==b}
m.ana=function(a,b,c){if(this.Cha(a,b)){var d=$vh(this,a)?null:this.H;this.H=e7(this.L).ud(a)||null;var e=d&&a!=d.getId()&&(!r7(d)||a!=r7(d));if(e){var f=this.O.Dc(d.getId());f&&!j7(d.C)&&f.update()}d=!d||e;b=b==this.jF()&&(void 0===c||c);a&&(d||b)&&(d&&this.xXa(),(c=this.O.Dc(a))?(this.D=null,c.update(),b&&c.focus()):this.D=new Mzh(a,b),d&&this.Yva(a))}};m.xXa=ba();
m.QOa=function(a,b){var c=g7(this.L);c.tf("docos-before-highlight-doco").wb(a);D7(e7(this.L),b.getId());c.tf("docos-highlight-doco").wb(a);!this.xa&&(this.xa=!0,c=b.getId(),c==L7(this).L&&(a=L7(this).J["highlight-initial-doco"]))&&(b=(new W6("highlight-initial-doco")).addAnchorId(s7(b)).addDocoHandle(w7(e7(this.getContext()),c)).setNonAnchored(!(b.Xy()&&!b.isResolved())).setUserInitiated(!0).build(),a(b))};m.highlightNext=function(a,b,c){Nzh(this,!0,void 0,a,b,c)};
m.highlightPrevious=function(a,b,c){Nzh(this,!1,void 0,a,b,c)};m.Rfa=ba();m.Pfa=ba();function Nzh(a,b,c,d,e,f){var h=e7(a.L),k=Ozh(a,h,b,!!d,!!e);k||!c||e||(k=Ozh(a,h,!b,!!d,!1));b=g7(a.L);k&&(a=U6(Psh(Osh(Msh(T6(S6(k.getId()),a.jF())),void 0!==f?f:!0))),b.tf("docos-before-highlight-doco").wb(a),D7(h,k.getId()),b.tf("docos-highlight-doco").wb(a))}
function Ozh(a,b,c,d,e){c=c?1:-1;var f=null,h=a.Lj().rc();if(0==h)return null;a:{var k=a.kq();if(k){var l=a.Lj();if(k=l.Dc(k)){l=jw(l,k);break a}}l=-1}0>l&&(l=0,f=a.Lj().tc(l));for(k=l;!f||d&&!wvh(b,f.ud());){l+=c;if(!e&&(l>=h||0>l)){f=null;break}l=(l+h)%h;if(l==k){f=null;break}f=a.Lj().tc(l)}return f}
m.Yva=function(a){if(a==L7(this).L){var b=this.O.Dc(a);b&&b.Vk()&&!this.Ca&&(this.Ca=!0,b=L7(this).J["linked-doco-highlighted"])&&(a=e7(this.L).ud(a),a=Qsh("linked-doco-highlighted").addAnchorId(s7(a)).setUserInitiated(!0).build(),b(a))}};m.haa=function(a){for(var b=this.Lj(),c=b.rc(),d=c,e=0;e<c;++e){var f=b.tc(e);if(f&&0>=this.XT(a,f)){d=e;break}}return d};
function Pzh(a){if(a.V1()){for(var b=a.Lj(),c=[],d=b.rc(),e=0;e<d;++e)c.push(b.tc(e));c.sort(u(a.XT,a));for(e=0;e<d;++e)b.tc(e)!=c[e]&&b.vf(c[e],e)}}m.vy=function(){Mvh(d7(this.getContext()))};m.qI=ba();m.$ma=function(){for(var a=this.Lj().rc(),b=new Ash,c,d=0;d<a;d++)c=this.Lj().tc(d),null!=c&&(c=c.ud(),null!=c&&Kxh(b,c));return Bsh(b)};m.XI=ta;m.G9=ce;m.E0=ce;m.F0=ba();m.Ja=function(){K7.Ta.Ja.call(this);this.H=null};
m.Zma=function(a){a=a.oU()||a;a instanceof K7&&(a.D=this.D?this.D.clone():null,a.xa=this.xa,a.Ca=this.Ca)};m.oU=ea(null);m.cya=da("Cb");m.equals=function(a){if(null===a)a=!1;else if(a===this)a=!0;else if(a instanceof K7){var b=a.D;a=(this.D?this.D.equals(b):null==b)&&this.xa==a.xa&&this.Ca==a.Ca}else a=!1;return a};function Qzh(a,b){An.call(this,a);this.GFa=b}v(Qzh,An);function Rzh(a){this.C=[];if(a)a:{if(a instanceof Rzh){var b=a.Oe();a=a.Gd();if(0>=this.$d()){for(var c=this.C,d=0;d<b.length;d++)c.push(new iZ(b[d],a[d]));break a}}else b=Nd(a),a=Md(a);for(d=0;d<b.length;d++)Szh(this,b[d],a[d])}}function Szh(a,b,c){var d=a.C;d.push(new iZ(b,c));b=d.length-1;a=a.C;for(c=a[b];0<b;)if(d=b-1>>1,a[d].getKey()>c.getKey())a[b]=a[d],b=d;else break;a[b]=c}m=Rzh.prototype;
m.remove=function(){var a=this.C,b=a.length,c=a[0];if(!(0>=b)){if(1==b)bd(a);else{a[0]=a.pop();a=0;b=this.C;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,h=2*a+2;f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};function Tzh(a){return a.C[0]&&a.C[0].getKey()}m.Gd=function(){for(var a=this.C,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getValue());return b};
m.Oe=function(){for(var a=this.C,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};m.Xt=function(a){return Uc(this.C,function(b){return b.getValue()==a})};m.clone=function(){return new Rzh(this)};m.$d=function(){return this.C.length};m.isEmpty=function(){return $c(this.C)};m.clear=function(){bd(this.C)};function Uzh(){Rzh.call(this)}v(Uzh,Rzh);function Vzh(a,b){K7.call(this,a,b);this.V=e7(this.getContext());this.C={};this.R={};this.$a=new Uzh;this.J=new Ssh}v(Vzh,K7);m=Vzh.prototype;m.VO=function(){var a=Vzh.Ta.VO.call(this);a.push("docos-layout-anchored");L7(this).Ed&&a.push("docos-layout-anchored-shadows");return a};m.jma=function(a){return(new Lzh(this.getContext(),this,this.qa(),this)).F(a.getId())};
m.wT=function(a){if(this.V.R(a)){var b=a.getId(),c=w7(this.V,b),d=this.Doa(c,!1);if(d){var e=this.jma(a);this.R[c]&&delete this.R[c];c=this.haa(e);if(c<=this.Lj().rc()&&-1<c)for(Wzh(this,e,d,c);!this.$a.isEmpty()&&Tzh(this.$a)<=this.Lj().rc();)e=this.$a.remove(),Wzh(this,e.view,e.position,e.index);else e=new Xzh(e,d,c),Szh(this.$a,c,e)}else this.R[c]=a;b=Osh(S6(b),!a.OW());a.Zj()||T6(b,this.jF());d&&a.xA()&&zd(a.Zz())&&(d=g7(this.getContext()),d.tf("docos-before-highlight-doco").wb(U6(b)),D7(this.V,
a.getId()),d.tf("docos-highlight-doco").wb(U6(b)));(d=this.M$())&&d.C==a.getId()&&(Osh(b,d.D),Vo(u(this.QOa,this,U6(b),a),0))}};function Wzh(a,b,c,d){var e=La();a.Lj().vf(b,d,!0);a.Bfa(c.x,c.y,b,!1);b=La()-e;(a=L7(a).J["doco-rendered"])&&a(new Rsh("doco-rendered",b))}m.yR=function(a){var b=this.Lj().Dc(a);a==this.kq()&&(this.H=null);if(b){var c=this.V.ud(a);c&&c.isResolved()&&b.Ro()&&L7(this).Vc?Yzh(this,a,b):(this.Lj().removeChild(b,!0),Hf(b));this.MI(this.C)}};
function Yzh(a,b,c){function d(){q||(q=!0,Hf(c),no(e),Ow(h,"docos-resolve-highlight"),Vo(function(){Qw(h,"docos-resolve-highlight")},600))}var e=c.getElement(),f=Lv(e),h=L7(a).Vc,k=Tv(h),l=Tv(e),n=Lv(h);n.x+=(k.width-l.width)/2;a.Lj().removeChild(c);Ow(e,"docos-readonly");c.vd();e.style.zIndex=502;e.style.position="fixed";document.body.appendChild(e);var q=!1;kf?Zzh(a,e,f,n,d,b):$zh(a,e,c.getId(),f,n,d)}
function $zh(a,b,c,d,e,f){Ush(a.J,c);b.style.left=d.x+"px";b.style.top=d.y+"px";Vo(function(){Gn(b,Tza,f);Vo(f,570);Ow(b,"docos-resolve-animation");b.style.left=e.x+"px";b.style.top=e.y+"px"},0)}function Zzh(a,b,c,d,e,f){var h=new HA(b,[c.x,c.y],[d.x,d.y],270),k=new Mcb(b,270);k.play();Tsh(a.J,f,h,270,function(){Hf(h);Hf(k);e()})}
function aAh(a){var b=[];a.Lj().Me(function(c){var d=c.ud();null!=d&&null!=s7(d)?(d=w7(this.V,c.ud().getId()),this.Doa(d,!0)||this.R[d]||(this.R[d]=c.ud(),b.push(c.getId()))):b.push(c.getId())},a);0<b.length&&a.dispatchEvent(new Qzh("rv",b))}m.E9=function(a){for(var b=Wd(this.C),c=0;c<a.length;c++)a[c]in b&&delete b[a[c]];this.MI(b)};m.nU=function(a){var b=Wd(this.C),c;for(c in a)b[c]=a[c];this.MI(b)};m.Doa=function(a){return this.C[a]||null};
m.G9=function(a){a=bAh(this,a);return a?(a=a?a.getElement():null)?new Zl(a.offsetLeft,a.offsetTop):null:null};m.getDocoMaxHeight=function(a){return(a=bAh(this,a))?a.getDocoMaxHeight():null};m.Yma=function(a,b){(a=bAh(this,a))&&a.XR(b)};function bAh(a,b){return(b=z7(a.V,b))?a.Lj().Dc(b.getId()):null}m.Ja=function(){Vzh.Ta.Ja.call(this);var a=this.J,b;for(b in a.C)a.C[b].stop();a.C={};a.D={}};function Xzh(a,b,c){this.zj=a.getId();this.view=a;this.position=b;this.index=c};function cAh(a,b){Vzh.call(this,a,b)}v(cAh,Vzh);m=cAh.prototype;m.V1=ea(!1);m.XT=ea(0);m.gZ=ta;m.OI=function(){aAh(this)};m.vy=function(){cAh.Ta.vy.call(this);this.Lj().Me(function(a){var b=a.ud();b&&null!=s7(b)&&(b=w7(e7(this.getContext()),b.getId()),b=this.C[b],null!=b&&this.Bfa(b.x,b.y,a,!1))},this)};m.MI=function(a){this.C=a;aAh(this);for(var b in this.C)(a=this.R[b])&&this.wT(a);this.vy()};m.Bfa=function(a,b,c){(c=c.getElement())&&E5a(c,a,b,$6(this.getContext()).Oi)};function M7(a,b,c,d,e,f){this.L=a;this.F=b;this.D=c;this.H=d;this.C=e;this.J=f&&!zd(f)?f:null}pa("docos.api.Assignee",M7,void 0);M7.prototype.getToken=g("L");M7.prototype.getToken=M7.prototype.getToken;M7.prototype.getEmail=g("F");M7.prototype.getEmail=M7.prototype.getEmail;M7.prototype.getAffinity=g("D");M7.prototype.getAffinity=M7.prototype.getAffinity;M7.prototype.getMatchingMethod=g("H");M7.prototype.getMatchingMethod=M7.prototype.getMatchingMethod;M7.prototype.O=g("C");
M7.prototype.isMatchedOnEmailUserName=M7.prototype.O;M7.prototype.getName=g("J");M7.prototype.getName=M7.prototype.getName;function dAh(a,b,c){this.C=a;this.L=b;this.D=!1;this.F=c.toLowerCase();a=c.split("@");this.J=2==a.length?a[0]:"";this.H=2==a.length?a[1]:""}function eAh(a,b,c,d){return new M7(a.C,b,d,a.L,a.D,c)}function fAh(a,b){return a.C.toLowerCase().replace(gAh,"")==b?a.D=!0:!1}dAh.prototype.O=function(a,b){var c=[];b||a.resolve(c);for(var d=0;d<b.length;d++){var e=b[d];if(e&&hAh(this,e)){var f=af(e.getEmail());zd(f)||c.push(eAh(this,f,e.getName(),0))}}a.resolve(c)};
function hAh(a,b){if(b.getEmail())var c=af(b.getEmail()).toLowerCase();else return!1;b=b.getName();var d=c.split("@"),e=d[0],f=d[1];if(!(d=2!=d.length||f!=a.H||0<=e.indexOf("-")||exh.contains(e.trim().toLowerCase()))&&(d=b)){a:{d=b.trim().toLowerCase().split(/\s/);for(f=0;f<d.length;f++)if(Zc(dxh,d[f].trim().toLowerCase())){d=!0;break a}d=!1}d=d||b.toLowerCase()==e}if(d)return!1;d=a.C.toLowerCase().split(/\s/);f=b?b.toLowerCase().split(/\s/):[];for(var h=0;h<d.length;h++)if((d[h]==c||b&&Zc(f,d[h]))&&
1<d[h].length)return!0;return fAh(a,e)}function iAh(a,b){for(var c=[],d=0;d<a.length;d++)c.push(new dAh(a[d],"full-query",b));return c}function jAh(a,b){for(var c=[],d=0;d<a.length;d++)jd(c,kAh(a[d],b));return c}function kAh(a,b){return nxh(lxh,a).map(function(c){return new dAh(c,"email",b)})}var gAh=/^[@+]|[@+]$/g;function lAh(a){this.C=a}pa("docos.api.AssigneeThenable",lAh,void 0);lAh.prototype.get=g("C");lAh.prototype.get=lAh.prototype.get;function mAh(a,b,c,d){this.C=a;this.D=b.getEmail();this.L=c;this.F=new nl;this.J=d}function nAh(a,b){var c=Qo();a.C.C?oAh(a,b,c):Wwh(a.C).then(u(function(d,e,f){f?oAh(this,d,e):e.reject()},a,b,c));return new lAh(c.C)}function oAh(a,b,c){var d=Ka(jAh,b,a.D);b=u(a.H,a,Ka(iAh,b,a.D),c,function(){return c.resolve(null)});a.H(d,c,b)}
mAh.prototype.H=function(a,b,c){a=a();for(var d=[],e=0;e<a.length;e++){var f=a[e];var h=this.C,k=Qo();zd(f.C)?k.resolve([]):fAh(f,f.J)||f.C.toLowerCase()==f.F?k.resolve([eAh(f,f.F,null,Number.MAX_VALUE)]):h.Pn(f.C,5,u(f.O,f,k));f=k.C;jd(d,f)}pAh(this,d,b,c)};function pAh(a,b,c,d){Po(b).then(u(function(e){for(var f=[],h=0;h<e.length;h++){var k=e[h];k.QO&&k.value&&jd(f,k.value)}$c(f)?d():qAh(this,f,c)},a))}
function qAh(a,b,c){if(a.J&&"full-query"==b[0].getMatchingMethod()){for(var d=[],e=[],f=0;f<b.length;f++){var h=b[f];h.C?e.push(h):d.push(h.getEmail())}$c(e)?(rAh(a,d),a.J(d).then(function(k){return sAh(a,b,c,k)})):tAh(a,e,c)}else tAh(a,b,c)}function tAh(a,b,c){b.sort(Ka(uAh,a.D));c.resolve(b[0])}function rAh(a,b){var c=a.F;pva(b,c.contains,c)||(ol(a.F,b),kvh(a.L,Quh(Nuh(43026))))}
function sAh(a,b,c,d){for(var e=[],f={xZ:0};f.xZ<d.length;f={xZ:f.xZ},f.xZ++){var h=Wc(b,function(k){return function(l){return l.getEmail()==d[k.xZ]}}(f));h&&e.push(h)}$c(e)?c.resolve(null):tAh(a,e,c)}function uAh(a,b,c){var d=b.getEmail()==a;a=c.getEmail()==a;var e="full-query"==b.getMatchingMethod(),f="full-query"==c.getMatchingMethod();return(d||a)&&e&&f?d?-1:1:c.getAffinity()-b.getAffinity()};function vAh(a){this.g8a=a;return this}t(vAh,k5);vAh.prototype.getCancelAnchorId=g("g8a");vAh.prototype.getCancelAnchorId=vAh.prototype.getCancelAnchorId;function wAh(a,b,c,d,e,f){a=V6.call(this,a,b,c,d,e,f||new k5)||this;a.C=!1;return a}t(wAh,V6);wAh.prototype.canPreventDefault=ea(!0);wAh.prototype.preventDefault=function(){this.C=!0};function xAh(a){return W6.call(this,a)||this}t(xAh,W6);xAh.prototype.build=function(){return new wAh(this.type,this.C,this.D,this.F,this.H,this.args?this.args:new k5)};function yAh(){this.D=!1}yAh.prototype.cancel=function(){this.C&&this.C.cancel();this.D=!0};yAh.prototype.Yj=function(){return!this.D&&(null==this.C||this.C.Yj())};function zAh(a,b,c){this.J=a;this.D=b;this.F=null;this.C=!1;this.H=Qo();this.L=c}v(zAh,A);function Wwh(a){if(!YJe())return Mo(!1);if(a.C)return Mo(!0);if(!a.F){var b=Wd(A$e);b.D=!0;b.L=3;b.xa=!0;b.F=0;a.F=a.D.Pn(b,u(function(c,d,e,f,h){this.C=!h&&0<c.length;this.H.resolve(this.C);if(this.C&&(h=c.length,c=this.J.R)){var k=new E$d;h=M(k,1,h);h=Krh(h);c.ao("dacpc",La()-this.L,h.serialize())}},a))}return a.H.C}
zAh.prototype.Pn=function(a,b,c,d){var e=this;if(!YJe())return new v$e;var f=null!=d,h={token:a,C:b,H:!0,D:!0,R:f?1:0,J:f,filter:d};if(Re(a)&&this.F&&this.F.Yj()){var k=new yAh,l=La();this.H.C.then(function(){var n=e.J.R;if(k.Yj()){var q=e.D.Pn(h,c);n&&n.ao("dcrdtdr",La()-l);k.D||(k.C=q)}else n&&n.ao("dcrdc",La()-l)});return k}return this.D.Pn(h,c)};zAh.prototype.Ja=function(){delete this.D};function AAh(a){this.C=a}v(AAh,k5);pa("docos.api.OriginatingDocoTypeArgs",AAh,void 0);AAh.prototype.getOriginatingDocoTypeArgs=g("C");AAh.prototype.getOriginatingDocoTypeArgs=AAh.prototype.getOriginatingDocoTypeArgs;function N7(a,b,c){this.C=c;this.Lq=a;this.D=b}v(N7,AAh);pa("docos.api.ConvertDocoArgs",N7,void 0);N7.prototype.getAnchorId=g("Lq");N7.prototype.getAnchorId=N7.prototype.getAnchorId;N7.prototype.getNewDocoArgs=g("D");N7.prototype.getNewDocoArgs=N7.prototype.getNewDocoArgs;function O7(a,b,c){this.D=a;this.$c=void 0!==b?b:null;this.C=void 0==c?-1:c}v(O7,k5);O7.prototype.isInstantDoco=g("D");O7.prototype.getPosition=g("$c");O7.prototype.getInstantDocoSpacerIndex=g("C");O7.prototype.isInstantDoco=O7.prototype.isInstantDoco;O7.prototype.getInstantDocoSpacerIndex=O7.prototype.getInstantDocoSpacerIndex;function BAh(a){this.F=a}BAh.prototype.C=function(a,b){return b?(a=this.F.ud(b.zj))?c7(a)?["Action item deleted"]:["Comment deleted"]:[]:[]};BAh.prototype.D=ea(0);function CAh(a,b){this.$c=a;this.Lq=b;return this}t(CAh,k5);CAh.prototype.getPosition=g("$c");CAh.prototype.getAnchorId=g("Lq");CAh.prototype.getPosition=CAh.prototype.getPosition;CAh.prototype.getAnchorId=CAh.prototype.getAnchorId;function DAh(a){A.call(this);this.C=a}t(DAh,A);function kvh(a,b){var c=$6(a.C).Za;if(c){var d=new vj,e=b.C;null!=b.L?M(d,1,2):null!=e?M(d,1,3):M(d,1,1);EAh(a,d,b.D);b.J&&(a=hyh(e7(a.C)).C.clone(),bj(d,10,a));a=new kuh;b.Lq&&M(a,1,b.Lq);c(b.H,b.F||void 0,d,a)}}
function x7(a,b){var c=$6(a.C).Za;if(c){var d=b.ud();var e=new vj;var f=d.Msa();e=M(e,2,f);null!=d.Wy()&&(f=Dth(d.Wy()).length,M(e,8,f));null!=b.Ax&&(f=b.Ax.Msa(),M(e,3,f));if(null!=b.C){var h=b.C;switch(h.getOriginatingDocoType()){case "discussion":M(e,4,1);break;case "draft":M(e,4,2);break;case "instant-doco":M(e,4,3);break;case "smart-todo":M(e,4,4);f=new N6d;var k=new J6d;var l=!h.isTodo();k=M(k,1,l);h=h.isWrongAssignee();h=M(k,2,h);bj(f,2,h);bj(e,5,f);break;case "suggestion":M(e,4,5);break;default:M(e,
4,0)}}null!=b.D&&M(e,7,b.D);null!=$6(a.C).Pa&&(f=$6(a.C).Pa,bj(e,12,f));null!=$6(a.C).L&&(f=$6(a.C).L==d.getId(),M(e,13,f));f=d.zG();h=c7(d);null!=f?M(e,1,2):null!=h?M(e,1,3):M(e,1,1);EAh(a,e,d.getId());b.L&&(a=hyh(e7(a.C)).C.clone(),bj(e,10,a));a=new kuh;d=s7(b.ud());a=M(a,1,d);c(b.J,b.H||void 0,e,a)}}function EAh(a,b,c){a=e7(a.C).O;null!=c&&b.xg(null!=a&&c==a.getId())}DAh.prototype.Ja=function(){A.prototype.Ja.call(this)};function FAh(){}FAh.prototype.C=function(){return["Comment changed"]};FAh.prototype.D=ea(0);function GAh(a,b,c){b=ja(b);for(var d=b.next();!d.done;d=b.next())d=d.value,d.flags&c&&(d.$o&&a.addDocoHandle(d.$o),d.Dm&&a.addAnchorId(d.Dm));return a};function HAh(a,b){this.C=a;this.D=b}v(HAh,AAh);pa("docos.api.FeedbackArgs",HAh,void 0);HAh.prototype.getFeedback=g("D");HAh.prototype.getFeedback=HAh.prototype.getFeedback;function IAh(a){this.C=a}v(IAh,k5);pa("docos.api.HighlightDocoArgs",IAh,void 0);IAh.prototype.isOriginInStreamOrGutter=g("C");IAh.prototype.isOriginInStreamOrGutter=IAh.prototype.isOriginInStreamOrGutter;function JAh(a){var b=a.xJb,c=a.jc,d=a.iKb;a=a.yJb;return S('<div id="docs-instant-button-bubble" class="'+T("docs-material")+" "+(c?T("docs-instant-button-bubble-transformation-rtl"):T("docs-instant-button-bubble-transformation-ltr"))+(d?" "+T(d):"")+'" role="button" tabindex="-1"><div class="'+T("docs-instant-button-bubble-icon-container")+(a?" "+T(a):"")+'"><span class="'+T("docs-instant-button-bubble-icon")+(b?" "+T(b):"")+'"></span></div></div>')};function KAh(a,b,c,d){c=void 0===c?[]:c;d=void 0===d?[]:d;var e=Xx(Wx,0<c.length?c[0]:"docs-instant-button");Zx.call(this,void 0,e,b);this.R=a;this.J=c;this.L=d;this.F=!1;this.H=0;this.O=-1;this.D=this.C=null;dy(this,2,!0)}t(KAh,Zx);m=KAh.prototype;m.Ba=function(){var a=this.qa(),b={jc:!1};b.xJb=this.R.join(" ");$c(this.J)||(b.iKb=this.J.join(" "));$c(this.L)||(b.yJb=this.L.join(" "));this.ib(Kx(JAh,b,void 0,a))};
function LAh(a,b,c,d,e){var f=void 0;c=void 0===c?0:c;d=void 0===d?-1:d;f=void 0===f?1:f;if(a.Gb()){var h=0>=c;a.isVisible()||h?(MAh(a),NAh(a,b,d,f),e&&e()):(a.D=new OAh(b,d,f,e),b=!a.C,h||b||MAh(a),a.C||(a.C=Vo(function(){NAh(a,a.D.F,a.D.D,a.D.getOpacity());var k=a.D.Td;k&&k();a.D=null;a.C=null},c,a)))}}
m.nf=function(a){if(this.Gb()){if(void 0===a?0:a)Ev(this.getElement(),"top","0px"),Ow(this.getElement(),"docs-instant-quick-hide");this.isVisible()&&(Qw(this.getElement(),"docs-instant-button-visible"),Vv(this.La(),0),this.F=!1);MAh(this)}};m.ag=function(a){this.isVisible()&&(Zx.prototype.ag.call(this,a),a.stopPropagation())};m.hm=function(a){this.isVisible()&&(Zx.prototype.hm.call(this,a),a.stopPropagation())};m.TP=function(a){this.isVisible()&&a.stopPropagation()};
function NAh(a,b,c,d){a.O=c;a.getElement().style.top=b+"px";a.getElement().style.opacity=d;Qw(a.getElement(),"docs-instant-quick-hide");Ow(a.getElement(),"docs-instant-button-visible");a.H=b;a.F=!0}function MAh(a){a.C&&(Wo(a.C),a.C=null)}m.isVisible=function(){Nw(this.getElement(),"docs-instant-button-visible");return this.F};function OAh(a,b,c,d){this.F=a;this.D=b;this.C=c;this.Td=d}OAh.prototype.getOpacity=g("C");function PAh(a,b){Z6.call(this,a,b);this.D=null;this.F=a}t(PAh,Z6);PAh.prototype.Ba=function(){Z6.prototype.Ba.call(this);this.D=new KAh(["docos-icon-img","docos-icon-img-hdpi","docos-instant-icon-img","docos-icon-instant-docos-ltr","docos-instant-button-bubble-icon"],this.qa());this.D.render();this.Va(this.D.getElement())};
PAh.prototype.Ia=function(){Z6.prototype.Ia.call(this);$6(this.F).D.C(this.getElement(),"Add a comment");this.D.isVisible()||$6(this.F).D.D(this.getElement(),!0);this.D.Ia();a7(this,this.D,"action",this.H)};function QAh(a,b,c,d){Yy(a.D.getElement(),"docos");$6(a.F).D.D(a.getElement(),!1);var e=a.D.H;LAh(a.D,b,c,d,function(){e!=b&&$6(a.F).D.nf(a.getElement())})}PAh.prototype.nf=function(a){this.D.isVisible()&&$6(this.F).D.D(this.getElement(),!0);this.D.nf(a)};PAh.prototype.H=function(){this.nf();this.dispatchEvent("create-draft")};function RAh(a,b){A.call(this);this.D=a;this.F=$6(a);this.C=b;this.H=new wz(this);a=g7(this.D);this.H.Nb(a.Ra("docos-edit-reply"),rs,this.h2b).Nb(a.Ra("docos-delete-reply"),rs,this.R1b).Nb(a.Ra("docos-edit-doco"),rs,this.d2b).Nb(a.Ra("docos-edit-draft"),rs,this.g2b)}t(RAh,A);function SAh(a,b,c,d,e,f){return P7(a,u(a.eKb,a,b,c,d,e,void 0===f?!1:f))}m=RAh.prototype;m.eKb=function(a,b,c,d,e,f,h){if(TAh(h))return a=ivh(this.C,a,b,c,d,e),f.yj.callback(a),a;f.yj.callback(0);return 0};
m.gKb=function(a,b,c,d,e,f){if(TAh(f))return a=lvh(this.C,a,b,c,d),e.yj.callback(a),a;e.yj.callback(0);return 0};m.dKb=function(a,b,c,d,e,f){if(TAh(f))return a=mvh(this.C,a,b,c,d),e.yj.callback(a),a;e.yj.callback(0);return 0};function UAh(a,b){return P7(a,u(a.N6b,a,b))}m.g2b=function(a){var b=a.data;kp(P7(this,u(this.f2b,this,b.zj,b.text)),u(function(c){c&&b.nDa&&f7(d7(this.D),b.nDa);return c},this))};m.f2b=function(a,b,c,d){Q7(u(this.C.e2b,this.C,a,b),c,d)};
m.N6b=function(a,b,c){Q7(u(this.C.$$a,this.C,a),b,c)};function VAh(a,b,c,d,e,f,h){return P7(a,u(a.M5a,a,b,c,d,e,f,h))}
m.M5a=function(a,b,c,d,e,f,h,k){if(TAh(k)){k=this.C;var l,n;a&&(n=fyh(e7(k.C),a))&&"instant-doco"==n.rs&&(l=31);var q=Nuh(43009);null!=n&&Ouh(q,n.getId());null!=l&&(q.F=l);n&&n.xA()&&a!=b&&nvh(e7(k.C),n.getId());a=cf();l=La();n=cuh(Zth(l7(new k7(a)),l),k.F.ih());c&&m7(n,c,l);d&&(c=(new $rh).setType("text/plain").setValue(d),bj(n.C,9,c));e&&(Yth(n,e),q.J=e);f&&(buh(n,f),q.C=f);e=v7(u7(n),!0);M(e.C,3,l);b&&(Yuh(e,b),Puh(q,b));y7(e7(k.C),e);e7(k.C).flush();kvh(k.D,Quh(q));b=w7(e7(k.C),a);h.yj.callback(b);
return b}h.yj.callback(0);return 0};m.d2b=function(a){var b=a.data;kp(P7(this,u(this.hfb,this,b.id,b.text)),function(c){c||b.tna.dispatchEvent("c")})};m.hfb=function(a,b,c,d){Q7(u(this.C.gfb,this.C,a,b),c,d)};m.R1b=function(a){a=a.data;kp(P7(this,u(this.Q1b,this,a.zj,a.Axa)),ba())};m.Q1b=function(a,b,c,d){Q7(u(this.C.l$a,this.C,a,b),c,d)};m.h2b=function(a){var b=a.data;kp(P7(this,u(this.jfb,this,b.zj,b.Axa,b.text)),function(c){c||b.tna.dispatchEvent("c")})};
m.jfb=function(a,b,c,d,e){Q7(u(this.C.ifb,this.C,a,b,c),d,e)};m.N5a=function(a,b,c,d,e,f){Q7(u(this.C.W$a,this.C,a,b,c,d),e,f)};m.scc=function(a,b,c,d){Q7(u(this.C.bab,this.C,a,b),c,d)};m.tcc=function(a,b,c,d,e){Q7(u(this.C.cab,this.C,a,b,c),d,e)};m.u7b=function(a,b,c,d,e){Q7(u(this.C.aab,this.C,a,b,c),d,e)};function Q7(a,b,c){TAh(c)?(a(),b.yj.callback(!0)):b.yj.callback(!1)}m.h$a=function(a,b,c,d){Q7(u(this.C.X$a,this.C,a,b),c,d)};
m.Abc=function(a,b,c){if(TAh(c))return a=ovh(this.C,a),b.yj.callback(a),a;b.yj.callback(0);return 0};m.d9b=function(a,b,c,d){Q7(u(this.C.LFa,this.C,a,b),c,d)};m.k$a=function(a,b,c){Q7(u(this.C.Z$a,this.C,a),b,c)};m.j$a=function(a,b,c){Q7(u(this.C.Y$a,this.C,a),b,c)};function WAh(a,b,c,d){return P7(a,u(a.t5a,a,b,c,d))}m.t5a=function(a,b,c,d,e){if(TAh(e))return a=tvh(this.C,a,b,c),d.yj.callback(a),a;d.yj.callback(0);return 0};
m.oCa=function(a,b,c,d){if(TAh(d))return a=xvh(this.C,a,b),c.yj.callback(a),a;a=[];c.yj.callback(a);return a};function P7(a,b){var c=new ip,d={yj:c};(a=a.F.ge)?a(d,b):b(d,"edit-not-intercepted");return c}function TAh(a){return"warning-accepted"==a||"edit-not-intercepted"==a?!0:!1};function XAh(a,b){A.call(this);this.C=[];this.F=new xsh(a);this.D=ysh(this.F,"user");this.J=ysh(this.F,"control");this.Dd=new Uo(b||50);this.Dd.start();Fn(this.Dd,"tick",this.eYa,!1,this);this.J.sf("setPeerReady_",u(this.h9b,this))}v(XAh,A);m=XAh.prototype;m.connect=function(a){a&&a()};m.isConnected=ea(!0);m.eYa=function(){try{this.J.send("setPeerReady_",this.H?"1":"")}catch(a){throw this.Dd.stop(),a;}};m.sf=function(a,b,c){this.D.sf(a,b,c)};m.LL=function(a){this.D.LL(a)};
m.send=function(a,b){this.H?this.D.send(a,b):this.C.push({HY:a,Rl:b})};m.h9b=function(a){a?this.Dd.stop():this.Dd.start();if(!this.H){this.H=!0;this.eYa();for(a=0;a<this.C.length;a++){var b=this.C[a];this.D.send(b.HY,b.Rl)}this.C=null}};m.Ja=function(){Hf(this.F);Hf(this.Dd);XAh.Ta.Ja.call(this)};function YAh(a){Mn.call(this);this.C=a;this.Ma=new Nn(this);this.va(this.Ma);this.Ma.listen(this.C,"u",this.D);this.C.Sd(this)}v(YAh,yvh);YAh.prototype.D=function(a){var b=ouh(a.Rl.p,"u");b&&(b.unshift("u"),this.dispatchEvent(new zvh("u",new rsh(b))));a.stopPropagation()};function Bvh(a,b,c,d,e,f,h,k){var l;d&&(l=function(n){0<n.length&&ya(n[0])&&d(n[0])});a.C.NFa(b,c?c.Mf():void 0,l,e,f,h,k)};function ZAh(a,b,c){MJe.call(this);c&&(this.D=c.F.C(this.D));this.C=a;this.va(this.C);this.C.LL(u(this.D,this));this.F=b}v(ZAh,MJe);ZAh.prototype.send=function(a,b){Ba(b)&&(b=Ul(b));this.C.send(a,{t:this.F,p:b})};ZAh.prototype.D=function(a,b){NJe(this,a,b)};ZAh.prototype.n9=function(a,b,c){b=ZAh.Ta.n9.call(this,a,b,!0);if(!b)return null;var d=b.t;return d&&d==this.F?ZAh.Ta.n9.call(this,a,b.p,c):null};function $Ah(){Mn.call(this)}v($Ah,Mn);function aBh(a,b,c,d,e,f,h){c=void 0===c?[]:c;Mn.call(this);var k=this;this.C=null;this.H=a;this.R=c;this.L=e;this.J=new qn;this.va(this.J);rn(this.J,this.H.getStatus().C,function(l){l.D.Wj()&&Mk(l.C)?k.dispatchEvent(new zvh("r")):Nk(l.C)&&k.dispatchEvent(new zvh("e"))});this.F=function(l){l&&k.dispatchEvent(new zvh("u",l))};d&&(this.C=d,this.C.subscribe("9",this.F));this.D=f;this.O=h;this.ma=0;this.V=b}t(aBh,$Ah);
aBh.prototype.MFa=function(a){if(!this.D||!this.O)throw Error("Cannot create browser channel without Docos config and session ID.");if(this.D.A9)throw Error("Cannot control BrowserChannel if it is enabled in KeyData");this.C&&(this.C.unsubscribe("9",this.F),this.C.dispose(),this.C=null);if(a){a=new gIa;var b=this.D.ih().getId();a.R=b;tHa(a,this.D.B9,this.O,this.D.Vma);this.C=a;this.C.subscribe("9",this.F)}};
aBh.prototype.NFa=function(a,b,c,d,e,f,h){b=b?["p",Ul(b)]:[];bBh(this,b,"/docos/p/"+a,c,d,e,f,h)};function bBh(a,b,c,d,e,f,h,k){var l=["reqid",a.ma++];b=b?Jva(b):void 0;c=Xp(a.H.jf(c),a.R.concat(l));0<b.length&&c.setContent(b);a.V&&c.fq();h?Pk(c,h):Pk(c,3);d&&Rk(c,function(n){d(n.Pe())});e&&Qk(c,e,f);k&&Zp(c,k);null!=a.L&&(c.Qa=a.L);c.bf()}aBh.prototype.Ja=function(){this.C&&(this.C.unsubscribe("9",this.F),this.C.dispose());$Ah.prototype.Ja.call(this)};function cBh(a,b,c){this.seq=dBh++;this.type=a;this.payload=b||null;this.rseq=0;this.httpMethodHeader=c||null}var dBh=1;function eBh(a){Mn.call(this);this.C=a;this.C.sf("recv",u(this.Q3b,this),!0);this.C.sf("recvEvt",u(this.P3b,this),!0);this.D={}}v(eBh,$Ah);m=eBh.prototype;m.Q3b=function(a){var b=this.D[a.rseq];b&&(b(a.payload),delete this.D[a.rseq])};m.P3b=function(a){this.dispatchEvent(new zvh(a.type,a.payload))};m.MFa=function(a){this.C.send("connectBrowserChannel",a.toString())};m.NFa=function(a,b,c,d,e,f,h){a=new cBh(a,b,h);c&&(this.D[a.seq]=c);this.C.send("send",a)};m.Ja=function(){eBh.Ta.Ja.call(this);delete this.C};function fBh(a){A.call(this);this.F=a;this.D=this.C=null}t(fBh,A);
function gBh(a){if(a.C)return a.C;var b=$6(a.F),c=b.Uma;if(void 0!==c)return c&&(a.C=new YAh(c),a.va(a.C)),a.C;if(b.IFa){var d=$bd();c=new fHa(new a0b,void 0,void 0,void 0,new UEa,void 0,void 0,TGa(PGa(d)));var e=b.Vma;e&&c.I4(e);var f=b.KFa;f&&oHa(c,f);b.HHa&&$Ea(c.D,"anon","true");(f=b.JPa)&&$Ea(c.D,"invite",f);f=null;if(b.A9){f=new gIa;var h=b.ih().getId();f.R=h;bFa(c.H,f);tHa(f,b.B9,d,e)}b=new aBh(c,!0,["id",b.B9],f,null!=b.D0?b.D0:6E4,b,d);b.va(c);a.C=new YAh(b);a.va(a.C);a.va(b);return a.C}b=
b.eWa;if(!b)throw Error("Peer missing.");c={};d=new Gl(window.location.href);(e=Ql(d,"docos-tp"))&&(c.tp=parseInt(e,10));"/"==b.charAt(0)&&(b=d.resolve(new Gl(b)).toString());d=$bd();b=(new Gl(b)).yc("ctoken",d).toString();c.pu=b;a.D=ho("div");a.D.style.display="none";document.body.appendChild(a.D);b=new qX(c);ZMe(b,a.D);b.connect();b=new XAh(b);c=cth(a.F);b=new ZAh(b,d,c);c=new eBh(b);a.C=new YAh(c);a.va(a.C);a.va(c);a.va(b);return a.C}
fBh.prototype.Ja=function(){delete this.C;this.D&&(document.body.removeChild(this.D),this.D=null);A.prototype.Ja.call(this)};function hBh(a,b){this.C=a;this.F=b}hBh.prototype[Lqa]=!0;function R7(a,b,c){var d=La();b();b=La()-d;a.F.ao(c,b)}m=hBh.prototype;m.ana=function(a,b,c){a=u(this.C.ana,this.C,a,b,c);R7(this,a,"dvmhd")};m.highlightNext=function(a,b,c){a=u(this.C.highlightNext,this.C,a,b,c);R7(this,a,"dvmhn")};m.highlightPrevious=function(a,b,c){a=u(this.C.highlightPrevious,this.C,a,b,c);R7(this,a,"dvmhp")};m.OI=function(){var a=u(this.C.OI,this.C);R7(this,a,"dvmla")};
m.vy=function(){var a=u(this.C.vy,this.C);R7(this,a,"dvmfl")};m.wT=function(a){a=u(this.C.wT,this.C,a);R7(this,a,"dvmadv")};m.gZ=function(a){a=u(this.C.gZ,this.C,a);R7(this,a,"dvmudv")};m.yR=function(a){a=u(this.C.yR,this.C,a);R7(this,a,"dvmrdv")};m.Lj=function(){return this.C.Lj()};m.dya=function(a){this.C.dya(a)};m.VO=function(){return this.C.VO()};m.kq=function(){return this.C.kq()};m.TU=function(){return this.C.TU()};m.UU=function(){return this.C.UU()};m.qa=function(){return this.C.qa()};
m.jF=function(){return this.C.jF()};m.M$=function(){return this.C.M$()};m.Cha=function(a,b){return this.C.Cha(a,b)};m.Rfa=function(){this.C.Rfa()};m.Pfa=function(){this.C.Pfa()};m.XT=function(a,b){return this.C.XT(a,b)};m.qI=function(a,b){this.C.qI(a,b)};m.$ma=function(){return this.C.$ma()};m.XI=function(a){this.C.XI(a)};m.G9=function(a){return this.C.G9(a)};m.E0=function(){return this.C.E0()};m.F0=function(a){this.C.F0(a)};m.dispose=function(){this.C.dispose()};m.isDisposed=function(){return this.C.isDisposed()};
m.listen=function(a,b,c,d){return this.C.listen(a,b,c,d)};m.Pc=function(a,b,c,d){return this.C.Pc(a,b,c,d)};m.Gc=function(a,b,c,d){return this.C.Gc(a,b,c,d)};m.sS=function(a){return this.C.sS(a)};m.dispatchEvent=function(a){return this.C.dispatchEvent(a)};m.rB=function(a){return this.C.rB(a)};m.Jo=function(){return this.C.Jo()};m.KO=function(a,b,c){return this.C.KO(a,b,c)};m.yJ=function(a,b){return this.C.yJ(a,b)};m.uC=function(a,b,c,d){return this.C.uC(a,b,c,d)};
m.hasListener=function(a,b){return this.C.hasListener(a,b)};m.oU=function(){return this.C.oU()||this.C};m.Zma=function(a){this.oU().Zma(a)};m.equals=function(a){return this===a};m.cya=function(a){this.oU().cya(a)};function iBh(a,b){hBh.call(this,a,b);this.D=a}t(iBh,hBh);m=iBh.prototype;m.E9=function(a){a=u(this.D.E9,this.D,a);R7(this,a,"davmddp")};m.nU=function(a){a=u(this.D.nU,this.D,a);R7(this,a,"davmudp")};m.MI=function(a){a=u(this.D.MI,this.D,a);R7(this,a,"davmfdp")};m.getDocoMaxHeight=function(a){return this.D.getDocoMaxHeight(a)};m.Yma=function(a,b){this.D.Yma(a,b)};function jBh(a,b,c){Mn.call(this);this.C=a;this.xa=b;this.V=c||null;this.Ma=new Nn(this);this.va(this.Ma);this.J=a.get("netIo");this.O=!0;this.F="not-in-progress";this.H=!1;this.L=this.D=this.R=null;this.ma=new wz(this);this.va(this.ma);this.Ma.listen(this.J,"r",this.O3b).listen(this.J,"u",this.J4b).listen(this.J,"e",this.iNb);this.Ma.listen(e7(a),["dd"],this.hNb).listen(e7(a),"bu",this.gNb)}t(jBh,Mn);
function kBh(a,b){switch(a.F){case "in-progress":return a.D;case "blocked":return lBh(a,b),a.D;case "not-in-progress":return a.D||(a.D=new ip),a.F="in-progress",lBh(a,b),a.D;default:throw Error("Invalid status: "+a.F);}}function lBh(a,b){a.H?a.F="blocked":(a.F="in-progress",a.tRa(b))}function mBh(a,b,c){c=void 0===c?null:c;var d=a.D;a.D=null;a.F="not-in-progress";b?d.Ld(null):d.callback(c)}m=jBh.prototype;
m.tRa=function(a){for(var b=e7(this.C),c=iyh(b),d=[],e=0;e<c.length;e++){d.push(jj(c[e].F));var f=c[e].getId();fd(b.H,f)}b=new Fsh;d=dj(b,1,d);this.L&&M(d,2,this.L);$6(this.C).Cb&&(b=$6(this.C).Cb,M(d,5,b));Bvh(this.J,"sync",d,u(this.M2b,this),u(this.L2b,this),!1,a?a:void 0)};m.L2b=function(){this.O=!1;mBh(this,!0)};m.iNb=function(){this.dispatchEvent("net-error")};
m.M2b=function(a){a=new osh(a);var b=this.O;this.O=!1;var c=La();if(b){var d=S7(this.xa,"model-loaded");if(d){var e=(new W6("model-loaded")).build();d(e)}}d=e7(this.C);try{if(nBh(this,a,b),this.L=K(a,2),jyh(d))Vo(u(this.tRa,this));else{var f=La()-c;mBh(this,!1,b?f:void 0);this.V&&this.V.ao("dscat",f)}}catch(h){throw Vo(function(){throw h;}),h;}};
function nBh(a,b,c){var d=e7(a.C),e=gyh(d),f=aj(b,Q6,1);b=0<f.length;var h=e7(a.C),k=[];f=ja(f);for(var l=f.next();!l.done;l=f.next()){l=jj(l.value);var n=P6(l),q=cyh(h,n.getId(),K(n,11));n=!0;if(q)a:{var r=a,w=e7(r.C);n=P6(l);delete e[q.getId()];var x=q.getId();if(Zc(w.H,x))n=!1;else{x=q.getId();if(x=Zc(w.Ha,x)){if(j7(q.C)){oBh(r,q);n=!1;break a}r=q.getId();fd(w.Ha,r)}M(l,9,!1);M(n,12,!1);void 0===K(n,13)&&M(n,13,0);q=Wd(q.D);w=ja(O6(n));for(r=w.next();!r.done;r=w.next())r=r.value,M(r,12,!1),void 0===
K(r,13)&&M(r,13,0),delete q[r.getId()||""],delete q[K(r,11)||""];w=[];r=ja(Object.keys(q));for(x=r.next();!x.done;x=r.next())w.push(pBh(jj(q[x.value].C)));q=O6(n);dj(n,8,hd(q,w));n=!0}}n&&k.push(new t7(l))}svh(h,k,"n");h=ja(iyh(d));for(k=h.next();!k.done;k=h.next())k=k.value,j7(k.C)&&void 0===k.C.C.getId()&&oBh(a,k);if(c)for(a=ja(Object.keys(e)),h=a.next();!h.done;h=a.next())h=e[h.value],Wuh(h)||void 0===h.C.C.getId()&&!j7(h.C)||(b=!0,h=jj(h.F),P6(h),k=P6(h),dj(k,8,[]),f=La(),M(k,13,f),M(k,12,!1),
M(h,9,!1),y7(d,new t7(h),"n"));b&&d.flush(c)}function oBh(a,b){a=e7(a.C);var c=jj(b.F),d=P6(c);M(c,9,!1);M(d,12,!1);b=b.getId();fd(a.H,b);y7(a,new t7(c),"n")}function pBh(a){var b=La();M(a,13,b);M(a,12,!1);return a}m.O3b=function(){var a=12E4*Math.random();null!==this.R&&Wo(this.R);this.R=Vo(function(){kBh(this,$6(this.C).Oca?1:void 0)},a,this)};
m.J4b=function(a){if(a.Rl){var b=a.Rl;a=e7(this.C);var c=0;b=aj(b,Q6,1);b=ja(b);for(var d=b.next();!d.done;d=b.next()){d=jj(d.value);var e=P6(d);e=cyh(a,e.getId(),K(e,11));e&&e.nQ()||(y7(a,new t7(d),"n"),c++)}0<c&&e7(this.C).flush()}};m.hNb=function(a){"n"!=a.O&&byh(e7(this.C))&&kBh(this)};m.gNb=function(a){"n"!=a.source&&byh(e7(this.C))&&kBh(this)};m.Ja=function(){Mn.prototype.Ja.call(this);delete this.C;delete this.Ma;delete this.ma};function qBh(a,b,c){A.call(this);this.H=a;this.C=b;this.F=c;this.Ma=new Nn(this);this.va(this.Ma);this.D=null;this.O=!1;this.J=null}t(qBh,A);function rBh(a){if(!Nrh(a.H,"netIo"))return!1;a.D=new jBh(a.H,a.F,a.C.R||void 0);a.va(a.D);a.Ma.listen(a.D,"net-error",a.R);return!0}qBh.prototype.R=function(){sBh(this.F,"fe")};function tBh(a){a.O=!0;a.J=La();mp(kp(kBh(a.D,a.C.Ty?1:void 0),a.L,a),a.V,a)}function uBh(a){if(suh(a.C)){var b=a.D.D;b?kp(b,function(){return vBh(a)}):vBh(a)}}
qBh.prototype.L=function(a){var b=this.C.R;b&&b.zya(hyh(e7(this.H)).C.clone().serialize());if(b=S7(this.F,"sync-success")){var c=(new W6("sync-success")).build();b(c)}(b=S7(this.F,"initial-anchored-render-done"))&&null!==a&&b(new Rsh("initial-anchored-render-done",a));(a=S7(this.F,"initial-sync-and-render-complete"))&&a(new Rsh("initial-sync-and-render-complete",La()-this.J));sBh(this.F,"s");sBh(this.F,"r")};
qBh.prototype.V=function(){var a=S7(this.F,"sync-error");if(a){var b=(new W6("sync-error")).build();a(b)}sBh(this.F,"e")};function vBh(a){a.D.L=null;kBh(a.D,a.C.Oca?1:void 0)};function wBh(){}wBh.prototype.C=function(a,b){return b?b.C_?["Action item created"]:["Comment created"]:[]};wBh.prototype.D=ea(0);function xBh(){}xBh.prototype.C=function(){return["Reply added"]};xBh.prototype.D=ea(0);function yBh(a){var b=a.d6a,c=a.EJb,d=a.I0b;a=S;var e='<div class="'+T("docos-notificationdialog-content")+'">',f='<div class="'+T("docos-notificationdialog-header")+'">';f=f+'Send notifications for:</div><div><input type="radio" name="docos-notificationdialog-notify" value="all" id="'+(T(b)+'" class="'+T("docos-notificationdialog-control")+'"/><label for="'+T(b)+'" class="'+T("docos-notificationdialog-label")+'">');f=f+'All comments</label></div><div><input type="radio" name="docos-notificationdialog-notify" value="important" id="'+
(T(c)+'" class="'+T("docos-notificationdialog-control")+'"/><label for="'+T(c)+'" class="'+T("docos-notificationdialog-label")+'">');f=f+'Only mentions and replies to my comments</label></div><div><input type="radio" name="docos-notificationdialog-notify" value="none" id="'+(T(d)+'" class="'+T("docos-notificationdialog-control")+'"/><label for="'+T(d)+'" class="'+T("docos-notificationdialog-label")+'">');b=S(f+"Nothing</label></div>");b=e+b;c='<a class="'+T("docos-notificationdialog-help")+'" href="https://support.google.com/docs?p=comments_guide" target="_blank">';
c=S(c+"Help</a>");return a(b+c+"</div>")};function zBh(a){hX.call(this);this.V=a;this.Ha=$6(a);this.C=[];this.ma=this.R=this.O=null;this.setTitle("Notification settings")}t(zBh,hX);m=zBh.prototype;
m.Ba=function(){hX.prototype.Ba.call(this);Ow(px(this),"docos");var a=Ja(px(this));this.O="docos-notificationdialog-all"+a;this.R="docos-notificationdialog-important"+a;this.ma="docos-notificationdialog-none"+a;Ix(this.Hb(),yBh,{d6a:this.O,EJb:this.R,I0b:this.ma});Gx(this,"ok");a=this.Ha.Wa;null!==a&&(Ev(this.rq(),"z-index",a),Ev(px(this),"z-index",a+1))};
m.Ia=function(){hX.prototype.Ia.call(this);var a=this.qa();this.F=a.getElement(this.O);this.F.value="all";this.H=a.getElement(this.R);this.H.value="important";this.L=a.getElement(this.ma);this.L.value="none";this.C=[this.F,this.H,this.L];this.xa=wx(this.D,"ok");Fn(this.F,"click",u(this.cAa,this));Fn(this.H,"click",u(this.cAa,this));Fn(this.L,"click",u(this.cAa,this))};
m.update=function(){this.xa.disabled=!0;ABh(Ovh(this.V)).then(function(a){for(var b=ja(this.C),c=b.next();!c.done;c=b.next())if(c=c.value,c.value==a){c.checked=!0;break}},void 0,this)};m.Jxa=function(){for(var a=null,b=0;b<this.C.length;b++)if(this.C[b].checked){a=this.C[b].value;break}BBh(Ovh(this.V),a)};m.cAa=function(){var a=this;ABh(Ovh(this.V)).then(function(b){for(var c=!0,d=ja(a.C),e=d.next();!e.done;e=d.next())if(e=e.value,e.value==b&&e.checked){c=!1;break}a.xa.disabled=!c},void 0,this)};
m.vd=function(){Ln(this.F);Ln(this.H);Ln(this.L)};m.Ja=function(){hX.prototype.Ja.call(this);delete this.xa;delete this.F;delete this.H;delete this.L};function CBh(a,b,c){this.key=a;this.data=b;this.dirty=c;this.key=this.key;this.data=this.data;this.dirty=this.dirty}pa("docos.api.StorageUpdate",CBh,void 0);function DBh(a,b){if(a){b||a.unshift(void 0);EBh(a[2],b);var c=a[5];c&&(b||c.unshift(void 0),FBh(c[2],b),DBh(c[3],b),b&&c.shift());b&&a.shift()}}function FBh(a,b){a&&(b?a.shift():a.unshift(void 0))}
function EBh(a,b){if(a){b||a.unshift(void 0);FBh(a[3],b);FBh(a[4],b);var c=a[5];c&&(b?c.shift():c.unshift(void 0));if(c=a[14]){b||c.unshift(void 0);var d=c[3];d&&(b?d.shift():d.unshift(void 0));(d=c[7])&&(b?d.shift():d.unshift(void 0));b&&c.shift()}if(a[8])for(c=0;c<a[8].length;c++)EBh(a[8][c],b);(c=a[9])&&(b?c.shift():c.unshift(void 0));if(c=a[18])b||c.unshift(void 0),(d=c[1])&&(b?d.shift():d.unshift(void 0)),b&&c.shift();(c=a[19])&&(b?c.shift():c.unshift(void 0));b&&a.shift()}};function GBh(a){A.call(this);this.D=a;this.C=$6(a).fc;this.H=[];this.F=[];$6(a).Rc||(this.Ma=new Nn(this),this.va(this.Ma),this.Ma.listen(e7(a),["f","dd"],this.eab).listen(e7(a),"bu",this.dab))}v(GBh,A);m=GBh.prototype;m.eab=function(a){if("o"!=a.O&&this.C)if("f"==a.type){if(this.H.length||this.F.length){a=id(this.H);var b=id(this.F);this.C.O0a(a,b,u(this.oIb,this,a),u(this.mIb,this,b));this.H=[];this.F=[]}}else HBh(this,a.type,a.C,a.R)};
m.dab=function(a){if("o"!=a.source&&this.C)for(var b=ja(a.C),c=b.next();!c.done;c=b.next())c=c.value,HBh(this,a.type,c.zj,c.C)};function HBh(a,b,c,d){if(c){var e;"bu"==b?e=e7(a.D).ud(c):e=e7(a.D).F[c];(b=e)&&j7(b.C)&&void 0===b.C.C.getId()?a.F.push(c):b&&!Wuh(b)&&(e=jj(b.F).Mf(),e=Xd(e),DBh(e,!1),b=new CBh(c,e,b.nQ()),a.H.push(b),d&&d!=c&&a.F.push(d))}}m.oIb=function(a){for(var b=0;b<a.length;b++);};
m.mIb=function(a,b,c){for(var d="",e=0;e<a.length;e++)d+="Put failure for docoId: "+a[e]+".\n";b&&(d+="Error message: "+b);IBh(this,d,c)};m.bvb=function(a,b){if(0<b.length){for(var c=e7(this.D),d=0;d<b.length;d++){ya(b[d]);var e=Xd(b[d]);DBh(e,!0);e=new Q6(e);y7(c,new t7(e),"o")}c.flush(!0)}a()};m.avb=function(a,b,c){var d="#inSync failure";b&&(d+=", message: "+b);IBh(this,d,c);a()};
function IBh(a,b,c){if(a=cth(a.D))c&&void 0!==c.message?(c.message=b+"  Original message: "+c.message,a.C(c)):a.C(Error(b))}m.Ja=function(){GBh.Ta.Ja.call(this);delete this.D;delete this.Ma;delete this.C};function JBh(a,b){var c=new Q$e(new F$e([["AIzaSyBuUpn1wi2-0JpM3S-tq2csYx0z2_m_pqc","ANVavNLWozk6oXyP9qguyx4QAuef5j_qQw4Y3Rw",741,"MINIMAL_DOMAIN_GROUP","DOCOS_MENTIONS",null,null,null,null,!1,!0,null,null,250,null,"person.name,person.photo,person.email,person.metadata"],[]]));S$e(c,b);b=c.D;a=null!=K(a.C,50)?K(a.C,50):4;M(b,5,KBh(a));return idf(c)}function KBh(a){switch(a){case 4:return 1;case 2:return 2;case 1:return 3;case 7:return 4;default:return 1}};function LBh(a,b){this.F=a;this.D=b;this.H=$6(this.D);this.C=null};function MBh(a){this.F=a}MBh.prototype.C=function(a,b){if(!b)return[];a=b.D;return(b=this.F.ud(b.C))?c7(b)?a?["Marked as done"]:["Action item reopened"]:a?["Comment resolved"]:["Comment re-opened"]:[]};MBh.prototype.D=ea(0);function NBh(a,b){this.F=a;this.H=e7(this.F);this.J=b}NBh.prototype.C=function(a,b){var c=this.H.ud(b);if(!c)return[];a=this.F.get("relativeDateFormatter");if(c.xA())return["Draft comment"];b=[];c=Uuh(c,!0);for(var d=c.length-1,e=0;e<c.length;e++){var f=c[e];if(f.Zj()){var h=this.J;var k=f.S1();null==k?h="":(h=h(k).C(),h=null==h?"":wud(h,lud.getInstance()))}else h=f.Zz();k=h;h="";0<e&&(h="Reply "+(e+(" of "+(d+" "))));f=k+(" by "+(Y6(f.Qv())+(" on "+a.format(Uth(f)))));b.push(h+f)}return b};
NBh.prototype.D=ea(0);function OBh(a){this.D9b=a;return this}t(OBh,k5);OBh.prototype.shouldOverrideHide=g("D9b");OBh.prototype.shouldOverrideHide=OBh.prototype.shouldOverrideHide;function PBh(a){this.C=a}v(PBh,k5);pa("docos.api.ToggleShowStreamPaneArgs",PBh,void 0);PBh.prototype.getDisplay=g("C");PBh.prototype.getDisplay=PBh.prototype.getDisplay;function QBh(a){Zz.call(this,a);this.Qi("back-to-document",[85]);this.Qi("next-doco",[74]);this.Qi("prev-doco",[75]);this.Qi("prev-anch",[75,1]);this.Qi("next-anch",[74,1]);this.Qi("resolve",[69]);this.Qi("reopen",[69,1]);this.Qi("reply",[82]);this.Qi("speak-comment",Fs(["A","C"]));this.addEventListener("shortcut",this.Ea)}t(QBh,Zz);QBh.prototype.Ea=function(a){this.dispatchEvent(a.identifier)};function RBh(a,b,c){b=c||b;var d=a.JI,e=a.w0b;c=a.d7a;var f=a.c7a,h=a.Dn,k='<div class="'+T("docos")+" "+T("docos-streampane-container")+'" role="dialog" aria-label="';k+=vw("Comment history box.");var l='"><div class="'+T("docos-streampane-content")+'">';e?(a='<div class="'+T("docos-streampane-header")+'"><div class="'+T("docos-new-comment-button")+'">',b=b={Dn:h},e="",b.Dn?(e+='<div class="'+T("docos-ns-caption")+'">'+S('<svg class="'+T("docos-ns-caption-icon")+'" width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H4V4h16v12zm-9-5H7V9h4V5h2v4h4v2h-4v4h-2v-4z" id="docos_add_comment_24"/></defs><g fill="none" fill-rule="evenodd"><g transform="translate(-2 -2)"><mask fill="#fff"><use xlink:href="#docos_add_comment_24"/></mask><use fill="#000000" fill-rule="nonzero" class="docos-new-comment-icon-path" xlink:href="#docos_add_comment_24"/></g></g></svg>')+
'<div class="'+T("docos-ns-caption-text")+'">',e+="Comment</div></div>"):(e+='<div class="'+T("docs-material")+'">'+R(Vsh({Jh:"docos-icon-add-comment",vA:"docos-icon-add-comment-size",Be:"docos-new-comment-icon",qQ:!0})),e+="Comment</div>"),b=S(e),a=a+R(b)+"</div>",d?(d='<div class="'+T("docos-notification-settings")+'">',h=h={Dn:h},h=h.Dn,h=S('<div class="'+T("docos-ns-caption")+'">'+(h?S('<svg class="'+T("docos-ns-caption-icon")+'" width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M12 11V7.16666667c0-2.55833334-.6083333-4.7-3-5.26666667l-.75-.56666667C8.25.64166667 7.69166667 0 7 0S5.75.64166667 5.75 1.33333333L5 1.9c-2.38333333.56666667-3 2.7-3 5.26666667V11H0v2h14v-2h-2zm-2 0H4V7.16666667C4 5.1 4.925 3 7 3s3 2.1 3 4.16666667V11zm-3 5c.91666667 0 2-1.0833333 2-2H5c0 .9166667 1.08333333 2 2 2z" id="docos_notifications_20_a"/></defs><g fill="none" fill-rule="evenodd"><g transform="translate(3 2)"><mask fill="#fff"><use xlink:href="#docos_notifications_20_a"/></mask><use fill="#000000" fill-rule="nonzero" class="docos-gm-notification-icon-path" xlink:href="#docos_notifications_20_a"/></g></g></svg>'):
R(Vsh({Jh:"docos-icon-bell",vA:"docos-icon-bell-size",Be:"docos-ns-caption-icon"})))+'<div class="'+T("docos-ns-caption-text")+'"><div class="'+T("docos-ns-caption-text-value")+'"></div></div></div>'),h=d+R(h)+"</div>"):h="",h=a+h+"</div>"):(d=b,b=a.TB,h=a.JI,a=a.UH,d='<div class="'+T("docos-streampane-entryarea")+" "+T("hide-on-readonly")+'">'+R(Wsh({size:48,Be:"docos-streampane-avatar"}))+'<div class="'+T("docos-streampane-entryarea-content")+'"><div class="'+T("docos-streampane-username")+" "+
T("goog-inline-block")+'">'+R(b)+"</div>"+R(Yvh({Be:"docos-streampane-input-pane",M$b:!0,UH:a},d)),h&&(d+='<div class="'+T("docos-streampane-notificationslink")+'">',d+="Notification settings</div>"),h=S(d+"</div></div>"));k+=l+h;c&&(k+='<div class="'+T("docos-streampane-bannertext")+'">'+R(c),f&&(k+='<a target="_blank" rel="noreferrer" href="'+T(ww(f))+'" class="'+T("docos-streampane-bannerlink")+'">',k+="Learn more</a>"),k+="</div>");k+='<div class="'+T("docos-streampane-readonlytext")+" "+T("show-on-readonly")+
" "+T("goog-inline-block")+'">';return S(k+"You do not have permission to add comments.</div></div></div>")}function SBh(){var a='<div class="'+T("docos-streampane-error")+'">';return S(a+"Commenting disabled due to a network error. Please reload the page.</div>")};function TBh(){return S('<div class="'+T("docos-spinner")+'" dir="ltr"><div class="'+T("docos-quantum-spinner")+" "+T("active")+'">'+UBh({gq:"spinner-blue"})+UBh({gq:"spinner-red"})+UBh({gq:"spinner-yellow"})+UBh({gq:"spinner-green"})+"</div></div>")}
function UBh(a){a=a.gq;return S('<div class="'+T("spinner-layer")+" "+T(a)+'"><div class="'+T("spinner-circle-clipper")+" "+T("spinner-left")+'"><div class="'+T("spinner-circle")+" "+T("spinner-fit")+'"></div></div><div class="'+T("spinner-gap-patch")+'"><div class="'+T("spinner-circle")+" "+T("spinner-fit")+'"></div></div><div class="'+T("spinner-circle-clipper")+" "+T("spinner-right")+'"><div class="'+T("spinner-circle")+" "+T("spinner-fit")+'"></div></div></div>')};function VBh(a,b){Z6.call(this,a,b);this.D=null}v(VBh,Z6);VBh.prototype.Ba=function(){var a=this.qa();this.D=Kx(TBh,{},void 0,a);this.ib(this.D)};VBh.prototype.nf=function(){this.D.parentElement.removeChild(this.D)};VBh.prototype.Ja=function(){delete this.D};function WBh(a,b){Nn.call(this);this.R=a;this.C=b;this.D=0;this.F=this.H=!1;this.J=g7(this.R);this.vg=null;this.V=new Zz(this.C.qa().Yb());this.V.Qi("blur",27);this.ma=new wz(this);this.va(this.ma);this.ma.Nb(this.J.Ra("docos-new-doco"),rs,this.aNb).Nb(this.J.Ra("docos-highlight-doco"),rs,this.$Mb);this.listen(this.C,"bd",this.ZMb).listen(this.C,"br",this.bNb)}t(WBh,Nn);
function XBh(a){0==a.D&&0<a.C.rc()&&(a.D=YBh(a,0));if(0!=a.D){for(var b=0,c=0;c<a.C.rc();c++)YBh(a,c)==a.D&&(b=c);ZBh(a);T7(a.C,!1);b=a.C.tc(b).getId();b=new Ksh(b,a.C.getId());a.J.tf("docos-before-highlight-doco").wb(b);a.J.tf("docos-highlight-doco").wb(b)}}function ZBh(a){a.vg||(a.vg=new gx(a.C.qa().Yb()),a.va(a.vg));a.listen(a.vg,"focusin",a.yVa).listen(a.V,"shortcut",a.XLa)}m=WBh.prototype;
m.yVa=function(a){this.C.qa().contains(this.C.getElement(),a.target)||this.C.getElement().nextSibling==a.target||(this.H=this.F=!1,$Bh(this,!0),T7(this.C,!0),this.Gc(this.vg,"focusin",this.yVa).Gc(this.V,"shortcut",this.XLa),a=R6(),this.J.tf("docos-before-highlight-doco").wb(a),this.J.tf("docos-highlight-doco").wb(a))};m.XLa=function(){T7(this.C,!1);$Bh(this,!1)};
m.$Mb=function(a){var b=a.data;if(a=b.C)if(a=this.C.Dc(a)){if(this.D=w7(e7(this.R),b.C),b.D==this.C.getId()){ZBh(this);$Bh(this,!1);a instanceof szh&&(a.ah(!0),xzh(a,!0));T7(this.C,!1);if(0!=this.D&&this.H&&!this.F&&a instanceof szh)a:if(jzh(a),a.D)a.D.ready(void 0,void 0,!0),a.D.O.focus();else{b=Uuh(a.ud(),!1);for(var c=b.length-1;0<=c;c--)if(fzh(a.H[b[c].getId()]))break a;fzh(a.F)||a.focus()}else a.focus();this.H=this.F=!1}}else this.H=this.F=!1;else this.H=this.F=!1,T7(this.C,!0),$Bh(this,!0)};
m.aNb=function(a){a=a.data;var b=z7(e7(this.R),a.$o);if(b){for(var c=0;c<this.C.rc();c++)if(b.getId()==this.C.tc(c).getId()){this.D=a.$o;break}this.F=!0;T7(this.C,!1,!0);$Bh(this,!1)}};m.ZMb=function(){aCh(this)};m.bNb=function(){e7(this.R).V||aCh(this)};function aCh(a){if(1==a.C.rc())a.D=0,T7(a.C,!1);else{for(var b=0,c=0;c<a.C.rc();c++)if(YBh(a,c)==a.D){b=c;break}b==a.C.rc()-1?b--:b++;a.D=YBh(a,b);a.F=!0;T7(a.C,!1,!0);$Bh(a,!1)}}
function $Bh(a,b){for(var c=x4a(a.C),d=0;d<c.length;d++){var e=a.C.Dc(c[d]);e instanceof szh&&(e.ah(b),xzh(e,b))}}function YBh(a,b){return w7(e7(a.R),a.C.tc(b).getId())};function bCh(a,b,c){this.D=a;this.F=b;this.C=c||null};function cCh(a,b,c,d){Z6.call(this,a,d);this.Ha=c;this.context=a;this.D=b;this.D.dya(this);this.O={};this.J=[];this.H=[];this.Ca=!1;this.ma=this.F=this.R=null;this.xa=new wz(this);this.va(this.xa);a=e7(this.context);this.getHandler().listen(a,"bu",this.r1b).listen(a,"dd",this.S1b).listen(a,"f",this.s2b).listen(b,"rv",this.S6b).listen(this,"ra",this.I3b).listen(this,"sd",this.m4b).listen(this,"sr",this.n4b).listen(this,"sn",this.X3b).listen(this,"sp",this.Y3b).listen(this,"bd",this.s1b).listen(this,
"ar",this.e1b).listen(this,"ph",this.K2b);eth(this)}v(cCh,Z6);m=cCh.prototype;
m.Ia=function(){cCh.Ta.Ia.call(this);Yy(this.getElement(),"docos");Pw(this.getElement(),["docos","docos-stream-view"]);Fw(this.getElement(),"list");tuh(this.C)?Ow(this.getElement(),"docos-stream-view-height"):(Ow(this.getElement(),"docos-stream-view-legacy"),Ow(this.getElement(),"docos-stream-view-height-legacy"));"legacy"!=this.C.F&&Ow(this.getElement(),"docs-gm");"material_blue"==this.C.F?Ow(this.getElement(),"docos-gm-blue"):"material_green"==this.C.F?Ow(this.getElement(),"docos-gm-green"):"material_yellow"==
this.C.F&&Ow(this.getElement(),"docos-gm-yellow");Pw(this.Hb(),this.D.VO());this.getHandler().listen(this,"rd",this.Bab);var a=g7(this.context);this.xa.Nb(a.Ra("docos-highlight-doco"),rs,this.Ufa);$6(this.context).Kb&&Nw(this.getElement(),"docos-layout-vertical")&&(this.R=new WBh(this.context,this),this.F=this.gb.createElement("DIV"),Ow(this.F,"docos-tab-sentinel"),this.getHandler().listen(this.getElement(),"focus",this.wx).listen(this.F,"focus",this.$3b),dCh(this).appendChild(this.F),this.ma=new YA);
this.uCa()};m.RFa=ea(!0);m.X8=function(){this.D.OI();eCh(this);this.D.XI(!0);this.dispatchEvent("ail")};m.wx=function(){XBh(this.R)};m.$3b=function(){var a=this.R;a.H=!0;XBh(a)};m.uCa=function(){var a=e7(this.context);if(Kd(a.C)){this.D.XI(!1);a=Wd(a.C);for(var b in a)fCh(this,b);this.D.qI();this.X8()}};m.yz=function(a,b){for(var c=this.rc()-1;0<=c;--c){var d=this.tc(c);a&&!a[d.getId()]||!b&&!d.isVisible()||d.yz()}};
m.Ufa=function(a){var b=a.data;a=b.C;var c=b.D;b=b.J;if(!this.context.V&&this.D.Cha(a,c)){if(this.ma&&a&&this.D.kq()!=a){var d=this.rc();d="Comment "+(jw(this,this.Dc(a))+1+(" of "+(d+" ")));ZA(this.ma,d)}this.dispatchEvent("us");this.D.ana(a,c,b);eCh(this);this.dispatchEvent("ud")}};m.r1b=function(a){a=ja(a.C);for(var b=a.next();!b.done;b=a.next()){var c=b.value;b=c.zj;c=c.C;b&&(e7(this.context).ud(b),(c=this.Dc(b)||c&&this.Dc(c))?(c.getId()!=b&&c.Uc(b),this.J.push(b)):this.O[b]=!0)}};m.S1b=function(a){this.H.push(a.C)};
function eCh(a){a.Ca||a.D.vy()}m.s2b=function(a){this.D.XI(!a.F);this.Ca=!0;for(var b=0;b<this.H.length;++b)gCh(this,this.H[b]);for(var c in this.O)fCh(this,c);Sd(this.O)||this.D.qI();for(b=0;b<this.J.length;++b)hCh(this,this.J[b]);this.O={};this.J.length=0;this.H.length=0;a.F&&this.D.OI();this.D.vy();this.Ca=!1;this.D.XI(!0)};m.Bab=function(a){this.Dc(a.zj)&&(this.D.gZ(a.zj),eCh(this))};
m.I3b=function(a){var b=e7(this.context).ud(a.zj);if(a=$6(this.context).J.reanchor)b=s7(b),b=Qsh("reanchor").addAnchorId(b).build(),a(b),this.context.V=!0};m.m4b=function(a){var b={text:a.C,Dm:a.Dm,$o:a.$o,Vab:a.Dm,C_:a.C_};a.Dm&&$6(this.context).Kc&&(b.quote=(0,$6(this.context).Kc)(a.Dm));a.Dm&&$6(this.context).Oa&&(b.Dm=(0,$6(this.context).Oa)(a.Dm));g7(this.context).tf("docos-new-doco").wb(b)};
m.n4b=function(a){var b=e7(this.context).ud(a.zj);if(!b)throw Error(a.zj+" not contained within appropriate stream.");var c=g7(this.context);b.isResolved()?c.tf("docos-resolve-doco").wb(new hth(a.zj,!1,a.C)):c.tf("docos-new-reply").wb(new bCh(a.zj,a.C,a.C_))};m.X3b=function(){this.D.highlightNext()};m.Y3b=function(){this.D.highlightPrevious()};m.s1b=function(){this.D.Rfa()};m.e1b=function(){this.D.Pfa()};
function fCh(a,b){var c=e7(a.context).ud(b);c&&a.Ha(c)&&!a.Dc(b)&&(a.dispatchEvent("us"),a.D.wT(c),a.dispatchEvent("ud"),a.R&&T7(a,!0))}function hCh(a,b){a.dispatchEvent("us");var c=a.Dc(b);if(c){var d=e7(a.context).ud(b);d&&a.Ha(d)?(c.update(),a.D.gZ(b)):gCh(a,b)}a.dispatchEvent("ud")}function gCh(a,b){b&&(a.dispatchEvent("us"),a.D.yR(b),a.dispatchEvent("ud"))}m.S6b=function(a){for(var b=a.GFa.length,c=0;c<b;++c)gCh(this,a.GFa[c])};m.z5=function(){for(var a=this.rc(),b=0;b<a;++b)this.tc(b).z5()};
function dCh(a){return(a=a.getElement())?a.parentElement:null}function T7(a,b,c){if(!b&&!c||0!=a.rc())a.qa().oi(a.getElement(),b),a.F&&(b=null!=c?c:b,a.qa().oi(a.F,b))}m.Ja=function(){cCh.Ta.Ja.call(this);delete this.xa};m.K2b=function(){var a=this.D.UU();null==a||a.isDisposed()||(a.update(),a.focus())};function iCh(a){A.call(this);this.C=[];this.D=!1;this.F=new vp;this.H=a?!1:!0}t(iCh,A);iCh.prototype.start=function(){this.H=!0;jCh(this)};function jCh(a){!a.H||a.D||0>=a.C.length||(a.D=!0,a.F.gk(u(a.J,a)))}iCh.prototype.J=function(){this.C.shift()();this.D=!1;jCh(this)};iCh.prototype.Ja=function(){this.F.dispose();A.prototype.Ja.call(this)};function kCh(a,b,c,d){cCh.call(this,a,b,c,d);this.Oa=new iCh;this.L=[];this.Ka=new VBh(a,d);this.Ea=!1;this.V=null}v(kCh,cCh);m=kCh.prototype;m.RFa=g("Ea");m.X8=function(){kCh.Ta.X8.call(this);this.Ka.nf();this.Ea=!0;this.V&&this.Ufa(this.V)};m.xCa=function(){for(var a=0;0<this.L.length&&50>a;){var b=this.L.shift();this.Dc(b)||(fCh(this,b),a++)}0==this.L.length?this.X8():(a=this.Oa,b=u(this.xCa,this),a.C.push(b),jCh(a))};
m.uCa=function(){var a=e7(this.context);if(Kd(a.C)){this.Ka.render(dCh(this));this.D.XI(!1);a=Wd(a.C);for(var b in a)this.L.push(b);b=this.Oa;a=u(this.xCa,this);b.C.push(a);jCh(b)}};m.Ufa=function(a){this.Ea?kCh.Ta.Ufa.call(this,a):this.V=a};function lCh(a,b,c,d,e){H7.call(this,a,b,c,d,e);c=["edit","delete","reanchor","resolve"];$6(a).Bc&&(c=c.concat(["link"]));this.L=new yuh(a,b,d,"docos-actionmenu",c);this.Ga(this.L);this.Ga(this.F);jzh(this);this.Ka+=" docos-streamdocoview-input-pane";this.Pb="Discard reply";this.Ca=this.V=this.Ha=this.Ua=this.Oa=this.Ea=null}t(lCh,H7);m=lCh.prototype;
m.Ba=function(){H7.prototype.Ba.call(this);var a=this.qa(),b=this.getElement();this.Ea=a.bb("docos-streamdocoview-inputcontainer",b);this.Oa=a.bb("docos-streamdocoview-reopen-control",b);this.Ua=a.bb("docos-streamdocoview-resolve-control",b);this.L.Va(a.bb("docos-actionmenu-outer",b));Kw(this.L.F.La(),"More options");this.Ha=a.bb("docos-author",b);this.V=dW(a,"IMG","docos-streamdocoview-avatar",b);this.Ca=dW(a,"IMG","docos-streamreplyview-avatar",this.Ea);a=this.qa();b=this.getElement();var c=a.bb("docos-docoview-comment",
b);c&&($6(this.getContext()).D.C(c,"Reply to this comment"),Kw(c,"Reply to this comment"));if(c=a.bb("docos-docoview-resolve",b))$6(this.getContext()).D.C(c,"Mark as resolved and hide discussion"),Kw(c,"Mark as resolved and hide discussion");if(a=a.bb("docos-docoview-reopen",b))$6(this.getContext()).D.C(a,"Mark as open and return discussion to the document view"),Kw(a,"Mark as open and return discussion to the document view")};
m.Ia=function(){H7.prototype.Ia.call(this);mCh(this);var a=this.getElement();this.D.V=a;a7(a7(a7(a7(this,this.L,"d",this.AZa),this.L,"e",this.b2b),this.L,"r",this.T3b),this.L,"ra",this.K3b);a=this.ud().Qv();nCh(this,a);oCh(this,a);a=$6(this.getContext()).ih();kth(d7(this.getContext()),this.Ca,a.C,Y6(a));(a=a.getName())&&this.Ca&&this.C.D.C(this.Ca,a)};m.Uc=function(a){H7.prototype.Uc.call(this,a);this.L&&Auh(this.L,a)};
m.update=function(){H7.prototype.update.call(this);var a=this.ud().Qv();nCh(this,a);oCh(this,a);this.L.update();mCh(this);this.Ea&&(a=!Sd(this.H)||B7(this.D)||this.Vk(),P(this.Ea,a))};function nCh(a,b){var c=d7(a.getContext()),d=b.C;a.V&&yyh(b,a.ud().getOrigin())&&(d=Ivh(c),a.V.classList.add("docos-avatar-unverified"),a.C.D.C(a.V,"Author from imported document"));kth(c,a.V,d,Y6(b))}function oCh(a,b){if(b=b.getName())a.Ha&&a.C.D.C(a.Ha,b),a.V&&a.C.D.C(a.V,b)}
function mCh(a){var b=a.ud();a.Oa&&P(a.Oa,b.isResolved());a.Ua&&P(a.Ua,!b.isResolved())}m.iVa=function(a){var b=this.getElement();a=a.target;Nw(a,"docos-docoview-comment")&&b?this.D.ready():Nw(a,"docos-docoview-resolve")&&b?pCh(this):Nw(a,"docos-docoview-reopen")&&b&&pzh(this)};m.b2b=function(){czh(this.F)};m.T3b=function(){this.ud().isResolved()?pzh(this):pCh(this)};m.K3b=function(a){this.dispatchEvent(new fth("ra",this.ud().getId()));a.stopPropagation()};
function pCh(a){var b=g7(a.getContext());a.dispatchEvent("br");var c=new hth(a.getId(),!0,B7(a.D)?a.D.getValue():null);b.tf("docos-resolve-doco").wb(c);a.dispatchEvent("ar")}m.z5=function(){var a=this.F;a.Kb&&!a.H.Vk()||Yyh(a)};m.vd=function(){H7.prototype.vd.call(this);var a=d7(this.getContext());f7(a,this.V);f7(a,this.Ca)};m.Ja=function(){H7.prototype.Ja.call(this);delete this.L;delete this.Ha;delete this.V;delete this.Ca;delete this.Ea;delete this.Oa;delete this.Ua};function qCh(a,b,c,d){this.C=a;this.D=b;this.cb=c;this.H=d}qCh.prototype.F=function(a){a=e7(this.C).ud(a);var b=this.D.Lj().getId();return new lCh(this.C,a.getId(),b,this.cb,this.H)};function rCh(a,b){K7.call(this,a,b)}v(rCh,K7);m=rCh.prototype;m.V1=function(){return"none"!=$6(this.getContext()).$a};m.jma=function(a){return(new qCh(this.getContext(),this,this.qa(),this)).F(a.getId())};m.XT=function(a,b){a=a.ud();b=b.ud();if(!a||!b)throw Error("Doco view missing doco.");return("creation"==L7(this).$a?b.nx().getTime()-a.nx().getTime():b.fP().getTime()-a.fP().getTime())||(a.getId()<b.getId()?-1:b.getId()<a.getId()?1:0)};
m.wT=function(a){var b=this.Lj(),c=this.jma(a),d=0;this.V1()&&(d=this.haa(c));b.vf(c,d,!0);c.update();if(c=b=this.M$())b.C!=a.getId()?c=!1:(c=a.Xy()?s7(a):void 0,d=$6(this.getContext()).qh,d=null!=c&&d(c),c=null==c||a.isResolved()||!!Xuh(a)||d);c&&(b=U6(Osh(T6(S6(a.getId()),this.jF()),b.D)),this.QOa(b,a))};m.yR=function(a){this.Lj().Dc(a)&&(a=this.Lj().removeChild(a),Hf(a))};m.gZ=function(a){if(this.V1()){var b=this.Lj();if(a=b.Dc(a)){var c=jw(b,a),d=this.haa(a);c!=d&&b.vf(a,d)}}};
m.Rfa=function(){Nzh(this,!0,!0)};m.Pfa=function(){if(this.H&&this.kq()){var a=this.kq();D7(e7(this.getContext()),a);this.jF()&&g7(this.getContext()).tf("docos-highlight-doco").wb(U6(Msh(T6(S6(a),this.jF()))))}};m.OI=function(){Pzh(this)};function sCh(a){a=a||{};var b=a.K7b,c=a.L7b,d=a.S7a,e=a.R7a;a=a.$9a;if(sw(d)||sw(c)){var f;sw(a)&&sw(c)?f='<a href="'+T(ww(c))+'" title="'+T(b)+'" target="_blank">'+R(a)+"</a>":a?f=R(a):f="";b='<div class="'+T("docos-build-info")+'">'+(d?'<span title="'+(e?"CL #"+T(e)+" built at...":"No CL #")+'">'+R(d)+"</span>":"")+" "+f+"</div>"}else b="";return S(b)};function tCh(a,b){Q.call(this,b);this.C=a}v(tCh,Q);tCh.prototype.Ba=function(){this.ib(Kx(sCh,{R7a:K(this.C,4),S7a:this.C.Zm(),$9a:K(this.C,5),K7b:K(this.C,2),L7b:K(this.C,1)},void 0,this.qa()))};function uCh(a,b){Z6.call(this,a,b);g7(a);this.Nc=new Hy(b);this.F=a;for(var c in zsh){a=zsh[c];a:{switch(a){case "all":var d="All";break a;case "important":d="Only yours";break a;case "none":d="None";break a}throw Error("Unexpected notification settings value.");}a=new SP(d,a,b);this.Nc.Ga(a,!0)}this.D=new Py("",this.Nc,eP.getInstance(),b);Qy(this.D,new Ly(null,9));this.D.sH=!0;this.Ga(this.D)}v(uCh,Z6);m=uCh.prototype;
m.Ia=function(){uCh.Ta.Ia.call(this);var a=this.qa(),b=a.bb("docos-ns-caption",this.getElement());a=a.bb("docos-ns-caption-text-value",b);this.D.setContent(b);this.D.render(this.getElement());this.qa().Fe(a,"Notifications");b=$6(this.F).D;b.C(this.D.getElement(),"Change email notification settings for this document.");for(a=0;a<this.Nc.rc();a++){var c=this.Nc.tc(a),d=c.getElement();a:{switch(c.Sa()){case "all":c="Get notifications for every comment.";break a;case "important":c="Only get notifications for comments that involve you.";
break a;case "none":c="No notifications.";break a}throw Error("Unexpected notification settings value.");}b.C(d,c)}a7(this,this.D,"action",this.Gab);a7(this,this.C,"r",this.bna);a7(this,this.getElement(),"keyup",this.vgb);a7(this,this.Nc,"show",this.Fab);a7(this,this.Nc,"hide",this.Eab);this.bna()};m.Fab=function(){0<this.Nc.rc()&&this.Nc.oh(0)};m.Eab=function(a){a.stopPropagation()};m.vgb=function(a){32==a.keyCode&&a.stopPropagation();27==a.keyCode&&a.stopPropagation()};
m.Gab=function(a){var b=a.target.Sa(),c=Ovh(this.F);b!=ABh(c)&&BBh(c,b);this.bna();a.stopPropagation()};m.bna=function(){var a=this;!this.C.V&&this.C.JI()?ABh(Ovh(this.F)).then(function(b){for(var c=0;c<a.Nc.rc();++c){var d=a.Nc.tc(c);d.Zb(d.Sa()==b)}b=!a.C.V&&a.C.JI();a.D.Na(b)},void 0,this):this.D.Na(!1)};function vCh(a,b,c,d){Z6.call(this,a,b);this.H=new rCh(a,b);this.va(this.H);this.D=c?new kCh(a,this.H,sfa(Vuh),b):new cCh(a,this.H,sfa(Vuh),b);this.Ga(this.D);this.J=a;this.ma=null;this.Ea=!!d;Ri(this.C.C,30)||(this.F=new vxh(a,b),this.va(this.F),this.Ga(this.F),this.F.Ca="Add a comment");this.O=null;Ri(this.C.C,30)&&this.C.JI()&&!this.C.ma&&(this.O=new uCh(a,b),this.Ga(this.O));this.L=null;Ri(this.C.C,30)&&(this.L=new Fz("",b,"legacy"!=this.C.F?4:void 0),this.Ga(this.L));this.xa=new wz(this);this.va(this.xa);
this.V=new tCh(N(this.C.C,K4e,2)||new K4e,b);this.Ga(this.V);this.Ca=!1;this.R=null;eth(this)}v(vCh,Z6);m=vCh.prototype;m.FWa=0;m.wy=null;m.D9=null;m.mU=null;m.fC=null;m.nO=null;
m.Ba=function(){var a="legacy"!=this.C.F,b=this.qa(),c=Kx(RBh,{TB:this.C.ih().getName(),JI:this.C.JI(),w0b:!!Ri(this.C.C,30),UH:this.C.Ea,d7a:this.C.Sy,c7a:this.C.Jy,Dn:a},void 0,b);Ri(this.C.C,30)&&Ow(c,"docos-enable-docs-header");a&&Ow(c,"docs-gm");"material_blue"==this.C.F?Ow(c,"docos-gm-blue"):"material_green"==this.C.F?Ow(c,"docos-gm-green"):"material_yellow"==this.C.F&&Ow(c,"docos-gm-yellow");this.ib(c);a=b.bb("docos-streampane-content",c);this.D.render(a);this.nO=Ri(this.C.C,30)?this.D.Hb():
this.C.O;this.V.render(c);this.D9=b.bb("docos-streampane-username",c);this.mU=dW(b,"IMG","docos-streampane-avatar",c)};
m.Ia=function(){vCh.Ta.Ia.call(this);var a=this.qa(),b=this.getElement();this.F&&this.F.Va(a.bb("docos-streampane-input-pane",b));if(this.O){var c=a.bb("docos-notification-settings",b);this.O.Va(c)}c=$6(this.J).D;this.L&&(a=a.bb("docos-new-comment-button",b),this.L.Va(a),c.C(a,this.C.Ka?"Add comment not available":"Add a comment"),a7(this,this.L,"action",this.wab),this.r0a(),this.getHandler().listen(this.C,"r",this.r0a));this.C.xa&&(b=this.C.xa,this.F&&(this.F.V=b));xo(b,!0);this.fC=new QBh(b);Fn(this.fC,
"next-doco",this.g3b,!0,this);this.fC.addEventListener("prev-doco",this.z3b,!0,this);Fn(this.fC,"resolve",u(this.s5a,this),!0);Fn(this.fC,"reopen",u(this.Aab,this),!0);Fn(this.fC,"back-to-document",this.Y6a,!0,this);Fn(this.fC,"speak-comment",this.X$b,!0,this);b=g7(this.J);a=this.C.Ka?this.D2b:this.zab;this.xa.Nb(b.Ra("docos-highlight-doco"),rs,a);this.F&&a7(this,this.F,"p",this.c1b);a7(a7(a7(a7(a7(a7(a7(a7(this,this.getElement(),"click",this.xab),this.D,"f",this.t2b),this.D,"b",this.v1b),this.D,
"e",this.j2b),this.D,"us",this.l4b),this.D,"ud",this.k4b),this.D,"ail",this.j4b),this,["aftershow","afterhide"],this.yab);b=this.C.ih();Jvh(d7(this.J),this.mU,b.C,Y6(b));this.D9&&(a=b.getName())&&this.C.D.C(this.D9,a);this.mU&&(a=b.getName())&&this.C.D.C(this.mU,a);this.Ea||(this.ma=new kB(this.getElement(),this.qa()),this.va(this.ma),lB(this.ma));wCh(this)};
m.yab=function(a){var b="aftershow"==a.type?"dialog-opened":"dialog-closed",c=this.C.J[b];if(c){a=a.target instanceof j$e;var d=(new W6(b)).setNonAnchored(!0).setApiEventArgs(new OBh(a)).build();c(d);a&&"dialog-closed"==b&&this.C.xa&&this.C.xa.focus()}};m.z5=function(){this.D.z5()};m.xab=function(a){Nw(a.target,"docos-streampane-notificationslink")&&!this.C.V&&this.dispatchEvent("dnd")};
m.c1b=function(){var a=this.F.getValue();zd(a)||(g7(this.J).tf("docos-new-doco").wb({text:a,Dm:null,$o:0,quote:null}),this.wy=null)};m.t2b=function(a){if(a=a.target)this.wy=a.getElement()};m.v1b=function(a){xCh(this,a)};m.j2b=function(a){xCh(this,a)};function xCh(a,b){(b=b.target)&&b.getElement()==a.wy&&(a.wy=null)}m.l4b=function(){null!=this.wy&&(this.FWa=this.wy.offsetTop)};m.k4b=function(){null!=this.wy&&this.nO&&(this.nO.scrollTop+=this.wy.offsetTop-this.FWa)};m.j4b=function(){this.dispatchEvent("initial-load-complete")};
m.zab=function(a){a=a.data;(a.D&&a.D!=this.D.getId()||a.O)&&yCh(this,a.C||null);if(a=a.C?this.D.Dc(a.C):null)this.wy=a.getElement()};m.D2b=function(a){a=a.data;var b=a.C||null,c=this.C.J["toggle-show-stream-pane"];c&&(b=b?e7(this.J).ud(b):null)&&(b=(new W6("toggle-show-stream-pane")).addAnchorId(s7(b)).addDocoHandle(w7(e7(this.J),b.getId())).setNonAnchored(!(b.Xy()&&!b.isResolved())).setUserInitiated(!0).setApiEventArgs(new PBh(!0)).build(),c(b));yCh(this,a.C||null)};
function yCh(a,b){(b=b?a.D.Dc(b):null)?(a.wy=b.getElement(),a.nO&&(a.nO.scrollTop=b.getElement().offsetTop)):a.wy=null}m.g3b=function(){this.H.highlightNext()};m.z3b=function(){this.H.highlightPrevious()};m.s5a=function(){var a=this.H.UU(),b=this.H.kq();b=b?e7(this.J).ud(b):null;a&&b&&(a=a.F,b.Zj()?a.g_():a.DB(!0))};m.Aab=function(){var a=this.H.UU();a&&a.F.DB(!1)};m.Y6a=function(){var a=g7(this.J),b=this.H.kq();a.tf("docos-back-to-document").wb({zj:b})};m.X$b=function(){var a=this.H.UU();a&&qzh(a)};
function wCh(a){if(a.Ca&&!a.R&&a.Gb()){var b=Kx(SBh);a.R=new Q;a.R.Va(b);a.vf(a.R,0)}}m.r0a=function(){this.L.Na(this.C.wf)};m.wab=function(){this.dispatchEvent("create-draft")};m.vd=function(){vCh.Ta.vd.call(this);f7(d7(this.J),this.mU)};m.Ja=function(){vCh.Ta.Ja.call(this);delete this.D9;delete this.mU;delete this.wy;delete this.nO;delete this.V;delete this.F;delete this.H;delete this.D;delete this.xa;this.fC&&(delete this.fC,this.fC=null)};function zCh(a){A.call(this);this.H=a;a=$6(a);null!=K(a.C,44)&&null!=K(hZ(a.C),39)&&Ri(hZ(a.C),39)?a=null:a=(a=N(a.C,gZ,7))?a:new gZ;this.C=a;this.D=null;this.F=Qo();Nrh(this.H,"netIo")&&this.F.resolve()}v(zCh,A);function ABh(a){if(a.C)return Mo(ACh(a.C));a.D||(a.D=a.F.C.then(function(){return new Lo(function(b,c){Bvh(a.H.get("netIo"),"uc",void 0,function(d){return b(new lsh(d))},c,void 0,void 0,"GET")},a)},void 0,a));return a.D.then(function(b){a.C=b.Lo();a.D=null;return ACh(a.C)},void 0,a)}
function BBh(a,b){var c="all"==b;b="none"==b;var d=(new gZ).Na(!0);c=M(d,3,c);c=M(c,4,!b);b=M(c,5,!b);b=M(b,6,!0);a.C=b;b=new Dsh;b=bj(b,1,a.C);Bvh(a.H.get("netIo"),"uc",b)}function ACh(a){return Ui(a,2,!0)?Ri(a,3)?"all":Ui(a,4,!0)||Ui(a,5,!0)?"important":"none":"none"};function BCh(a,b){var c=a.ud(),d=b.ud();a=a.getPosition();b=b.getPosition();if(a.y!=b.y)return a.y-b.y;if(a.x!=b.x)return a.x-b.x;if(null!=c&&null!=d){b=c.nx();a=d.nx();if(b&&a&&b.getTime()!=a.getTime())return b.getTime()-a.getTime();if(!b&&a)return 1;if(b&&!a)return-1;c=c.getId();d=d.getId();return c<d?-1:c>d?1:0}return null!=c?1:null!=d?-1:0}function CCh(a,b){this.C=a;this.$c=b}CCh.prototype.ud=g("C");CCh.prototype.getPosition=g("$c");function DCh(a,b,c,d){this.C=a;this.J=b;this.L=c;this.H=d;this.F=[];this.D=0}function ECh(a,b){return a.C().tc(b).getId()}function FCh(a,b){for(var c=a.C().rc(),d=0;d<c;++d)a.H(ECh(a,d),Infinity);a.layout(b||[])}m=DCh.prototype;m.layout=function(a){do{var b=a;GCh(this,0,this.C().rc(),1,-Infinity,this.Wgb,this.Xgb,b);b=a;GCh(this,this.C().rc()-1,-1,-1,Infinity,this.$6a,this.a7a,b);a.pop()}while(0<a.length)};function HCh(a,b){0==a.D&&(a.D=1);a.F=hd(b,a.F);ld(a.F)}
function ICh(a){0!=a.D&&(2==a.D?FCh(a,a.F):a.layout(a.F),a.F=[],a.D=0)}function GCh(a,b,c,d,e,f,h,k){for(;b!=c;b+=d){var l=ECh(a,b);var n=b;n=a.C().tc(n).getHeight();var q=a;var r=b;r=q.C().tc(r).ud().getId();q=q.J(r);r=a.L(l);e=Zc(k,l)?q:h(n,q,r,e);a.H(l,e);e=f(n,e)}}m.Wgb=function(a,b){return b+a+10};m.$6a=function(a,b){return b-10};m.Xgb=function(a,b,c,d){return Math.max(Math.min(c,b),d)};m.a7a=function(a,b,c,d){return Math.min(Math.max(c,b),d-a)};function JCh(a,b){var c=this;Vzh.call(this,a,b);this.F={};this.ma={};this.Ea=new DCh(u(this.Lj,this),u(this.wRa,this),u(this.poa,this),u(this.K8b,this));this.Ua=$6(a).zn;this.Ha=new VL;this.eb=!0;this.Pb=new Dp(this.acc,500,this);this.Oa=this.Pa=null;this.Ka=Pvh(a);this.Kb=new qn;this.va(this.Kb);rn(this.Kb,this.Ka.D,function(){c.Qa=!0;c.Za&&KCh(c,c.Za);ICh(c.Ea);c.Bb&&c.vy();c.Qa=!1});this.Bb=!1;this.Za=null;this.Wa=this.Qa=!1}v(JCh,Vzh);var LCh=null;m=JCh.prototype;
m.VO=function(){var a=JCh.Ta.VO.call(this);a.push("docos-layout-vertical");return a};m.V1=ea(!0);m.XI=da("eb");m.XT=function(a,b){a=a.ud();b=b.ud();if(!a||!b)throw Error("Doco view missing doco.");var c=w7(e7(this.getContext()),a.getId()),d=w7(e7(this.getContext()),b.getId());return BCh(new CCh(a,this.C[c]||new Zl(Number.MAX_VALUE,Number.MAX_VALUE)),new CCh(b,this.C[d]||new Zl(Number.MAX_VALUE,Number.MAX_VALUE)))};m.gZ=function(a){this.qI(a,!1)};m.Yva=function(a){JCh.Ta.Yva.call(this,a);this.vy()};
m.xXa=function(){for(var a=this.Lj(),b=a.rc(),c=0;c<b;c++){var d=a.tc(c);d.getId()!=this.kq()&&d.getId()!=this.TU()&&d.I8()&&d.collapse()}};m.OI=function(){aAh(this);Pzh(this);for(var a=this.Lj(),b=a.rc(),c=0;c<b;++c){var d=a.tc(c);d.I8()&&!d.Vk()&&zzh(d)}a=[];(b=this.kq())&&a.push(b);this.Ka.C||this.Qa?(b=this.Ea,b.D=2,HCh(b,a||[])):FCh(this.Ea,a);MCh(this)};m.F0=function(a){this.Pa=a.clone();this.Oa&&this.Oa.contains(a)?this.Pb.start():(a=this.Pb,a.stop(),a.ypa())};
m.acc=function(){if(this.O){this.Oa=this.Pa.clone();var a=this.Lj();this.Oa.expand(500,0,500,0);var b=a.rc(),c="";0<b&&(c=a.tc(b-1).getId());for(var d=0;d<b;d++){var e=a.tc(d),f=this.ma[e.getId()];f=NCh(e,this.Oa,f.y,c);e.setVisible(f)}}};
m.vy=function(){JCh.Ta.vy.call(this);if(this.Ka.C)this.Bb=!0;else{ICh(this.Ea);var a=this.Lj(),b;for(b in this.F){var c=a.Dc(b);if(c){var d=b==this.kq()||b==this.TU()?-10:this.Ua,e=!c.Xma();b!=this.kq()&&b!=this.TU()&&this.Cb&&(e=e&&this.Cb.Wa);this.Bfa(d,this.F[b],c,e)}else delete this.F[b],delete this.ma[b]}MCh(this);this.Bb=!1}};function NCh(a,b,c,d,e){if(a.getId()==d)return!0;d=e||0;return a.Vk()||Math.max(b.top-d,c)<=Math.min(b.bottom+d,c+a.getHeight())}
function MCh(a){var b=L7(a).J.bounds;b&&(a=a.E0(),!LCh&&!a||rd(LCh,a)||(LCh=a,a=(new W6("bounds")).setUserInitiated(!0).build(),b(a)))}m.poa=function(a){if(a&&!(a in this.F))if(L7(this).Qa){var b=this.wRa(a);null!==b&&(this.F[a]=b)}else if(b=this.Lj().Dc(a))this.F[a]=b.getElement().offsetTop;return a in this.F?this.F[a]:null};m.K8b=function(a,b){this.F[a]=b};m.qI=function(a){aAh(this);if(L7(this).Qa)OCh(this);else{var b=[];this.kq()&&b.push(this.kq());a&&b.push(a);PCh(this,b)}};
function OCh(a){L7(a).Qa&&(a.F={});var b=a.kq();PCh(a,b?[b]:[])}function PCh(a,b){a.Ka.C||a.Qa?HCh(a.Ea,b):a.Ea.layout(b)}m.MI=function(a){var b=Nd(a),c=Kd(this.C),d=b.length!=c;this.Wa=b.length>c;b=ja(b);for(c=b.next();!c.done;c=b.next()){c=c.value;var e=this.C[c];if(!e||a[c].y!==e.y){d=this.Wa=!0;break}}d&&(this.Ka.C?this.Za=a:KCh(this,a))};
function KCh(a,b){a.C=b;QCh(a);aAh(a);a.Wa&&(Pzh(a),a.Wa=!1);OCh(a);b=a.Ha.Oe();for(var c=0;c<b.length;c++){var d=a.R[b[c]];d&&a.wT(d)}a.qI();a.vy();a.Za=null}function QCh(a){var b=Object.keys(a.C);b.sort(u(a.M5b,a));a.Ha.clear();for(var c=e7(a.getContext()),d=0;d<b.length;d++){var e=b[d],f=z7(c,parseInt(e,10));f&&c.R(f)&&a.Ha.set(e,a.Ha.$d())}}
m.M5b=function(a,b){var c=parseInt(a,10),d=parseInt(b,10);b=this.C[c];a=this.C[d];c=z7(e7(this.getContext()),c);d=z7(e7(this.getContext()),d);return BCh(new CCh(c,b),new CCh(d,a))};m.yR=function(a){JCh.Ta.yR.call(this,a);QCh(this)};m.haa=function(a){a=w7(e7(this.getContext()),a.getId()).toString();var b=this.Ha.get(a);null==b&&(QCh(this),b=this.Ha.get(a));return b};
m.Bfa=function(a,b,c,d){var e=c.getElement();if(e){var f=!0;if(this.Pa){var h=this.Lj();f=h.rc();h=h.tc(f-1).getId();f=NCh(c,this.Pa,b,h,500)}f&&c.setVisible(!0);h=c.getId();var k=!1,l=!1;if(d&&this.ma[h]&&(k=1<Math.abs(a-this.ma[h].x),l=1<Math.abs(b-this.ma[h].y),!k&&!l))return;l=this.eb&&l&&this.Lj().rc()<RCh(this);k=this.eb&&k;if((d=d&&(l||k)&&c.isVisible()&&f)||this.J.C[h]){f=500;d||(f=(1-this.J.C[h].progress)*this.J.getDuration(h));Ush(this.J,h);var n=new vsh(e,[a,b],f,wN);Tsh(this.J,h,n,f,function(){return Hf(n)})}else Iv(e,
a,b),f||c.setVisible(!1);c.$Pa=-10==a;this.ma[h]=new Zl(a,b);this.F[h]=b}};function SCh(a,b){return(a=a.C[b])?a.y:null}m.wRa=function(a){a=w7(e7(this.getContext()),a);return SCh(this,a)};m.Doa=function(a,b){a=SCh(this,a);return null===a?null:new Zl(b?-10:this.Ua,a)};
m.E0=function(){var a=this.Lj();if(!a||!a.Gb())return null;var b=a.rc();if(!b)return null;var c=a.tc(0);b=a.tc(b-1);a=b.getElement();c=this.poa(c.getId());b=this.poa(b.getId());return null!=c&&null!=b?[c,210+this.Ua,b+a.offsetHeight,this.Ua]:null};function RCh(a){a=L7(a);return(a=null!=K(a.C,47)?K(a.C,47):null)?a:100};function TCh(a){this.C=a}v(TCh,k5);pa("docos.api.WriteFeedbackArgs",TCh,void 0);TCh.prototype.getSource=g("C");TCh.prototype.getSource=TCh.prototype.getSource;if(!UCh)var UCh=ea("");if(!VCh)var VCh=ea("");function U7(a,b){var c=this;A.call(this);this.dd=La();this.J={};this.F=new Nvh;var d=U7.__default_config;d&&Yd(this.J,d);a&&Yd(this.J,a);this.D=new ruh(this.J,b);this.F.sf("config",this.D);this.ma={};Ri(this.D.C,17)&&(this.Ya=new Avh,this.F.sf("errorReporter",this.Ya),this.tua=this.Ya.F.C(this.tua));this.xa=null;this.V={};this.Ha=null;this.Wa=!1;this.Za=!0;this.R=new qBh(this.F,this.D,this);WCh(this,"s",function(){c.C.Oa=!0;if(0<Kd(c.C.C)){XCh(c);var e=c.D.fk;e&&e(43082,3E4)}});WCh(this,"fe",u(this.Kja,
this));this.fc=new LBh(this,this.F);Lrh();this.tua()}v(U7,A);pa("Docos",U7,void 0);pa("docos.api.connect",function(a){return new U7(a)},void 0);m=U7.prototype;m.S_a=!1;m.rR=null;m.Ya=null;m.m5=null;m.Tt=null;m.Em=null;m.Bs=null;m.eVa=!1;m.oza=null;m.kt=null;m.DQ=null;
m.tua=function(){if(this.Ya)for(var a in U7.prototype)Ca(this[a])&&(this[a]=this.Ya.F.C(this[a]));this.$a=new Gvh(this.D);this.F.sf("imageManager",this.$a);a=new zCh(this.F);this.F.sf("subscriptionManager",a);this.Ca=new DAh(this.F);this.F.sf("impressionRecorder",this.Ca);this.eb=bhd(Qn());this.va(this.eb);this.Ed=new Cvh(this.eb);this.F.sf("relativeDateFormatter",this.Ed);this.C=new Yxh(this.D);this.F.sf("stream",this.C);this.Pa=new fBh(this.F);this.va(this.Pa);this.Ma=new Nn(this);this.va(this.Ma);
this.Ea=null;this.L=new gvh(this.F);this.F.sf("controller",this.L);this.H=new RAh(this.F,this.L);if(Ri(this.D.C,19)){this.Ea=new GBh(this.F);this.va(this.Ea);a=this.Ea;var b=u(this.Vc,this),c=u(this.Oa,this);a.C?a.C.HFa(u(a.bvb,a,b),u(a.avb,a,c)):c()}else this.Oa();this.DQ=YCh(this);this.F.sf("contactStore",this.DQ);this.Ua=this.D.ih().getEmail()?new mAh(this.DQ,this.D.ih(),this.Ca,this.D.bl):null;a=g7(this.F);this.O=this.wc=null;Tn("docs-aria-speakable")&&(this.wc=new odf(void 0,!0),this.O=new u$e(this.wc,
a),this.O.bind("docos-new-doco",new wBh),this.O.bind("docos-new-reply",new xBh),this.O.bind("docos-delete-doco",new BAh(this.C)),this.O.bind("docos-resolve-doco",new MBh(this.C)),this.O.bind("docos-speak-doco",new NBh(this.F,this.J.quoterenderfn)),this.O.bind("docos-edit-doco",new FAh));this.Qa=new wz(this);this.va(this.Qa);this.Qa.Nb(a.Ra("docos-cancel-insert-discussion"),rs,this.z1b).Nb(a.Ra("docos-delete-doco"),rs,this.dNb).Nb(a.Ra("docos-reject-doco-with-feedback"),rs,this.O1b).Nb(a.Ra("docos-convert-doco"),
rs,this.L1b).Nb(a.Ra("docos-before-highlight-doco"),rs,this.Sva).Nb(a.Ra("docos-highlight-doco"),rs,this.sua).Nb(a.Ra("docos-new-doco"),rs,this.eNb).Nb(a.Ra("docos-resolve-doco"),rs,this.fNb).Nb(a.Ra("docos-back-to-document"),rs,this.p1b).Nb(a.Ra("docos-new-reply"),rs,this.f3b).Nb(a.Ra("docos-write-feedback"),rs,this.W4b).Nb(a.Ra("docos-disable-smart-todo-feature"),rs,this.T1b).Nb(a.Ra("docos-vote-doco"),rs,this.S4b).Nb(a.Ra("docos-vote-reply"),rs,this.T4b).Nb(a.Ra("mouse-hover-doco-view"),rs,this.b3b);
this.Ma.listen(this.C,"dd",this.Z2b).listen(this.C,"af",this.d1b).listen(this.C,"bu",this.Y2b).listen(this.C,"p",this.o3b).listen(this.D,"r",this.Eja)};function YCh(a){var b=Hjd("client").then(function(){var c=qa("gapi.config.update");a.D.Tma&&c("googleapis.config/sessionIndex",a.D.Tma);c("googleapis.config/auth/useFirstPartyAuth",!0);c("googleapis.config/auth/useFirstPartyAuthV2",!0);return qa("gapi.client")});return new zAh(a.D,JBh(a.D,b),a.dd)}
function XCh(a){a.DQ&&!a.DQ.C&&juh(a.D.H)&&vuh(a.D)&&Wwh(a.DQ)}function ZCh(a){a.Bs||($Ch(a),a.Bs=new vCh(a.F,Qn(a.D.O),a.D.Ul,a.D.Wd),a.Ma.listen(a.Bs,"dnd",a.Jqb),a.Ma.listen(a.Bs,"initial-load-complete",a.CFb),a.Ma.listen(a.Bs,"create-draft",a.Ae));return a.Bs}m.Jqb=function(){this.Cb()};m.CFb=function(){var a=S7(this,"initial-pane-render-done");if(a&&this.oza){var b=La()-this.oza;a(new Rsh("initial-pane-render-done",b))}};
m.find=function(a){var b=this.C.J;this.C.J=a;var c=this.C,d=this.D,e={},f=c.J;c=Wd(c.C);if(f&&0!=f.length)for(var h in c){var k=c[h];if(!k.isResolved()&&k.Xy()&&!Wuh(k)){var l=uyh(k,f,d);k=Wd(k.D);for(var n in k)l+=uyh(k[n],f,d);0<l&&(e[h]=l)}}a!=b&&(a=this.V,Yd(a,e),this.Tt.yz(a));this.V=e;e={};for(var q in this.V)e[w7(this.C,q)]=this.V[q];return e};U7.prototype.find=U7.prototype.find;U7.prototype.Wd=function(){this.C.J&&(this.C.J=null,this.Tt.yz(this.V,!0),this.V={})};U7.prototype.clearFind=U7.prototype.Wd;
U7.prototype.Jy=function(){var a=this.D;var b=tyh(this.C,a);b?(b=b.getKey(),a=(a=wyh(b,a))?jo(a).textContent:null):a=null;return a};U7.prototype.getSelectedMatchA11yContext=U7.prototype.Jy;U7.prototype.highlightNext=function(a,b,c){this.Em&&this.Em.highlightNext(!!a,b,c)};U7.prototype.highlightNext=U7.prototype.highlightNext;U7.prototype.highlightPrevious=function(a,b,c){this.Em&&this.Em.highlightPrevious(!!a,b,c)};U7.prototype.highlightPrevious=U7.prototype.highlightPrevious;
U7.prototype.select=function(a,b){var c=z7(this.C,a);a=c?c.getId():"";b=c?new iZ(a,b):null;c=this.C.ma;if(!(!b&&!c||b&&c&&b.getKey()==c.getKey()&&b.getValue()==c.getValue())){var d=this.C;b&&(b.getKey(),b.getValue());d.ma=b;b=c?this.Tt.Dc(c.getKey()):null;c=this.Tt.Dc(a);b&&b!=c&&b.yz();if(c){c.I8()&&(b=syh(e7(this.F),this.D),c.expand(b?b.getKey():void 0));c.yz();b=ryh(this.C,this.Tt);d=g7(this.F);var e=Nsh(S6(a));e.C=b?b.start:0;e=U6(e);d.tf("docos-before-highlight-doco").wb(e);D7(e7(this.F),a);
d.tf("docos-highlight-doco").wb(e);if(b&&cwh(c)&&(a=c.Hb())){c=Tv(a).height;d=a.scrollTop;e=b.getLength()<=c;var f=0>b.start,h=b.end>c;a.scrollTop=d+(e&&f||!e&&!f?b.start:e&&h||!e&&!h?b.end-c:0)}}}};U7.prototype.select=U7.prototype.select;U7.prototype.i1a=function(){var a=this.C.ma;if(a){this.C.ma=null;(a=this.Tt.Dc(a.getKey()))&&a.yz();a=g7(this.F);var b=Nsh(S6(""));b.C=0;b=U6(b);a.tf("docos-before-highlight-doco").wb(b);D7(e7(this.F),null);a.tf("docos-highlight-doco").wb(b)}};
U7.prototype.unselect=U7.prototype.i1a;U7.prototype.K1a=function(){var a=this.C,b=new Nxh(a,"c"),c;for(c in a.C)b.C.push(new Lxh(c,void 0,void 0,void 0,void 0));a.dispatchEvent(Oxh(b));a.flush(!0)};U7.prototype.updateAll=U7.prototype.K1a;U7.prototype.a_=function(){return!!Ri(this.D.C,19)&&!!this.D.fc&&!this.D.Rc};U7.prototype.isSavingToOfflineStorage=U7.prototype.a_;U7.prototype.cN=function(){return 0<Fxh.$d()};U7.prototype.hasUnpostedDocos=U7.prototype.cN;
U7.prototype.dN=function(){for(var a=Nd(this.C.L),b=0,c;c=a[b];b++){var d=this.C;if((c=fyh(d,c))&&(c.Zj()?wvh(d,c):d.R(c)))return!0}return!1};U7.prototype.hasVisibleAnchoredDocos=U7.prototype.dN;U7.prototype.u6b=function(a){var b=this.C,c=b.V;b.V=a;if(c!=b.V&&this.Tt&&(a=this.Tt,b=e7(a.context),Kd(b.C))){for(c=a.rc()-1;0<=c;--c){var d=a.tc(c).getId();hCh(a,d)}b=Wd(b.C);for(d in b)fCh(a,d);a.D.OI();eCh(a);a.D.qI()}};
U7.prototype.Eja=function(){aDh(this);0<Kd(this.C.C)&&XCh(this);if(this.Bs)if("none"!=this.D.$a){var a=this.Bs.D;a.D.OI();eCh(a)}else this.Bs.z5()};U7.prototype.setResolvedAnchoredDocosVisible=U7.prototype.u6b;U7.prototype.b_=function(a,b,c){return bDh(this,a,b?b:void 0,c)};U7.prototype.newDoco=U7.prototype.b_;
U7.prototype.OS=function(a,b,c){if(null==a||zd(a))throw Error("Doco anchor data cannot be empty or null.");switch(b.getNewDocoType()){case "instant-doco":case "draft":case "client-integrated-draft":var d=b.getPosition()?b.getPosition():void 0,e=b.getText()?b.getText():void 0,f=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;a=cDh(this,a,d,b.getNewDocoType(),e,f,b.getWasSmartTodo());kp(a,c);break;case "smart-todo":d=b.getText();e=b.getAssigneeEmail();f=this.H;b=b.mhb();a=P7(f,u(f.gKb,f,a,d,e,b));
kp(a,c);break;case "discussion":d=b.getText();e=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;f=this.H;b=b.getWasSmartTodo();a=P7(f,u(f.dKb,f,a,d,e,b));kp(a,c);break;default:throw Error("Unknown NewDocoArgs type.");}};U7.prototype.interceptingNewDoco=U7.prototype.OS;function bDh(a,b,c,d,e,f,h){dDh(a,b,c);b=ivh(a.L,b,d||"draft",e,f,h);c&&0<b&&(d={},d[b]=c,V7(a).nU(d));return b}
function cDh(a,b,c,d,e,f,h){dDh(a,b,c);return kp(SAh(a.H,b,d||"draft",e,f,h),u(function(k){if(c&&0<k){var l={};l[k]=c;V7(this).nU(l)}return k},a))}function dDh(a,b,c){if(!b)throw Error("Doco anchor data cannot be empty or null.");a.Bb();c&&(a.xa=c)}
U7.prototype.c_=function(a,b){if(null==a||zd(a))throw Error("Doco anchor data cannot be empty or null.");switch(b.getNewDocoType()){case "instant-doco":case "draft":case "client-integrated-draft":var c=b.getPosition()?b.getPosition():void 0,d=b.getText()?b.getText():void 0,e=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;return bDh(this,a,c,b.getNewDocoType(),d,e,b.getWasSmartTodo());case "smart-todo":return c=b.getText(),d=b.getAssigneeEmail(),lvh(this.L,a,c,d,b.mhb());case "discussion":return c=
b.getText(),d=b.getAssigneeEmail()?b.getAssigneeEmail():void 0,mvh(this.L,a,c,d,b.getWasSmartTodo());default:throw Error("Unknown NewDocoArgs type.");}};U7.prototype.newDoco2=U7.prototype.c_;U7.prototype.QS=function(a,b,c){if(!a||!b)throw Error("Anchor data and suggestion id cannot be empty or null.");kp(kp(VAh(this.H,void 0,a,void 0,void 0,b,void 0),u(function(d){0<d&&this.Kb(d);return d},this)),c)};U7.prototype.interceptingNewSuggestion=U7.prototype.QS;
U7.prototype.fN=function(a,b,c){kp(kp(WAh(this.H,a,!0,b),u(function(d){eDh(this,a);return d},this)),c)};U7.prototype.interceptingAcceptSuggestion=U7.prototype.fN;U7.prototype.Bd=function(a){return xvh(this.L,a,!0)};U7.prototype.acceptSuggestions=U7.prototype.Bd;U7.prototype.TS=function(a,b,c){kp(kp(WAh(this.H,a,!1,b),u(function(d){eDh(this,a);return d},this)),c)};U7.prototype.interceptingRejectSuggestion=U7.prototype.TS;U7.prototype.gI=function(a,b){var c=this.H;a=P7(c,u(c.oCa,c,a,!0));kp(a,b)};
U7.prototype.interceptingAcceptSuggestions=U7.prototype.gI;U7.prototype.Lia=function(a,b){b=tvh(this.L,a,!1,b);eDh(this,a);return b};U7.prototype.rejectSuggestion=U7.prototype.Lia;function eDh(a,b){(b=z7(a.C,b))&&a.Em&&a.Em.yR(b.getId())}U7.prototype.Tja=function(a){return xvh(this.L,a,!1)};U7.prototype.rejectSuggestions=U7.prototype.Tja;U7.prototype.XS=function(a,b){var c=this.H;a=P7(c,u(c.oCa,c,a,!1));kp(a,b)};U7.prototype.interceptingRejectSuggestions=U7.prototype.XS;
U7.prototype.NS=function(a,b){var c=this.H;a=P7(c,u(c.k$a,c,a));kp(a,b)};U7.prototype.interceptingDeleteReply=U7.prototype.NS;U7.prototype.JS=function(a,b){var c=this.H;a=P7(c,u(c.j$a,c,a));kp(a,b)};U7.prototype.interceptingDeleteReplies=U7.prototype.JS;U7.prototype.Oi=function(a){return(a=z7(this.C,a))?s7(a):null};U7.prototype.getAnchorData=U7.prototype.Oi;U7.prototype.Sy=function(a){return(a=z7(this.C,a))?a.zG():null};U7.prototype.getSuggestionId=U7.prototype.Sy;U7.prototype.Hl=function(){return this.D.ih().getId()};
U7.prototype.getCurrentAuthor=U7.prototype.Hl;U7.prototype.bl=function(a){return(a=z7(this.C,a))?a.Qv().getId():null};U7.prototype.getAuthor=U7.prototype.bl;U7.prototype.Gl=function(a){return(a=z7(this.C,a))?a.Qv().getName():null};U7.prototype.getAuthorName=U7.prototype.Gl;U7.prototype.zn=function(a){"string"===typeof a&&(a=this.Ka(a));return fDh(this).D.G9(a)};U7.prototype.getDocoPosition=U7.prototype.zn;U7.prototype.getDocoMaxHeight=function(a){return V7(this).getDocoMaxHeight(a)};
U7.prototype.getDocoMaxHeight=U7.prototype.getDocoMaxHeight;U7.prototype.jLb=function(a,b){V7(this).Yma(a,b)};U7.prototype.setDocoMaxHeight=U7.prototype.jLb;U7.prototype.Lh=function(a){a=gDh(this,a);V7(this).MI(a)};U7.prototype.flushAnchors=U7.prototype.Lh;U7.prototype.qh=function(a){V7(this).MI(a)};U7.prototype.flushDocoPositions=U7.prototype.qh;U7.prototype.j2a=function(a){a=gDh(this,a);V7(this).nU(a)};U7.prototype.updateAnchors=U7.prototype.j2a;U7.prototype.s2a=function(a){V7(this).nU(a)};
U7.prototype.updateDocoPositions=U7.prototype.s2a;U7.prototype.Ve=function(a){V7(this).E9(Sc(a,this.Ka,this))};U7.prototype.deleteAnchors=U7.prototype.Ve;U7.prototype.wf=function(a){V7(this).E9(a)};U7.prototype.deleteDocoPositions=U7.prototype.wf;U7.prototype.z2a=function(a){this.Em?this.Em.F0(a):this.Ha=a};U7.prototype.updateViewport=U7.prototype.z2a;U7.prototype.Pf=da("Wa");U7.prototype.enableAnchoredDocoAnimations=U7.prototype.Pf;
U7.prototype.Fs=function(){var a=this.D.L;return(a=a?this.C.ud(a):void 0)?s7(a):""};U7.prototype.getLinkedAnchor=U7.prototype.Fs;U7.prototype.Ns=function(){var a=this.D.L;return null===a?0:w7(this.C,a)};U7.prototype.getLinkedDoco=U7.prototype.Ns;U7.prototype.iT=function(){var a=this.D.L;return null===a?!1:!!this.C.F[a]};U7.prototype.isLinkedDocoDeleted=U7.prototype.iT;function gDh(a,b){var c={};Gd(b,function(d,e){(e=this.Ka(e))&&(c[e]=d)},a);return c}U7.prototype.JIb=function(a){this.C.Ka=a};
U7.prototype.setActiveSuggestions=U7.prototype.JIb;U7.prototype.Sn=function(){var a=this.C.O;return a&&a.Zj()?a.getId():null};U7.prototype.getHighlightedSuggestionDocoId=U7.prototype.Sn;U7.prototype.Ka=function(a){return(a=fyh(this.C,a))?w7(this.C,a.getId()):0};U7.prototype.Y9a=function(){if(!this.D.O)throw Error("Pane div not specificed in config.");this.oza=La();ZCh(this).Gb()&&(Hf(this.Bs),this.Bs=null);LIe(this.D.O,!1);ZCh(this).render(this.D.O)};U7.prototype.renderPaneSurface=U7.prototype.Y9a;
U7.prototype.kT=function(){return ZCh(this).D.RFa()};U7.prototype.isPaneSurfaceRendered=U7.prototype.kT;function V7(a){a.Em||(a.Em=hDh(a),a.Ha&&(a.Em.F0(a.Ha),a.Ha=null));return a.Em}function fDh(a){if(!a.Tt){$Ch(a);var b=V7(a);a.Tt=new cCh(a.F,b,u(a.C.R,a.C),b.qa())}return a.Tt}function $Ch(a){if(!a.S_a){a.S_a=!0;var b=a.D.O,c=a.D.Ca;b&&(a.D.wc||Xv(iKd(""),b),a.D.D.install(b));!c||b&&Sn(b)==Sn(c)||(a.D.wc||Xv(iKd(""),c),a.D.D.install(c))}}
U7.prototype.Mka=function(){if(!this.D.Ca)throw Error("Anchor surface div not specified in config.");fDh(this).Gb()&&(Hf(this.Tt),this.Tt=null,hDh(this));LIe(this.D.Ca,!1);fDh(this).render(this.D.Ca)};U7.prototype.renderAnchorSurface=U7.prototype.Mka;
function hDh(a){var b=a.D.ej,c=JCh;"absolute"==b&&(c=cAh);if(a.Em&&(a.Em instanceof c||a.Em.oU()instanceof c))return a.Em;var d=Qn(a.D.Ca);c=new c(a.F,d);d=a.D.R;!d||b&&"vertical"!=b||(c=new iBh(c,d));a.Em&&(a.Em.Zma(c),Hf(a.Em));a.Em=c;a.Em.cya(a);a.va(a.Em);return a.Em}
U7.prototype.rla=function(){if(!this.D.Ua)throw Error("Instant docos div not specified in config.");this.kt&&this.kt.Gb()&&(Hf(this.kt),this.kt=null);this.kt||this.J["enable-gsuite-embedding"]||(this.kt=new PAh(this.F,Qn(this.D.Ua)),this.Ma.listen(this.kt,"create-draft",this.Bc),this.kt.render(this.D.Ua))};U7.prototype.renderInstantDocosButton=U7.prototype.rla;U7.prototype.lcc=function(a,b,c){this.kt&&QAh(this.kt,a,b,c)};U7.prototype.showInstantDocosButtonAt=U7.prototype.lcc;
U7.prototype.Bb=function(a){this.kt&&this.kt.nf(a)};U7.prototype.hideInstantDocosButton=U7.prototype.Bb;U7.prototype.ej=function(){return this.Em?this.Em.E0():null};U7.prototype.getAnchorSurfaceBounds=U7.prototype.ej;U7.prototype.setOption=function(a,b){this.J[a]!==b&&(this.J[a]=b,this.D.C0(this.J))};U7.prototype.setOption=U7.prototype.setOption;U7.prototype.fD=function(){if(this.Bs){var a=this.Bs;a.C.xa&&a.C.xa.focus()}};U7.prototype.grabFocus=U7.prototype.fD;
U7.prototype.X0b=function(a,b,c){this.J.listeners||(this.J.listeners={});this.J.listeners[a]=c?u(b,c):b;this.D.C0(this.J)};U7.prototype.setListener=U7.prototype.X0b;function iDh(a,b){return b&&a.C.R(b)?b.getId():null}U7.prototype.Vm=function(a){return(a=z7(this.C,a))?a.nx()?a.nx().getTime():null:null};U7.prototype.getDocoCreationTime=U7.prototype.Vm;
U7.prototype.eN=function(a,b){var c=g7(this.F);a=fyh(this.C,a);a=iDh(this,a);var d=Nsh(S6(a||""));b&&(b=this.D.Ka?this.Bs.D.getId():fDh(this).getId(),T6(d,b));c.tf("docos-before-highlight-doco").wb(U6(d));D7(e7(this.F),a);c.tf("docos-highlight-doco").wb(U6(d))};U7.prototype.highlightAnchor=U7.prototype.eN;
U7.prototype.Kb=function(a,b){var c=g7(this.F);a=z7(this.C,a);a=iDh(this,a);var d=Nsh(S6(a||""));b&&(b=this.D.Ka?this.Bs.D.getId():fDh(this).getId(),d=T6(d,b));c.tf("docos-before-highlight-doco").wb(U6(d));D7(e7(this.F),a);c.tf("docos-highlight-doco").wb(U6(d))};U7.prototype.highlightDoco=U7.prototype.Kb;U7.prototype.D2a=function(a){var b=g7(this.F);a=z7(this.C,a);a=iDh(this,a);if(null!=a){var c=this.C.ud(a);c&&x7(this.Ca,q7(p7(o7(43045),c)));b.tf("docos-speak-doco").wb(a)}};
U7.prototype.verbalizeDoco=U7.prototype.D2a;U7.prototype.KL=function(a){return!!fyh(this.C,a)};U7.prototype.hasDocoForAnchorId=U7.prototype.KL;U7.prototype.FL=function(a){return!!z7(this.C,a)};U7.prototype.hasDoco=U7.prototype.FL;U7.prototype.ev=function(a){return(a=fyh(this.C,a))?a.Zj()?!wvh(this.C,a):a.isResolved():!1};U7.prototype.getResolvedForAnchorId=U7.prototype.ev;U7.prototype.bT=function(a){return(a=z7(this.C,a))?a.isResolved():!1};U7.prototype.isDocoResolved=U7.prototype.bT;
U7.prototype.Ul=function(){var a=hyh(this.C),b={3:{},1:{},2:{}};b.draft=K(a.C,2);b["smart-todo"]=K(a.C,14);b.total=K(a.C,1);var c=b[3];c.open=K(a.C,11);c.resolved=K(a.C,8);c.total=K(a.C,5);c=b[1];c.open=K(a.C,9);c.resolved=K(a.C,6);c.total=K(a.C,3);c=b[2];c.accepted=K(a.C,12);c.open=K(a.C,10);c.rejected=K(a.C,13);c.resolved=K(a.C,7);c.total=K(a.C,4);return b};U7.prototype.getDocoCounts=U7.prototype.Ul;U7.prototype.Bm=function(){return hyh(this.C).C.clone().serialize()};
U7.prototype.getDocoCounts2=U7.prototype.Bm;U7.prototype.wj=function(){return V7(this).$ma().C.clone().serialize()};U7.prototype.getAnchoredDocoCounts=U7.prototype.wj;U7.prototype.fk=function(){return Nd(this.C.L)};U7.prototype.getAnchors=U7.prototype.fk;U7.prototype.getDocoHandles=function(){return this.C.getDocoHandles()};U7.prototype.getDocoHandles=U7.prototype.getDocoHandles;U7.prototype.Cb=function(){this.D.JI()&&(this.m5||(this.m5=new zBh(this.F),this.va(this.m5)),this.m5.setVisible(!0))};
U7.prototype.displayNotificationControlDialog=U7.prototype.Cb;U7.prototype.Kc=function(a){return a.x};U7.prototype.Rc=function(a){return a.y};function aDh(a){if(a.eVa&&!Nrh(a.F,"netIo")){var b=gBh(a.Pa);b&&(a.F.sf("netIo",b),a.Ya&&(a.Ya.H=b),b=a.R,suh(b.C)?b.C.Bd?sBh(b.F,"r"):rBh(b)&&tBh(b):b.L(null),Nrh(a.F,"subscriptionManager")&&Ovh(a.F).F.resolve())}}U7.prototype.ge=function(a){this.R.H.get("netIo").C.MFa(a)};U7.prototype.connectBrowserChannel=U7.prototype.ge;
U7.prototype.Kja=function(){var a=S7(this,"net-error");a&&a((new W6("net-error")).build());this.D.ev&&(this.setOption("accessLevel","readonly"),a=ZCh(this),a.Ca||(a.Ca=!0,wCh(a)))};U7.prototype.Vc=function(){sBh(this,"r");this.Oa()};U7.prototype.Oa=function(){this.eVa=!0;aDh(this)};U7.prototype.Ija=function(a){WCh(this,"r",a)};U7.prototype.onReady=U7.prototype.Ija;U7.prototype.Gja=function(a){WCh(this,"s",a)};U7.prototype.onInitialSyncSuccess=U7.prototype.Gja;
U7.prototype.Fja=function(a){WCh(this,"e",a)};U7.prototype.onInitialSyncError=U7.prototype.Fja;U7.prototype.Ae=function(){var a=this.D.J["create-draft"];if(a){var b=(new W6("create-draft")).setApiEventArgs(new O7(!1)).build();a(b)}else throw Error("Can not create a discussion because the editor did not provide a handler.");};U7.prototype.Bc=function(){var a=this.D.J["create-draft"];if(a){var b=(new W6("create-draft")).setApiEventArgs(new O7(!0,new Zl(0,this.kt.D.H),this.kt.D.O)).build();a(b)}};
function WCh(a,b,c){if(b in a.ma){var d=a.ma[b];null===d?c():a.ma[b]=fe(d,c)}else a.ma[b]=c}function sBh(a,b){var c=a.ma[b];null!=c&&c();a.ma[b]=null}U7.prototype.Wcc=function(){this.Pb()};U7.prototype.tickle=U7.prototype.Wcc;U7.prototype.Pb=function(){a:{var a=this.R;if(suh(a.C)){if(!a.O){if(!a.D&&!rBh(a))break a;tBh(a)}kBh(a.D,a.C.Oca?1:void 0)}}};U7.prototype.sync=U7.prototype.Pb;U7.prototype.xi=function(){uBh(this.R)};U7.prototype.fullSync=U7.prototype.xi;
U7.prototype.Od=function(){var a=this.R;suh(a.C)&&(a.D.H=!0)};U7.prototype.blockFutureSync=U7.prototype.Od;U7.prototype.Ycc=function(){var a=this.R;suh(a.C)&&(a.D.H=!1)};U7.prototype.unblockFutureSync=U7.prototype.Ycc;U7.prototype.hT=function(){var a=this.R;return suh(a.C)?a.D.H:!1};U7.prototype.isFutureSyncBlocked=U7.prototype.hT;U7.prototype.xy=function(){var a=this.D;return null!=a.D0?a.D0:6E4};U7.prototype.getRetryBackoffThreshold=U7.prototype.xy;U7.prototype.$S=function(){return this.D.A9};
U7.prototype.isBrowserChannelEnabled=U7.prototype.$S;U7.prototype.gT=function(){return!!Ri(this.D.C,30)};U7.prototype.isDocsStreamHeaderEnabled=U7.prototype.gT;U7.prototype.jT=function(){return tuh(this.D)};U7.prototype.isNewDocosStreamPaneUiEnabled=U7.prototype.jT;U7.prototype.tM=function(){return byh(this.C)};U7.prototype.hasPendingContent=U7.prototype.tM;m=U7.prototype;
m.z1b=function(a){var b=a.data;a=Ouh(Nuh(43011),b.zj);var c=null!=b.Dm;c&&Puh(a,b.Dm);kvh(hvh(this.F),Quh(a));kp(UAh(this.H,b.zj),u(function(d){if(d){d=(d=this.C.O)&&d.getId()!==b.zj;d||(this.Sva(new ss(c?new Ksh("",void 0,void 0,void 0,b.Dm):R6())),this.sua(new ss(c?new Ksh("",void 0,void 0,void 0,b.Dm):R6())));var e=S7(this,"deleted");if(e&&b.Dm&&b.$o){var f=(new W6("deleted")).addAnchorId(b.Dm).addDocoHandle(b.$o).setUserInitiated(!0).build();e(f);this.rR=null}d&&(this.rR=this.C.O)}},this))};
m.dNb=function(a){a=a.data;jDh(this,a.$o,a.zj,a.lR)};m.O1b=function(a){a=a.data;jDh(this,a.$o,a.zj,a.lR,a.mgb)};function jDh(a,b,c,d,e){var f=S7(a,"before-doco-deleted");if(f&&b){var h=s7(z7(a.C,b));d=e?new HAh(d,e):new AAh(d);b=(new xAh("before-doco-deleted")).addAnchorId(h).addDocoHandle(b).setUserInitiated(!0).setApiEventArgs(d).build();f(b);if(b.C)return}kDh(a,c,!0,e)}
m.L1b=function(a){var b=a.data;if((a=S7(this,"converted"))&&b){var c=s7(z7(this.C,b.$o)),d=new N7(c,b.QUa,b.lR);b=(new xAh("converted")).addAnchorId(c).addDocoHandle(b.$o).setUserInitiated(!0).setApiEventArgs(d).build();a(b)}};m.cNb=function(a){(a=z7(this.C,a))&&kDh(this,a.getId(),!1)};U7.prototype.deleteDoco=U7.prototype.cNb;function kDh(a,b,c,d){var e=a.C.ud(b),f=w7(a.C,b);e=s7(e);var h=a.H;b=P7(h,u(h.h$a,h,b,d));kp(b,u(a.J2a,a,e,f,c))}
U7.prototype.J2a=function(a,b,c,d){if(d){d=S7(this,"before-selected");var e=S7(this,"selected"),f=S7(this,"deleted");if(a&&b){if(d){var h=(new W6("before-selected")).setUserInitiated(c).build();d(h)}e&&(h=(new W6("selected")).setUserInitiated(c).build(),e(h));f&&(h=(new W6("deleted")).addAnchorId(a).addDocoHandle(b).setUserInitiated(c).build(),f(h));this.rR=null}}};U7.prototype.a1a=function(a){return ovh(this.L,a)};U7.prototype.undoDeleteDoco=U7.prototype.a1a;
U7.prototype.uLb=function(a){this.Za=a;P(fDh(this).getElement(),a)};U7.prototype.setDocosGutterVisibility=U7.prototype.uLb;U7.prototype.eT=g("Za");U7.prototype.isDocosGutterVisible=U7.prototype.eT;U7.prototype.Vg=function(){var a=this.fc;a.C=a.H.H.C;a.F.setOption("accessLevel","readonly")};U7.prototype.enterReanchorMode=U7.prototype.Vg;U7.prototype.igb=function(){var a=this.fc;a.D.V=!1;null!=a.C&&(a.F.setOption("accessLevel",a.C),a.C=null)};U7.prototype.resetReanchorMode=U7.prototype.igb;
U7.prototype.ZS=function(a,b){var c=this.H;a=P7(c,u(c.Abc,c,a));kp(a,b)};U7.prototype.interceptingUndoDeleteDoco=U7.prototype.ZS;U7.prototype.wbc=function(a,b){this.L.LFa(a,new L6(b))};U7.prototype.setSuggestionQuote=U7.prototype.wbc;U7.prototype.YS=function(a,b){var c=this.H;b=new L6(b);P7(c,u(c.d9b,c,a,b))};U7.prototype.interceptingSetSuggestionQuote=U7.prototype.YS;
U7.prototype.Ty=function(a){a=z7(this.C,a);if(!a)return null;if(!a.Zj())throw Error("Attempting to get model diff summary from a non-suggestion.");return a.S1()};U7.prototype.getSuggestionQuote=U7.prototype.Ty;U7.prototype.jh=function(a){return this.Ua?nAh(this.Ua,a):new lAh(Mo())};U7.prototype.findAssignee=U7.prototype.jh;U7.prototype.Ucc=function(){Pvh(this.F).C=!0};U7.prototype.startBatchEvent=U7.prototype.Ucc;U7.prototype.Fg=function(){var a=Pvh(this.F);a.C&&(a.C=!1,a.D.dispatchEvent(null))};
U7.prototype.endBatchEvent=U7.prototype.Fg;m=U7.prototype;m.fNb=function(a){a=a.data;var b=this.H;b=P7(b,u(b.u7b,b,a.C,a.D,a.F));kp(b,u(this.P5b,this,a))};
m.P5b=function(a,b){if(b){b=S7(this,"before-selected");var c=S7(this,"selected");if(c){var d=this.C.ud(a.C),e=w7(this.C,a.C);d&&d.Xy()&&e&&(a.D?(b&&(a=(new W6("before-selected")).setUserInitiated(!0).build(),b(a)),a=(new W6("selected")).setUserInitiated(!0).build(),c(a),this.rR=null):(b&&(a=(new W6("before-selected")).addAnchorId(s7(d)).addDocoHandle(e).setUserInitiated(!0).build(),b(a)),a=(new W6("selected")).addAnchorId(s7(d)).addDocoHandle(e).setUserInitiated(!0).build(),c(a),this.rR=d))}}};
m.S4b=function(a){a=a.data;var b=this.H;P7(b,u(b.scc,b,a.C,a.D))};m.T4b=function(a){a=a.data;var b=this.H;P7(b,u(b.tcc,b,a.C,a.D,a.F))};m.p1b=function(a){var b=this.D.Ve;b&&(a=this.C.ud(a.data.zj))&&b(s7(a),!0)};
function lDh(a,b,c){var d=S7(a,c);if(d){var e=a.C.ud(b.C)||null,f=b.F;if(e!=a.rR||"number"===typeof f){var h=new W6(c),k=w7(a.C,b.C);e&&e.Xy()&&k&&h.addAnchorId(s7(e)).addDocoHandle(k);k=new k5;var l=b.R;null!=l?k=new vAh(l):"number"===typeof f?k=new uKg(f):void 0!==b.H&&(k=new IAh(b.H));f=!!e&&!a.C.R(e);h.setNonAnchored(f).setUserInitiated(b.L).setApiEventArgs(k);d(h.build())}"selected"==c&&(a.rR=e)}}m.Sva=function(a){lDh(this,a.data,"before-selected")};
m.sua=function(a){var b=a.data;lDh(this,b,"selected");if(a=this.C.ud(b.C)){b="number"===typeof b.F?4:b.D==fDh(this).getId()?1:b.D==ZCh(this).D.getId()?2:3;var c=this.Ca;a=p7(o7(43044),a);a.H=b;x7(c,q7(a))}};m.f3b=function(a){a=a.data;var b=a.C,c=this.H;P7(c,u(c.N5a,c,a.D,a.F,null,b?b:void 0))};m.W4b=function(a){var b=a.data;if(a=S7(this,"write-feedback"))b=(new W6("write-feedback")).setUserInitiated(!0).setApiEventArgs(new TCh(b.source)).build(),a(b)};
m.T1b=function(){var a=S7(this,"disable-smart-todo-feature");if(a){var b=(new W6("disable-smart-todo-feature")).setUserInitiated(!0).build();a(b)}};m.eNb=function(a){var b=a.data;kp(VAh(this.H,b.Vab,b.Dm,b.text,b.quote,b.Sha,b.C_),u(function(c){if(0<c){var d=b.Dm,e=b.$o,f=S7(this,"posted");f&&d&&e&&(d=(new W6("posted")).addAnchorId(d).addDocoHandle(e).setUserInitiated(!0).build(),f(d));this.Sva(new ss(R6()));this.sua(new ss(R6()))}return c},this))};
m.b3b=function(a){var b=S7(this,"hover");if(b){a=a.data;var c=Qsh("hover").setNonAnchored(!a.sKb).setUserInitiated(!0);if(a.BKb){var d=this.C.ud(a.zj);c.addAnchorId(d?s7(d):"");c.addDocoHandle(w7(this.C,a.zj))}b(c.build())}};m.Z2b=function(a){if("dd"==a.type){var b=S7(this,"deleted");if(b&&a.C&&a.D&&(a.Lq||this.D.Ha)&&a.V&16){var c=(new W6("deleted")).addDocoHandle(a.D);a.Lq&&c.addAnchorId(a.Lq);a=c.build();b(a)}}};
m.Y2b=function(a){if("bu"==a.type){var b=Qsh("created");this.xa&&(b.setApiEventArgs(new CAh(this.xa,a.C[0].Dm)),this.xa=null);var c=Qsh("resolved"),d=Qsh("unresolved");b=GAh(b,a.C,8);c=GAh(c,a.C,2);d=GAh(d,a.C,4);mDh(this,"created",b);mDh(this,"resolved",c);mDh(this,"unresolved",d)}};m.o3b=function(a){if("p"==a.type&&(a=S7(this,"pending"))){var b=(new W6("pending")).setUserInitiated(!0).build();a(b)}};
m.d1b=function(){var a=S7(this,"view-updated");if(a){var b=(new W6("view-updated")).setUserInitiated(!0).build();a(b)}};function mDh(a,b,c){a=S7(a,b);!c.isEmpty()&&a&&a(c.build())}function S7(a,b){return a.isDisposed()?null:a.D.J[b]||null}
m.Ja=function(){delete this.Em;delete this.D;delete this.DQ;delete this.L;delete this.Ya;delete this.Ma;delete this.$a;delete this.Pa;delete this.m5;delete this.Ea;delete this.C;delete this.Qa;Hf(this.kt);delete this.kt;Hf(this.Tt);delete this.Tt;Hf(this.Bs);delete this.Bs;U7.Ta.Ja.call(this);Hf(this.F);delete this.F};pa("Docos",U7,void 0);pa("Docos.Point",Zl,void 0);pa("Docos.Point.getX",U7.prototype.Kc,void 0);pa("Docos.Point.getY",U7.prototype.Rc,void 0);
pa("Docos.AbstractAlteredDocoArgs",Azh,void 0);pa("Docos.NewDraftArgs",Fzh,void 0);pa("Docos.LayoutType.ABSOLUTE","absolute",void 0);pa("Docos.LayoutType.VERTICAL","vertical",void 0);pa("Docos.UiVersion.LEGACY","legacy",void 0);pa("Docos.UiVersion.MATERIAL_BLUE","material_blue",void 0);pa("Docos.UiVersion.MATERIAL_GREEN","material_green",void 0);pa("Docos.UiVersion.MATERIAL_YELLOW","material_yellow",void 0);pa("Docos.OptionName.ACCESS_LEVEL","accessLevel",void 0);
pa("Docos.OptionName.ACL_CHECK_FN","acl-check-fn",void 0);pa("Docos.OptionName.ACL_FIX_FN","acl-fix-fn",void 0);pa("Docos.OptionName.ANCHOR_DIV","anchordiv",void 0);pa("Docos.OptionName.ANCHOR_IS_ORPHANED_FN","anchor-is-orphaned-fn",void 0);pa("Docos.OptionName.ANCHOR_MUTATE_FN","anchor-mutate-fn",void 0);pa("Docos.OptionName.ANCHOR_SHADOW","anchor-shadow",void 0);pa("Docos.OptionName.AUTO_COMPLETE_FACTORIES","auto-complete-factories",void 0);
pa("Docos.OptionName.BROWSER_APP_CLIPBOARD","browser-app-clipboard",void 0);pa("Docos.OptionName.DRIVE_ID","drive-id",void 0);pa("Docos.OptionName.DOCO_LINK_BASE_URL","doco-link-base-url",void 0);pa("Docos.OptionName.DEFER_FIRST_SYNC","defer-first-sync",void 0);pa("Docos.OptionName.DELETE_DIALOG_SHOW","delete-dialog-show",void 0);pa("Docos.OptionName.DIALOG_CLOSED","dialog-closed",void 0);pa("Docos.OptionName.DIALOG_OPENED","dialog-opened",void 0);
pa("Docos.OptionName.DISABLE_FOCUS","disable-focus",void 0);pa("Docos.OptionName.DISABLE_STREAM_PANE_FOCUS_WRAPPING","disable-spfw",void 0);pa("Docos.OptionName.DOC_SCROLLER","docscroller",void 0);pa("Docos.OptionName.ENABLE_COMMENT_BUTTON","enable-comment-button",void 0);pa("Docos.OptionName.ENABLE_GSUITE_EMBEDDING","enable-gsuite-embedding",void 0);pa("Docos.OptionName.ENABLE_INSTANT_MENTIONS","enable-instant-mentions",void 0);pa("Docos.OptionName.ENABLE_LAZY_LOADING","enable-lazy-loading",void 0);
pa("Docos.OptionName.ENABLE_PRESENCE_MODAL","enable-presence-modal",void 0);pa("Docos.OptionName.ENABLE_NEW_DELETE_UI","enable-new-delete-ui",void 0);pa("Docos.OptionName.ENABLE_ALL_DOCOS_IN_ANCHORED_STREAM","enable-all-docos-in-anchored-stream",void 0);pa("Docos.OptionName.ENABLE_ROVING_TABINDEX","enable-roving-tabindex",void 0);pa("Docos.OptionName.ENABLE_TRACK_MOUSE_POSITIONS_IN_DOCO_VIEW","enable-track-mouse-positions-in-doco-view",void 0);
pa("Docos.OptionName.FATAL_READONLY","fatal-readonly",void 0);pa("Docos.OptionName.HIDE_NOTIFICATION_SETTINGS","hide-notification",void 0);pa("Docos.OptionName.HIDE_PROMO_FN","hidepromofn",void 0);pa("Docos.OptionName.IGNORE_POSITIONAL_HISTORY","iph",void 0);pa("Docos.OptionName.IMPRESSION_RECORDER_FN","impression-recorder-fn",void 0);pa("Docos.OptionName.INACTIVE_DOCO_INDENT","inactive-doco-indent",void 0);pa("Docos.OptionName.INSTANT_DOCOS_DIV","instant-docos-div",void 0);
pa("Docos.OptionName.INTERCEPT_DOCO_EDIT_FN","intercept-docos-edit-fn",void 0);pa("Docos.OptionName.IS_AN_ILLEGAL_WRITE_FUNCTION","is-an-illegal-write-fn",void 0);pa("Docos.OptionName.IO","i",void 0);pa("Docos.OptionName.IS_UNTRUSTED_IFRAME","untrusted-iframe",void 0);pa("Docos.OptionName.KEY_DATA","kd",void 0);pa("Docos.OptionName.LATENCY_REPORTER","latency-reporter",void 0);pa("Docos.OptionName.MEMORY_MONITOR_FN","memory-monitor-fn",void 0);pa("Docos.OptionName.LAYOUT","layout",void 0);
pa("Docos.OptionName.LAYOUT_RTL","layoutrtl",void 0);pa("Docos.OptionName.LINK_OPENER","link-opener",void 0);pa("Docos.OptionName.LISTENERS","listeners",void 0);pa("Docos.OptionName.LOAD_ACL_FIXER_FN","load-acl-fixer-fn",void 0);pa("Docos.OptionName.LOCAL","l",void 0);pa("Docos.OptionName.LOG_LATENCY_EVENT_FN","log-latency-event-fn",void 0);pa("Docos.OptionName.MAX_DOCO_HEIGHT","maxheight",void 0);pa("Docos.OptionName.MODAL_DIALOG_Z_INDEX","modal-dialog-z-index",void 0);
pa("Docos.OptionName.OFFLINE","offline",void 0);pa("Docos.OptionName.OVERFLOW_MENU_ITEMS","overflow-menu-items",void 0);pa("Docos.OptionName.OVERFLOW_MENU_SHOW_LINK","overflow-menu-show-link",void 0);pa("Docos.OptionName.PANE_DIV","panediv",void 0);pa("Docos.OptionName.PANE_KB_DIV","panekbdiv",void 0);pa("Docos.OptionName.PRESENCE_MODAL_SHOW","presence-modal-show",void 0);pa("Docos.OptionName.SHOW_ERRORS","showerrors",void 0);pa("Docos.OptionName.TOOLTIP_MANAGER","tooltip-manager",void 0);
pa("Docos.OptionName.QUOTE_FN","quotefn",void 0);pa("Docos.OptionName.QUOTE_RENDER_FN","quoterenderfn",void 0);pa("Docos.OptionName.READONLY","readonly",void 0);pa("Docos.OptionName.RESOLVE","resolve",void 0);pa("Docos.OptionName.SCROLL_CONTAINER","container",void 0);pa("Docos.OptionName.SCROLL_CONTAINER_DIV","containerdiv",void 0);pa("Docos.OptionName.SET_TOTAL_DOCOS_COUNTS_FN","set-total-docos-counts-fn",void 0);pa("Docos.OptionName.SHOW_PROMO_FN","showpromofn",void 0);
pa("Docos.OptionName.SORT_PANE","sortpane",void 0);pa("Docos.OptionName.SORT_PANE_BY","sortpaneby",void 0);pa("Docos.OptionName.STORAGE","storage",void 0);pa("Docos.OptionName.STORAGE_IS_READ_ONLY","storage-ro",void 0);pa("Docos.OptionName.STREAM_BUTTON","stream-button",void 0);pa("Docos.OptionName.STREAM_PANE_BANNER_LEARN_MORE_URL","stream-pane-banner-learn-more-url",void 0);pa("Docos.OptionName.STREAM_PANE_BANNER_MESSAGE","stream-pane-banner-message",void 0);
pa("Docos.OptionName.SYNC_ONCE","so",void 0);pa("Docos.OptionName.UI_VERSION","ui-version",void 0);pa("Docos.OptionName.USER_COLOR_FROM_NAME_PROVIDER_FN","user-color-provider-from-name-fn",void 0);pa("Docos.OptionName.USER_COLOR_PROVIDER_FN","user-color-provider-fn",void 0);pa("Docos.OptionName.STATIC_INPUT_PANE_MESSAGE","static-input-pane-message",void 0);pa("Docos.EventType.BEFORE_DOCO_DELETED","before-doco-deleted",void 0);pa("Docos.EventType.BEFORE_SELECTED","before-selected",void 0);
pa("Docos.EventType.BEFORE_SUGGESTION_ACCEPTED","before-suggestion-accepted",void 0);pa("Docos.EventType.BEFORE_SUGGESTION_REJECTED","before-suggestion-rejected",void 0);pa("Docos.EventType.BOUNDS_UPDATED","bounds",void 0);pa("Docos.EventType.CONVERTED","converted",void 0);pa("Docos.EventType.CREATE_DRAFT","create-draft",void 0);pa("Docos.EventType.CREATED","created",void 0);pa("Docos.EventType.DELETED","deleted",void 0);
pa("Docos.EventType.DISABLE_SMART_TODO_FEATURE","disable-smart-todo-feature",void 0);pa("Docos.EventType.DOCO_RENDERED","doco-rendered",void 0);pa("Docos.EventType.HIGHLIGHT_INITIAL_DOCO","highlight-initial-doco",void 0);pa("Docos.EventType.HOVER","hover",void 0);pa("Docos.EventType.INITIAL_ANCHORED_RENDER_DONE","initial-anchored-render-done",void 0);pa("Docos.EventType.INITIAL_PANE_RENDER_DONE","initial-pane-render-done",void 0);pa("Docos.EventType.INITIAL_SYNC_ERROR","sync-error",void 0);
pa("Docos.EventType.INITIAL_SYNC_SUCCESS","sync-success",void 0);pa("Docos.EventType.INITIAL_SYNC_AND_RENDER_COMPLETE","initial-sync-and-render-complete",void 0);pa("Docos.EventType.LINKED_DOCO_HIGHLIGHTED","linked-doco-highlighted",void 0);pa("Docos.EventType.MODEL_LOADED","model-loaded",void 0);pa("Docos.EventType.NETWORK_ERROR","net-error",void 0);pa("Docos.EventType.PENDING","pending",void 0);pa("Docos.EventType.POSTED","posted",void 0);pa("Docos.EventType.REANCHOR","reanchor",void 0);
pa("Docos.EventType.RESOLVED","resolved",void 0);pa("Docos.EventType.SELECTED","selected",void 0);pa("Docos.EventType.TOGGLE_SHOW_STREAM_PANE","toggle-show-stream-pane",void 0);pa("Docos.EventType.UNRESOLVED","unresolved",void 0);pa("Docos.EventType.VIEW_FLUSHED","view-updated",void 0);pa("Docos.EventType.WRITE_FEEDBACK","write-feedback",void 0);pa("Docos.AccessLevel.READONLY","readonly",void 0);pa("Docos.AccessLevel.SUGGEST","suggest",void 0);pa("Docos.AccessLevel.FULL","full",void 0);
pa("Docos.NewDocoType",npd,void 0);pa("Docos.NewDocoType.CLIENT_INTEGRATED_DRAFT","client-integrated-draft",void 0);pa("Docos.NewDocoType.DISCUSSION","discussion",void 0);pa("Docos.NewDocoType.DRAFT","draft",void 0);pa("Docos.NewDocoType.INSTANT_DOCO","instant-doco",void 0);pa("Docos.NewDocoType.SMART_TODO","smart-todo",void 0);pa("Docos.NewDocoType.SUGGESTION","suggestion",void 0);pa("Docos.prototype.dispose",U7.prototype.dispose,void 0);pa("Docos.CountField.ACCEPTED","accepted",void 0);
pa("Docos.CountField.DRAFT","draft",void 0);pa("Docos.CountField.OPEN","open",void 0);pa("Docos.CountField.REJECTED","rejected",void 0);pa("Docos.CountField.RESOLVED","resolved",void 0);pa("Docos.CountField.TOTAL","total",void 0);pa("Docos.FeedbackSource.SMART_TODO","smart-todo",void 0);window.closure_verification&&(window.closure_verification.dcs_main_js={});function nDh(){lLg.apply(this,arguments)}t(nDh,lLg);pK("docosbundled",nDh);
